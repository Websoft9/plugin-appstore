{"ast":null,"code":"import _slicedToArray from \"/data/stackhub-web/plugins/myapps/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from 'react';\nexport var CompoundComponentContext = /*#__PURE__*/React.createContext(null);\nCompoundComponentContext.displayName = 'CompoundComponentContext';\n/**\n * Sorts the subitems by their position in the DOM.\n */\nfunction sortSubitems(subitems) {\n  var subitemsArray = Array.from(subitems.keys()).map(function (key) {\n    var subitem = subitems.get(key);\n    return {\n      key: key,\n      subitem: subitem\n    };\n  });\n  subitemsArray.sort(function (a, b) {\n    var aNode = a.subitem.ref.current;\n    var bNode = b.subitem.ref.current;\n    if (aNode === null || bNode === null || aNode === bNode) {\n      return 0;\n    }\n\n    // eslint-disable-next-line no-bitwise\n    return aNode.compareDocumentPosition(bNode) & Node.DOCUMENT_POSITION_PRECEDING ? 1 : -1;\n  });\n  return new Map(subitemsArray.map(function (item) {\n    return [item.key, item.subitem];\n  }));\n}\n\n/**\n * Provides a way for a component to know about its children.\n *\n * Child components register themselves with the `useCompoundItem` hook, passing in arbitrary metadata to the parent.\n *\n * This is a more powerful altervantive to `children` traversal, as child components don't have to be placed\n * directly inside the parent component. They can be anywhere in the tree (and even rendered by other components).\n *\n * The downside is that this doesn't work with SSR as it relies on the useEffect hook.\n *\n * @ignore - internal hook.\n */\nexport function useCompoundParent() {\n  var _React$useState = React.useState(new Map()),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    subitems = _React$useState2[0],\n    setSubitems = _React$useState2[1];\n  var subitemKeys = React.useRef(new Set());\n  var deregisterItem = React.useCallback(function deregisterItem(id) {\n    subitemKeys.current.delete(id);\n    setSubitems(function (previousState) {\n      var newState = new Map(previousState);\n      newState.delete(id);\n      return newState;\n    });\n  }, []);\n  var registerItem = React.useCallback(function registerItem(id, item) {\n    var providedOrGeneratedId;\n    if (typeof id === 'function') {\n      providedOrGeneratedId = id(subitemKeys.current);\n    } else {\n      providedOrGeneratedId = id;\n    }\n    subitemKeys.current.add(providedOrGeneratedId);\n    setSubitems(function (previousState) {\n      var newState = new Map(previousState);\n      newState.set(providedOrGeneratedId, item);\n      return newState;\n    });\n    return {\n      id: providedOrGeneratedId,\n      deregister: function deregister() {\n        return deregisterItem(providedOrGeneratedId);\n      }\n    };\n  }, [deregisterItem]);\n  var sortedSubitems = React.useMemo(function () {\n    return sortSubitems(subitems);\n  }, [subitems]);\n  var getItemIndex = React.useCallback(function getItemIndex(id) {\n    return Array.from(sortedSubitems.keys()).indexOf(id);\n  }, [sortedSubitems]);\n  return {\n    contextValue: {\n      getItemIndex: getItemIndex,\n      registerItem: registerItem,\n      totalSubitemCount: subitems.size\n    },\n    subitems: sortedSubitems\n  };\n}","map":{"version":3,"names":["React","CompoundComponentContext","createContext","displayName","sortSubitems","subitems","subitemsArray","Array","from","keys","map","key","subitem","get","sort","a","b","aNode","ref","current","bNode","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","Map","item","useCompoundParent","_React$useState","useState","_React$useState2","_slicedToArray","setSubitems","subitemKeys","useRef","Set","deregisterItem","useCallback","id","delete","previousState","newState","registerItem","providedOrGeneratedId","add","set","deregister","sortedSubitems","useMemo","getItemIndex","indexOf","contextValue","totalSubitemCount","size"],"sources":["/data/stackhub-web/plugins/myapps/node_modules/@mui/base/utils/useCompound.js"],"sourcesContent":["import * as React from 'react';\nexport const CompoundComponentContext = /*#__PURE__*/React.createContext(null);\nCompoundComponentContext.displayName = 'CompoundComponentContext';\n/**\n * Sorts the subitems by their position in the DOM.\n */\nfunction sortSubitems(subitems) {\n  const subitemsArray = Array.from(subitems.keys()).map(key => {\n    const subitem = subitems.get(key);\n    return {\n      key,\n      subitem\n    };\n  });\n  subitemsArray.sort((a, b) => {\n    const aNode = a.subitem.ref.current;\n    const bNode = b.subitem.ref.current;\n    if (aNode === null || bNode === null || aNode === bNode) {\n      return 0;\n    }\n\n    // eslint-disable-next-line no-bitwise\n    return aNode.compareDocumentPosition(bNode) & Node.DOCUMENT_POSITION_PRECEDING ? 1 : -1;\n  });\n  return new Map(subitemsArray.map(item => [item.key, item.subitem]));\n}\n\n/**\n * Provides a way for a component to know about its children.\n *\n * Child components register themselves with the `useCompoundItem` hook, passing in arbitrary metadata to the parent.\n *\n * This is a more powerful altervantive to `children` traversal, as child components don't have to be placed\n * directly inside the parent component. They can be anywhere in the tree (and even rendered by other components).\n *\n * The downside is that this doesn't work with SSR as it relies on the useEffect hook.\n *\n * @ignore - internal hook.\n */\nexport function useCompoundParent() {\n  const [subitems, setSubitems] = React.useState(new Map());\n  const subitemKeys = React.useRef(new Set());\n  const deregisterItem = React.useCallback(function deregisterItem(id) {\n    subitemKeys.current.delete(id);\n    setSubitems(previousState => {\n      const newState = new Map(previousState);\n      newState.delete(id);\n      return newState;\n    });\n  }, []);\n  const registerItem = React.useCallback(function registerItem(id, item) {\n    let providedOrGeneratedId;\n    if (typeof id === 'function') {\n      providedOrGeneratedId = id(subitemKeys.current);\n    } else {\n      providedOrGeneratedId = id;\n    }\n    subitemKeys.current.add(providedOrGeneratedId);\n    setSubitems(previousState => {\n      const newState = new Map(previousState);\n      newState.set(providedOrGeneratedId, item);\n      return newState;\n    });\n    return {\n      id: providedOrGeneratedId,\n      deregister: () => deregisterItem(providedOrGeneratedId)\n    };\n  }, [deregisterItem]);\n  const sortedSubitems = React.useMemo(() => sortSubitems(subitems), [subitems]);\n  const getItemIndex = React.useCallback(function getItemIndex(id) {\n    return Array.from(sortedSubitems.keys()).indexOf(id);\n  }, [sortedSubitems]);\n  return {\n    contextValue: {\n      getItemIndex,\n      registerItem,\n      totalSubitemCount: subitems.size\n    },\n    subitems: sortedSubitems\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}