{"ast":null,"code":"import React,{Suspense,useCallback,useEffect}from'react';import{Container}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{Outlet}from'react-router-dom';// actions\nimport{changeSidebarType}from'../redux/actions';// constants\nimport*as layoutConstants from'../constants/layout';// components\n// utils\nimport{changeBodyAttribute}from'../utils/';// code splitting and lazy loading\n// https://blog.logrocket.com/lazy-loading-components-in-react-16-6-6cea535c0b52\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Topbar=/*#__PURE__*/React.lazy(function(){return import('./Topbar');});var loading=function loading(){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center\"});};var DetachedLayout=function DetachedLayout(_ref,state){var children=_ref.children;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{layoutColor:state.Layout.layoutColor,layoutWidth:state.Layout.layoutWidth};}),layoutColor=_useSelector.layoutColor;/*\n     * layout defaults\n     */useEffect(function(){changeBodyAttribute('data-layout',layoutConstants.LAYOUT_DETACHED);changeBodyAttribute('data-layout-mode',layoutConstants.LAYOUT_WIDTH_FLUID);},[]);useEffect(function(){changeBodyAttribute('data-layout-color',layoutColor);},[layoutColor]);var updateDimensions=useCallback(function(){// activate the condensed sidebar if smaller devices like ipad or tablet\nif(window.innerWidth>=768&&window.innerWidth<=1028){dispatch(changeSidebarType(layoutConstants.LEFT_SIDEBAR_TYPE_CONDENSED));}else if(window.innerWidth>1028){dispatch(changeSidebarType(layoutConstants.LEFT_SIDEBAR_TYPE_FIXED));}},[dispatch]);useEffect(function(){window.addEventListener('resize',updateDimensions);return function(){window.removeEventListener('resize',updateDimensions);};},[dispatch,updateDimensions]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Suspense,{fallback:loading(),children:/*#__PURE__*/_jsx(Topbar,{navCssClasses:\"topnav-navbar\",topbarDark:true})}),/*#__PURE__*/_jsx(Container,{fluid:true,style:{marginTop:\"100px\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(Outlet,{})})})})})]});};export default DetachedLayout;","map":{"version":3,"names":["React","Suspense","useCallback","useEffect","Container","useDispatch","useSelector","Outlet","changeSidebarType","layoutConstants","changeBodyAttribute","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Topbar","lazy","loading","className","DetachedLayout","_ref","state","children","dispatch","_useSelector","layoutColor","Layout","layoutWidth","LAYOUT_DETACHED","LAYOUT_WIDTH_FLUID","updateDimensions","window","innerWidth","LEFT_SIDEBAR_TYPE_CONDENSED","LEFT_SIDEBAR_TYPE_FIXED","addEventListener","removeEventListener","fallback","navCssClasses","topbarDark","fluid","style","marginTop"],"sources":["/data/stackhub-web/plugins/myapps/src/layouts/Detached.js"],"sourcesContent":["// @flow\nimport React, { Suspense, useCallback, useEffect } from 'react';\nimport { Container } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Outlet } from 'react-router-dom';\n\n// actions\nimport { changeSidebarType } from '../redux/actions';\n\n// constants\nimport * as layoutConstants from '../constants/layout';\n\n// components\n\n// utils\nimport { changeBodyAttribute } from '../utils/';\n\n// code splitting and lazy loading\n// https://blog.logrocket.com/lazy-loading-components-in-react-16-6-6cea535c0b52\nconst Topbar = React.lazy(() => import('./Topbar'));\n\nconst loading = () => <div className=\"text-center\"></div>;\n\ntype VerticalLayoutProps = {\n    children?: any,\n};\n\ntype VerticalLayoutState = {\n    isMenuOpened?: boolean,\n};\n\nconst DetachedLayout = ({ children }: VerticalLayoutProps, state: VerticalLayoutState): React$Element<any> => {\n    const dispatch = useDispatch();\n    const { layoutColor, } = useSelector((state) => ({\n        layoutColor: state.Layout.layoutColor,\n        layoutWidth: state.Layout.layoutWidth,\n    }));\n\n    /*\n     * layout defaults\n     */\n    useEffect(() => {\n        changeBodyAttribute('data-layout', layoutConstants.LAYOUT_DETACHED);\n        changeBodyAttribute('data-layout-mode', layoutConstants.LAYOUT_WIDTH_FLUID);\n    }, []);\n\n    useEffect(() => {\n        changeBodyAttribute('data-layout-color', layoutColor);\n    }, [layoutColor]);\n\n\n    const updateDimensions = useCallback(() => {\n        // activate the condensed sidebar if smaller devices like ipad or tablet\n        if (window.innerWidth >= 768 && window.innerWidth <= 1028) {\n            dispatch(changeSidebarType(layoutConstants.LEFT_SIDEBAR_TYPE_CONDENSED));\n        } else if (window.innerWidth > 1028) {\n            dispatch(changeSidebarType(layoutConstants.LEFT_SIDEBAR_TYPE_FIXED));\n        }\n    }, [dispatch]);\n\n    useEffect(() => {\n        window.addEventListener('resize', updateDimensions);\n\n        return () => {\n            window.removeEventListener('resize', updateDimensions);\n        };\n    }, [dispatch, updateDimensions]);\n\n    return (\n        <>\n            <Suspense fallback={loading()}>\n                <Topbar navCssClasses=\"topnav-navbar\" topbarDark={true} />\n            </Suspense>\n            <Container fluid style={{ marginTop: \"100px\" }}>\n                <div className=\"wrapper\">\n                    <div className=\"content-page\">\n                        <div className=\"content\">\n                            <Outlet />\n                        </div>\n                    </div>\n                </div>\n            </Container>\n        </>\n    );\n};\n\nexport default DetachedLayout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}