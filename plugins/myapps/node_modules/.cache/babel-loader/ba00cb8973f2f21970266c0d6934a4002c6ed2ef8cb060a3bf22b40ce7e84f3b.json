{"ast":null,"code":"import getVariation from './getVariation';\nimport { variationPlacements, basePlacements, placements as allPlacements } from '../enums';\nimport detectOverflow from './detectOverflow';\nimport getBasePlacement from './getBasePlacement';\n/* :: type OverflowsMap = { [ComputedPlacement]: number }; */\n/* ;; type OverflowsMap = { [key in ComputedPlacement]: number }; */\n/**\n * @param state\n * @param options\n */\nexport default function computeAutoPlacement(state) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var placement = options.placement,\n    boundary = options.boundary,\n    rootBoundary = options.rootBoundary,\n    padding = options.padding,\n    flipVariations = options.flipVariations,\n    _options$allowedAutoP = options.allowedAutoPlacements,\n    allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  // $FlowFixMe\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n    if (false /* __DEV__*/) {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  }\n  // $FlowFixMe: Flow seems to have problems with two array unions...\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","map":{"version":3,"names":["getVariation","variationPlacements","basePlacements","placements","allPlacements","detectOverflow","getBasePlacement","computeAutoPlacement","state","options","arguments","length","undefined","placement","boundary","rootBoundary","padding","flipVariations","_options$allowedAutoP","allowedAutoPlacements","variation","filter","allowedPlacements","indexOf","console","error","join","overflows","reduce","acc","Object","keys","sort","a","b"],"sources":["/data/stackhub-web/plugins/myapps/node_modules/@patternfly/react-core/src/helpers/Popper/thirdparty/popper-core/utils/computeAutoPlacement.ts"],"sourcesContent":["// @ts-nocheck\nimport { State, Padding } from '../types';\nimport { Placement, ComputedPlacement, Boundary, RootBoundary } from '../enums';\nimport getVariation from './getVariation';\nimport { variationPlacements, basePlacements, placements as allPlacements } from '../enums';\nimport detectOverflow from './detectOverflow';\nimport getBasePlacement from './getBasePlacement';\n\ninterface Options {\n  placement: Placement;\n  padding: Padding;\n  boundary: Boundary;\n  rootBoundary: RootBoundary;\n  flipVariations: boolean;\n  allowedAutoPlacements?: Placement[];\n}\n\n/* :: type OverflowsMap = { [ComputedPlacement]: number }; */\n\n/* ;; type OverflowsMap = { [key in ComputedPlacement]: number }; */\n\n/**\n * @param state\n * @param options\n */\nexport default function computeAutoPlacement(state: Partial<State>, options: Options = {}): ComputedPlacement[] {\n  const { placement, boundary, rootBoundary, padding, flipVariations, allowedAutoPlacements = allPlacements } = options;\n\n  const variation = getVariation(placement);\n\n  const placements = variation\n    ? flipVariations\n      ? variationPlacements\n      : variationPlacements.filter(placement => getVariation(placement) === variation)\n    : basePlacements;\n\n  // $FlowFixMe\n  let allowedPlacements = placements.filter(placement => allowedAutoPlacements.indexOf(placement) >= 0);\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (false /* __DEV__*/) {\n      console.error(\n        [\n          'Popper: The `allowedAutoPlacements` option did not allow any',\n          'placements. Ensure the `placement` option matches the variation',\n          'of the allowed placements.',\n          'For example, \"auto\" cannot be used to allow \"bottom-start\".',\n          'Use \"auto-start\" instead.'\n        ].join(' ')\n      );\n    }\n  }\n\n  // $FlowFixMe: Flow seems to have problems with two array unions...\n  const overflows: OverflowsMap = allowedPlacements.reduce((acc, placement) => {\n    acc[placement] = detectOverflow(state, {\n      placement,\n      boundary,\n      rootBoundary,\n      padding\n    })[getBasePlacement(placement)];\n\n    return acc;\n  }, {});\n\n  return Object.keys(overflows).sort((a, b) => overflows[a] - overflows[b]);\n}\n"],"mappings":"AAGA,OAAOA,YAAY,MAAM,gBAAgB;AACzC,SAASC,mBAAmB,EAAEC,cAAc,EAAEC,UAAU,IAAIC,aAAa,QAAQ,UAAU;AAC3F,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,gBAAgB,MAAM,oBAAoB;AAWjD;AAEA;AAEA;;;;AAIA,eAAc,SAAUC,oBAAoBA,CAACC,KAAqB,EAAuB;EAAA,IAArBC,OAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAmB,EAAE;EACvF,IAAQG,SAAS,GAA6FJ,OAAO,CAA7GI,SAAS;IAAEC,QAAQ,GAAmFL,OAAO,CAAlGK,QAAQ;IAAEC,YAAY,GAAqEN,OAAO,CAAxFM,YAAY;IAAEC,OAAO,GAA4DP,OAAO,CAA1EO,OAAO;IAAEC,cAAc,GAA4CR,OAAO,CAAjEQ,cAAc;IAAAC,qBAAA,GAA4CT,OAAO,CAAjDU,qBAAqB;IAArBA,qBAAqB,GAAAD,qBAAA,cAAGd,aAAa,GAAAc,qBAAA;EAEzG,IAAME,SAAS,GAAGpB,YAAY,CAACa,SAAS,CAAC;EAEzC,IAAMV,UAAU,GAAGiB,SAAS,GACxBH,cAAc,GACZhB,mBAAmB,GACnBA,mBAAmB,CAACoB,MAAM,CAAC,UAAAR,SAAS;IAAA,OAAIb,YAAY,CAACa,SAAS,CAAC,KAAKO,SAAS;EAAA,EAAC,GAChFlB,cAAc;EAElB;EACA,IAAIoB,iBAAiB,GAAGnB,UAAU,CAACkB,MAAM,CAAC,UAAAR,SAAS;IAAA,OAAIM,qBAAqB,CAACI,OAAO,CAACV,SAAS,CAAC,IAAI,CAAC;EAAA,EAAC;EAErG,IAAIS,iBAAiB,CAACX,MAAM,KAAK,CAAC,EAAE;IAClCW,iBAAiB,GAAGnB,UAAU;IAE9B,IAAI,KAAK,CAAC,cAAc;MACtBqB,OAAO,CAACC,KAAK,CACX,CACE,8DAA8D,EAC9D,iEAAiE,EACjE,4BAA4B,EAC5B,6DAA6D,EAC7D,2BAA2B,CAC5B,CAACC,IAAI,CAAC,GAAG,CAAC,CACZ;;;EAIL;EACA,IAAMC,SAAS,GAAiBL,iBAAiB,CAACM,MAAM,CAAC,UAACC,GAAG,EAAEhB,SAAS,EAAI;IAC1EgB,GAAG,CAAChB,SAAS,CAAC,GAAGR,cAAc,CAACG,KAAK,EAAE;MACrCK,SAAS,EAATA,SAAS;MACTC,QAAQ,EAARA,QAAQ;MACRC,YAAY,EAAZA,YAAY;MACZC,OAAO,EAAPA;KACD,CAAC,CAACV,gBAAgB,CAACO,SAAS,CAAC,CAAC;IAE/B,OAAOgB,GAAG;EACZ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOC,MAAM,CAACC,IAAI,CAACJ,SAAS,CAAC,CAACK,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC;IAAA,OAAKP,SAAS,CAACM,CAAC,CAAC,GAAGN,SAAS,CAACO,CAAC,CAAC;EAAA,EAAC;AAC3E"},"metadata":{},"sourceType":"module","externalDependencies":[]}