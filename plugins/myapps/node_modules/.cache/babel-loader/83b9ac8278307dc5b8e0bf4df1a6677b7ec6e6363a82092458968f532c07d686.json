{"ast":null,"code":"import _classCallCheck from \"/data/stackhub-web/plugins/myapps/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/data/stackhub-web/plugins/myapps/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n// A [trie](https://en.wikipedia.org/wiki/Trie) data structure that holds\n// object keys weakly, yet can also hold non-object keys, unlike the\n// native `WeakMap`.\n// If no makeData function is supplied, the looked-up data will be an empty,\n// null-prototype Object.\nvar defaultMakeData = function defaultMakeData() {\n  return Object.create(null);\n};\n// Useful for processing arguments objects as well as arrays.\nvar _Array$prototype = Array.prototype,\n  forEach = _Array$prototype.forEach,\n  slice = _Array$prototype.slice;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport var Trie = /*#__PURE__*/function () {\n  function Trie() {\n    var weakness = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var makeData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultMakeData;\n    _classCallCheck(this, Trie);\n    this.weakness = weakness;\n    this.makeData = makeData;\n  }\n  _createClass(Trie, [{\n    key: \"lookup\",\n    value: function lookup() {\n      for (var _len = arguments.length, array = new Array(_len), _key = 0; _key < _len; _key++) {\n        array[_key] = arguments[_key];\n      }\n      return this.lookupArray(array);\n    }\n  }, {\n    key: \"lookupArray\",\n    value: function lookupArray(array) {\n      var node = this;\n      forEach.call(array, function (key) {\n        return node = node.getChildTrie(key);\n      });\n      return hasOwnProperty.call(node, \"data\") ? node.data : node.data = this.makeData(slice.call(array));\n    }\n  }, {\n    key: \"peek\",\n    value: function peek() {\n      for (var _len2 = arguments.length, array = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        array[_key2] = arguments[_key2];\n      }\n      return this.peekArray(array);\n    }\n  }, {\n    key: \"peekArray\",\n    value: function peekArray(array) {\n      var node = this;\n      for (var i = 0, len = array.length; node && i < len; ++i) {\n        var map = this.weakness && isObjRef(array[i]) ? node.weak : node.strong;\n        node = map && map.get(array[i]);\n      }\n      return node && node.data;\n    }\n  }, {\n    key: \"getChildTrie\",\n    value: function getChildTrie(key) {\n      var map = this.weakness && isObjRef(key) ? this.weak || (this.weak = new WeakMap()) : this.strong || (this.strong = new Map());\n      var child = map.get(key);\n      if (!child) map.set(key, child = new Trie(this.weakness, this.makeData));\n      return child;\n    }\n  }]);\n  return Trie;\n}();\nfunction isObjRef(value) {\n  switch (typeof value) {\n    case \"object\":\n      if (value === null) break;\n    // Fall through to return true...\n    case \"function\":\n      return true;\n  }\n  return false;\n}","map":{"version":3,"names":["defaultMakeData","Object","create","_Array$prototype","Array","prototype","forEach","slice","hasOwnProperty","Trie","weakness","arguments","length","undefined","makeData","_classCallCheck","_createClass","key","value","lookup","_len","array","_key","lookupArray","node","call","getChildTrie","data","peek","_len2","_key2","peekArray","i","len","map","isObjRef","weak","strong","get","WeakMap","Map","child","set"],"sources":["/data/stackhub-web/plugins/myapps/node_modules/@wry/trie/src/index.ts"],"sourcesContent":["// A [trie](https://en.wikipedia.org/wiki/Trie) data structure that holds\n// object keys weakly, yet can also hold non-object keys, unlike the\n// native `WeakMap`.\n\n// If no makeData function is supplied, the looked-up data will be an empty,\n// null-prototype Object.\nconst defaultMakeData = () => Object.create(null);\n\n// Useful for processing arguments objects as well as arrays.\nconst { forEach, slice } = Array.prototype;\nconst { hasOwnProperty } = Object.prototype;\n\nexport class Trie<Data> {\n  // Since a `WeakMap` cannot hold primitive values as keys, we need a\n  // backup `Map` instance to hold primitive keys. Both `this._weakMap`\n  // and `this._strongMap` are lazily initialized.\n  private weak?: WeakMap<any, Trie<Data>>;\n  private strong?: Map<any, Trie<Data>>;\n  private data?: Data;\n\n  constructor(\n    private weakness = true,\n    private makeData: (array: any[]) => Data = defaultMakeData,\n  ) {}\n\n  public lookup<T extends any[]>(...array: T): Data {\n    return this.lookupArray(array);\n  }\n\n  public lookupArray<T extends IArguments | any[]>(array: T): Data {\n    let node: Trie<Data> = this;\n    forEach.call(array, key => node = node.getChildTrie(key));\n    return hasOwnProperty.call(node, \"data\")\n      ? node.data as Data\n      : node.data = this.makeData(slice.call(array));\n  }\n\n  public peek<T extends any[]>(...array: T): Data | undefined {\n    return this.peekArray(array);\n  }\n\n  public peekArray<T extends IArguments | any[]>(array: T): Data | undefined {\n    let node: Trie<Data> | undefined = this;\n\n    for (let i = 0, len = array.length; node && i < len; ++i) {\n      const map: Trie<Data>[\"weak\" | \"strong\"] =\n        this.weakness && isObjRef(array[i]) ? node.weak : node.strong;\n\n      node = map && map.get(array[i]);\n    }\n\n    return node && node.data;\n  }\n\n  private getChildTrie(key: any) {\n    const map = this.weakness && isObjRef(key)\n      ? this.weak || (this.weak = new WeakMap<any, Trie<Data>>())\n      : this.strong || (this.strong = new Map<any, Trie<Data>>());\n    let child = map.get(key);\n    if (!child) map.set(key, child = new Trie<Data>(this.weakness, this.makeData));\n    return child;\n  }\n}\n\nfunction isObjRef(value: any) {\n  switch (typeof value) {\n  case \"object\":\n    if (value === null) break;\n    // Fall through to return true...\n  case \"function\":\n    return true;\n  }\n  return false;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}