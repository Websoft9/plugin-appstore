{"ast":null,"code":"import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/DualListSelector/dual-list-selector';\nimport { css } from '@patternfly/react-styles';\nimport { handleArrows } from '../../helpers';\nexport var DualListSelectorControlsWrapperBase = function DualListSelectorControlsWrapperBase(_a) {\n  var innerRef = _a.innerRef,\n    _a$children = _a.children,\n    children = _a$children === void 0 ? null : _a$children,\n    className = _a.className,\n    _a$ariaLabel = _a['aria-label'],\n    ariaLabel = _a$ariaLabel === void 0 ? 'Controls for moving options between lists' : _a$ariaLabel,\n    props = __rest(_a, [\"innerRef\", \"children\", \"className\", 'aria-label']);\n  var ref = React.useRef(null);\n  var wrapperRef = innerRef || ref;\n  // Adds keyboard navigation to the dynamically built dual list selector controls. Works when controls are dynamically built\n  // as well as when they are passed in via children.\n  var handleKeys = function handleKeys(event) {\n    if (!wrapperRef.current || wrapperRef.current !== event.target.closest('.pf-c-dual-list-selector__controls') && !Array.from(wrapperRef.current.getElementsByClassName('pf-c-dual-list-selector__controls')).includes(event.target.closest('.pf-c-dual-list-selector__controls'))) {\n      return;\n    }\n    event.stopImmediatePropagation();\n    var controls = Array.from(wrapperRef.current.getElementsByTagName('BUTTON')).filter(function (el) {\n      return !el.classList.contains('pf-m-disabled');\n    });\n    var activeElement = document.activeElement;\n    handleArrows(event, controls, function (element) {\n      return activeElement.contains(element);\n    }, function (element) {\n      return element;\n    }, undefined, undefined, true, false);\n  };\n  React.useEffect(function () {\n    window.addEventListener('keydown', handleKeys);\n    return function () {\n      window.removeEventListener('keydown', handleKeys);\n    };\n  }, [wrapperRef.current]);\n  return React.createElement(\"div\", Object.assign({\n    className: css(styles.dualListSelectorControls, className),\n    tabIndex: 0,\n    ref: wrapperRef,\n    \"aria-label\": ariaLabel\n  }, props), children);\n};\nDualListSelectorControlsWrapperBase.displayName = 'DualListSelectorControlsWrapperBase';\nexport var DualListSelectorControlsWrapper = React.forwardRef(function (props, ref) {\n  return React.createElement(DualListSelectorControlsWrapperBase, Object.assign({\n    innerRef: ref,\n    role: \"group\"\n  }, props));\n});\nDualListSelectorControlsWrapper.displayName = 'DualListSelectorControlsWrapper';","map":{"version":3,"names":["React","styles","css","handleArrows","DualListSelectorControlsWrapperBase","_a","innerRef","_a$children","children","className","_a$ariaLabel","ariaLabel","props","__rest","ref","useRef","wrapperRef","handleKeys","event","current","target","closest","Array","from","getElementsByClassName","includes","stopImmediatePropagation","controls","getElementsByTagName","filter","el","classList","contains","activeElement","document","element","undefined","useEffect","window","addEventListener","removeEventListener","createElement","Object","assign","dualListSelectorControls","tabIndex","displayName","DualListSelectorControlsWrapper","forwardRef","role"],"sources":["/data/stackhub-web/plugins/myapps/node_modules/@patternfly/react-core/src/components/DualListSelector/DualListSelectorControlsWrapper.tsx"],"sourcesContent":["import * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/DualListSelector/dual-list-selector';\nimport { css } from '@patternfly/react-styles';\nimport { handleArrows } from '../../helpers';\n\n/** Acts as the container for the DualListSelectorControl sub-components. */\n\nexport interface DualListSelectorControlsWrapperProps extends React.HTMLProps<HTMLDivElement> {\n  /** Anything that can be rendered inside of the wrapper. */\n  children?: React.ReactNode;\n  /** Additional classes added to the wrapper. */\n  className?: string;\n  /** @hide Forwarded ref */\n  innerRef?: React.RefObject<HTMLDivElement>;\n  /** Accessible label for the dual list selector controls wrapper. */\n  'aria-label'?: string;\n}\n\nexport const DualListSelectorControlsWrapperBase: React.FunctionComponent<DualListSelectorControlsWrapperProps> = ({\n  innerRef,\n  children = null,\n  className,\n  'aria-label': ariaLabel = 'Controls for moving options between lists',\n  ...props\n}: DualListSelectorControlsWrapperProps) => {\n  const ref = React.useRef(null);\n  const wrapperRef = innerRef || ref;\n  // Adds keyboard navigation to the dynamically built dual list selector controls. Works when controls are dynamically built\n  // as well as when they are passed in via children.\n  const handleKeys = (event: KeyboardEvent) => {\n    if (\n      !wrapperRef.current ||\n      (wrapperRef.current !== (event.target as HTMLElement).closest('.pf-c-dual-list-selector__controls') &&\n        !Array.from(wrapperRef.current.getElementsByClassName('pf-c-dual-list-selector__controls')).includes(\n          (event.target as HTMLElement).closest('.pf-c-dual-list-selector__controls')\n        ))\n    ) {\n      return;\n    }\n    event.stopImmediatePropagation();\n\n    const controls = (Array.from(wrapperRef.current.getElementsByTagName('BUTTON')) as Element[]).filter(\n      el => !el.classList.contains('pf-m-disabled')\n    );\n    const activeElement = document.activeElement;\n    handleArrows(\n      event,\n      controls,\n      (element: Element) => activeElement.contains(element),\n      (element: Element) => element,\n      undefined,\n      undefined,\n      true,\n      false\n    );\n  };\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleKeys);\n    return () => {\n      window.removeEventListener('keydown', handleKeys);\n    };\n  }, [wrapperRef.current]);\n\n  return (\n    <div\n      className={css(styles.dualListSelectorControls, className)}\n      tabIndex={0}\n      ref={wrapperRef}\n      aria-label={ariaLabel}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n};\n\nDualListSelectorControlsWrapperBase.displayName = 'DualListSelectorControlsWrapperBase';\n\nexport const DualListSelectorControlsWrapper = React.forwardRef(\n  (props: DualListSelectorControlsWrapperProps, ref: React.Ref<HTMLDivElement>) => (\n    <DualListSelectorControlsWrapperBase innerRef={ref as React.MutableRefObject<any>} role=\"group\" {...props} />\n  )\n);\n\nDualListSelectorControlsWrapper.displayName = 'DualListSelectorControlsWrapper';\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}