{"ast":null,"code":"import { Observable } from \"./Observable.js\";\nimport { canUseSymbol } from \"../common/canUse.js\";\nexport function fixObservableSubclass(subclass) {\n  function set(key) {\n    Object.defineProperty(subclass, key, {\n      value: Observable\n    });\n  }\n  if (canUseSymbol && Symbol.species) {\n    set(Symbol.species);\n  }\n  set(\"@@species\");\n  return subclass;\n}","map":{"version":3,"names":["Observable","canUseSymbol","fixObservableSubclass","subclass","set","key","Object","defineProperty","value","Symbol","species"],"sources":["/data/stackhub-web/plugins/myapps/node_modules/@apollo/src/utilities/observables/subclassing.ts"],"sourcesContent":["import { Observable } from \"./Observable\";\nimport { canUseSymbol } from \"../common/canUse\";\n\n// Generic implementations of Observable.prototype methods like map and\n// filter need to know how to create a new Observable from an Observable\n// subclass (like Concast or ObservableQuery). Those methods assume\n// (perhaps unwisely?) that they can call the subtype's constructor with a\n// Subscriber function, even though the subclass constructor might expect\n// different parameters. Defining this static Symbol.species property on\n// the subclass is a hint to generic Observable code to use the default\n// constructor instead of trying to do `new Subclass(observer => ...)`.\nexport function fixObservableSubclass<\n  S extends new (...args: any[]) => Observable<any>,\n>(subclass: S): S {\n  function set(key: symbol | string) {\n    // Object.defineProperty is necessary because the Symbol.species\n    // property is a getter by default in modern JS environments, so we\n    // can't assign to it with a normal assignment expression.\n    Object.defineProperty(subclass, key, { value: Observable });\n  }\n  if (canUseSymbol && Symbol.species) {\n    set(Symbol.species);\n  }\n  // The \"@@species\" string is used as a fake Symbol.species value in some\n  // polyfill systems (including the SymbolSpecies variable used by\n  // zen-observable), so we should set it as well, to be safe.\n  set(\"@@species\");\n  return subclass;\n}\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,iBAAe;AAC1C,SAASC,YAAY,QAAQ,qBAAmB;AAUhD,OAAM,SAAUC,qBAAqBA,CAEnCC,QAAW;EACX,SAASC,GAAGA,CAACC,GAAoB;IAI/BC,MAAM,CAACC,cAAc,CAACJ,QAAQ,EAAEE,GAAG,EAAE;MAAEG,KAAK,EAAER;IAAU,CAAE,CAAC;EAC7D;EACA,IAAIC,YAAY,IAAIQ,MAAM,CAACC,OAAO,EAAE;IAClCN,GAAG,CAACK,MAAM,CAACC,OAAO,CAAC;;EAKrBN,GAAG,CAAC,WAAW,CAAC;EAChB,OAAOD,QAAQ;AACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}