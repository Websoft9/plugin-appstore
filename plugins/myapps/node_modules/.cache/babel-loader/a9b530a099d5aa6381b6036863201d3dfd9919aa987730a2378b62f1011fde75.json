{"ast":null,"code":"import * as React from 'react';\nexport function createMessageBus() {\n  var listeners = new Map();\n  function subscribe(topic, callback) {\n    var topicListeners = listeners.get(topic);\n    if (!topicListeners) {\n      topicListeners = new Set([callback]);\n      listeners.set(topic, topicListeners);\n    } else {\n      topicListeners.add(callback);\n    }\n    return function () {\n      topicListeners.delete(callback);\n      if (topicListeners.size === 0) {\n        listeners.delete(topic);\n      }\n    };\n  }\n  function publish(topic) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    var topicListeners = listeners.get(topic);\n    if (topicListeners) {\n      topicListeners.forEach(function (callback) {\n        return callback.apply(void 0, args);\n      });\n    }\n  }\n  return {\n    subscribe: subscribe,\n    publish: publish\n  };\n}\n\n/**\n * @ignore - internal hook.\n */\nexport default function useMessageBus() {\n  var bus = React.useRef();\n  if (!bus.current) {\n    bus.current = createMessageBus();\n  }\n  return bus.current;\n}","map":{"version":3,"names":["React","createMessageBus","listeners","Map","subscribe","topic","callback","topicListeners","get","Set","set","add","delete","size","publish","_len","arguments","length","args","Array","_key","forEach","apply","useMessageBus","bus","useRef","current"],"sources":["/data/stackhub-web/plugins/myapps/node_modules/@mui/base/utils/useMessageBus.js"],"sourcesContent":["import * as React from 'react';\nexport function createMessageBus() {\n  const listeners = new Map();\n  function subscribe(topic, callback) {\n    let topicListeners = listeners.get(topic);\n    if (!topicListeners) {\n      topicListeners = new Set([callback]);\n      listeners.set(topic, topicListeners);\n    } else {\n      topicListeners.add(callback);\n    }\n    return () => {\n      topicListeners.delete(callback);\n      if (topicListeners.size === 0) {\n        listeners.delete(topic);\n      }\n    };\n  }\n  function publish(topic, ...args) {\n    const topicListeners = listeners.get(topic);\n    if (topicListeners) {\n      topicListeners.forEach(callback => callback(...args));\n    }\n  }\n  return {\n    subscribe,\n    publish\n  };\n}\n\n/**\n * @ignore - internal hook.\n */\nexport default function useMessageBus() {\n  const bus = React.useRef();\n  if (!bus.current) {\n    bus.current = createMessageBus();\n  }\n  return bus.current;\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAO,SAASC,gBAAgBA,CAAA,EAAG;EACjC,IAAMC,SAAS,GAAG,IAAIC,GAAG,CAAC,CAAC;EAC3B,SAASC,SAASA,CAACC,KAAK,EAAEC,QAAQ,EAAE;IAClC,IAAIC,cAAc,GAAGL,SAAS,CAACM,GAAG,CAACH,KAAK,CAAC;IACzC,IAAI,CAACE,cAAc,EAAE;MACnBA,cAAc,GAAG,IAAIE,GAAG,CAAC,CAACH,QAAQ,CAAC,CAAC;MACpCJ,SAAS,CAACQ,GAAG,CAACL,KAAK,EAAEE,cAAc,CAAC;IACtC,CAAC,MAAM;MACLA,cAAc,CAACI,GAAG,CAACL,QAAQ,CAAC;IAC9B;IACA,OAAO,YAAM;MACXC,cAAc,CAACK,MAAM,CAACN,QAAQ,CAAC;MAC/B,IAAIC,cAAc,CAACM,IAAI,KAAK,CAAC,EAAE;QAC7BX,SAAS,CAACU,MAAM,CAACP,KAAK,CAAC;MACzB;IACF,CAAC;EACH;EACA,SAASS,OAAOA,CAACT,KAAK,EAAW;IAAA,SAAAU,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAANC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,OAAAA,IAAA,WAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAJF,IAAI,CAAAE,IAAA,QAAAJ,SAAA,CAAAI,IAAA;IAAA;IAC7B,IAAMb,cAAc,GAAGL,SAAS,CAACM,GAAG,CAACH,KAAK,CAAC;IAC3C,IAAIE,cAAc,EAAE;MAClBA,cAAc,CAACc,OAAO,CAAC,UAAAf,QAAQ;QAAA,OAAIA,QAAQ,CAAAgB,KAAA,SAAIJ,IAAI,CAAC;MAAA,EAAC;IACvD;EACF;EACA,OAAO;IACLd,SAAS,EAATA,SAAS;IACTU,OAAO,EAAPA;EACF,CAAC;AACH;;AAEA;AACA;AACA;AACA,eAAe,SAASS,aAAaA,CAAA,EAAG;EACtC,IAAMC,GAAG,GAAGxB,KAAK,CAACyB,MAAM,CAAC,CAAC;EAC1B,IAAI,CAACD,GAAG,CAACE,OAAO,EAAE;IAChBF,GAAG,CAACE,OAAO,GAAGzB,gBAAgB,CAAC,CAAC;EAClC;EACA,OAAOuB,GAAG,CAACE,OAAO;AACpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}