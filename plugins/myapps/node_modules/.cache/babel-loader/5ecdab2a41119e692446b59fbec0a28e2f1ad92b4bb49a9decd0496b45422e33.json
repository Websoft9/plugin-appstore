{"ast":null,"code":"import _classCallCheck from \"/data/stackhub-web/plugins/myapps/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/data/stackhub-web/plugins/myapps/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/data/stackhub-web/plugins/myapps/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/data/stackhub-web/plugins/myapps/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { __rest } from \"tslib\";\nimport * as React from 'react';\nimport { createFocusTrap } from 'focus-trap';\nvar FocusTrapBase = /*#__PURE__*/function (_React$Component) {\n  _inherits(FocusTrapBase, _React$Component);\n  var _super = _createSuper(FocusTrapBase);\n  function FocusTrapBase(props) {\n    var _this;\n    _classCallCheck(this, FocusTrapBase);\n    _this = _super.call(this, props);\n    _this.divRef = _this.props.innerRef || React.createRef();\n    if (typeof document !== 'undefined') {\n      _this.previouslyFocusedElement = document.activeElement;\n    }\n    return _this;\n  }\n  _createClass(FocusTrapBase, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // We need to hijack the returnFocusOnDeactivate option,\n      // because React can move focus into the element before we arrived at\n      // this lifecycle hook (e.g. with autoFocus inputs). So the component\n      // captures the previouslyFocusedElement in componentWillMount,\n      // then (optionally) returns focus to it in componentWillUnmount.\n      this.focusTrap = createFocusTrap(this.divRef.current, Object.assign(Object.assign({}, this.props.focusTrapOptions), {\n        returnFocusOnDeactivate: false\n      }));\n      if (this.props.active) {\n        this.focusTrap.activate();\n      }\n      if (this.props.paused) {\n        this.focusTrap.pause();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.active && !this.props.active) {\n        this.focusTrap.deactivate();\n      } else if (!prevProps.active && this.props.active) {\n        this.focusTrap.activate();\n      }\n      if (prevProps.paused && !this.props.paused) {\n        this.focusTrap.unpause();\n      } else if (!prevProps.paused && this.props.paused) {\n        this.focusTrap.pause();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.focusTrap.deactivate();\n      if (this.props.focusTrapOptions.returnFocusOnDeactivate !== false && this.previouslyFocusedElement && this.previouslyFocusedElement.focus) {\n        this.previouslyFocusedElement.focus({\n          preventScroll: this.props.preventScrollOnDeactivate\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _a = this.props,\n        children = _a.children,\n        className = _a.className,\n        focusTrapOptions = _a.focusTrapOptions,\n        active = _a.active,\n        paused = _a.paused,\n        preventScrollOnDeactivate = _a.preventScrollOnDeactivate,\n        innerRef = _a.innerRef,\n        rest = __rest(_a, [\"children\", \"className\", \"focusTrapOptions\", \"active\", \"paused\", \"preventScrollOnDeactivate\", \"innerRef\"]);\n      return React.createElement(\"div\", Object.assign({\n        ref: this.divRef,\n        className: className\n      }, rest), children);\n    }\n  }]);\n  return FocusTrapBase;\n}(React.Component);\nFocusTrapBase.displayName = 'FocusTrap';\nFocusTrapBase.defaultProps = {\n  active: true,\n  paused: false,\n  focusTrapOptions: {},\n  preventScrollOnDeactivate: false\n};\nexport var FocusTrap = React.forwardRef(function (props, ref) {\n  return React.createElement(FocusTrapBase, Object.assign({\n    innerRef: ref\n  }, props));\n});","map":{"version":3,"names":["React","createFocusTrap","FocusTrapBase","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","divRef","innerRef","createRef","document","previouslyFocusedElement","activeElement","_createClass","key","value","componentDidMount","focusTrap","current","Object","assign","focusTrapOptions","returnFocusOnDeactivate","active","activate","paused","pause","componentDidUpdate","prevProps","deactivate","unpause","componentWillUnmount","focus","preventScroll","preventScrollOnDeactivate","render","_a","children","className","rest","__rest","createElement","ref","Component","displayName","defaultProps","FocusTrap","forwardRef"],"sources":["/data/stackhub-web/plugins/myapps/node_modules/@patternfly/react-core/src/helpers/FocusTrap/FocusTrap.tsx"],"sourcesContent":["import * as React from 'react';\nimport { createFocusTrap, Options as FocusTrapOptions, FocusTrap as IFocusTrap } from 'focus-trap';\n\ninterface FocusTrapProps extends Omit<React.HTMLProps<HTMLDivElement>, 'ref'> {\n  children: React.ReactNode;\n  className?: string;\n  active?: boolean;\n  paused?: boolean;\n  focusTrapOptions?: FocusTrapOptions;\n  /** Prevent from scrolling to the previously focused element on deactivation */\n  preventScrollOnDeactivate?: boolean;\n  /** @hide Forwarded ref */\n  innerRef?: React.Ref<HTMLDivElement>;\n}\n\nclass FocusTrapBase extends React.Component<FocusTrapProps> {\n  static displayName = 'FocusTrap';\n  previouslyFocusedElement: HTMLElement;\n  focusTrap: IFocusTrap;\n  divRef = (this.props.innerRef as React.RefObject<HTMLDivElement>) || React.createRef<HTMLDivElement>();\n\n  static defaultProps = {\n    active: true,\n    paused: false,\n    focusTrapOptions: {},\n    preventScrollOnDeactivate: false\n  };\n\n  constructor(props: FocusTrapProps) {\n    super(props);\n\n    if (typeof document !== 'undefined') {\n      this.previouslyFocusedElement = document.activeElement as HTMLElement;\n    }\n  }\n\n  componentDidMount() {\n    // We need to hijack the returnFocusOnDeactivate option,\n    // because React can move focus into the element before we arrived at\n    // this lifecycle hook (e.g. with autoFocus inputs). So the component\n    // captures the previouslyFocusedElement in componentWillMount,\n    // then (optionally) returns focus to it in componentWillUnmount.\n    this.focusTrap = createFocusTrap(this.divRef.current, {\n      ...this.props.focusTrapOptions,\n      returnFocusOnDeactivate: false\n    });\n    if (this.props.active) {\n      this.focusTrap.activate();\n    }\n    if (this.props.paused) {\n      this.focusTrap.pause();\n    }\n  }\n\n  componentDidUpdate(prevProps: FocusTrapProps) {\n    if (prevProps.active && !this.props.active) {\n      this.focusTrap.deactivate();\n    } else if (!prevProps.active && this.props.active) {\n      this.focusTrap.activate();\n    }\n\n    if (prevProps.paused && !this.props.paused) {\n      this.focusTrap.unpause();\n    } else if (!prevProps.paused && this.props.paused) {\n      this.focusTrap.pause();\n    }\n  }\n\n  componentWillUnmount() {\n    this.focusTrap.deactivate();\n    if (\n      this.props.focusTrapOptions.returnFocusOnDeactivate !== false &&\n      this.previouslyFocusedElement &&\n      this.previouslyFocusedElement.focus\n    ) {\n      this.previouslyFocusedElement.focus({ preventScroll: this.props.preventScrollOnDeactivate });\n    }\n  }\n\n  render() {\n    const {\n      children,\n      className,\n      /* eslint-disable @typescript-eslint/no-unused-vars */\n      focusTrapOptions,\n      active,\n      paused,\n      preventScrollOnDeactivate,\n      innerRef,\n      /* eslint-enable @typescript-eslint/no-unused-vars */\n      ...rest\n    } = this.props;\n    return (\n      <div ref={this.divRef} className={className} {...rest}>\n        {children}\n      </div>\n    );\n  }\n}\n\nexport const FocusTrap = React.forwardRef((props: FocusTrapProps, ref: React.Ref<any>) => (\n  <FocusTrapBase innerRef={ref} {...props} />\n));\n"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,eAAe,QAA8D,YAAY;AAAC,IAc7FC,aAAc,0BAAAC,gBAAA;EAAAC,SAAA,CAAAF,aAAA,EAAAC,gBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,aAAA;EAalB,SAAAA,cAAYK,KAAqB;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAP,aAAA;IAC/BM,KAAA,GAAAH,MAAA,CAAAK,IAAA,OAAMH,KAAK;IAVbC,KAAA,CAAAG,MAAM,GAAIH,KAAA,CAAKD,KAAK,CAACK,QAA4C,IAAIZ,KAAK,CAACa,SAAS,EAAkB;IAYpG,IAAI,OAAOC,QAAQ,KAAK,WAAW,EAAE;MACnCN,KAAA,CAAKO,wBAAwB,GAAGD,QAAQ,CAACE,aAA4B;;IACtE,OAAAR,KAAA;EACH;EAACS,YAAA,CAAAf,aAAA;IAAAgB,GAAA;IAAAC,KAAA,EAED,SAAAC,kBAAA,EAAiB;MACf;MACA;MACA;MACA;MACA;MACA,IAAI,CAACC,SAAS,GAAGpB,eAAe,CAAC,IAAI,CAACU,MAAM,CAACW,OAAO,EAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAC/C,IAAI,CAACjB,KAAK,CAACkB,gBAAgB;QAC9BC,uBAAuB,EAAE;MAAK,GAC9B;MACF,IAAI,IAAI,CAACnB,KAAK,CAACoB,MAAM,EAAE;QACrB,IAAI,CAACN,SAAS,CAACO,QAAQ,EAAE;;MAE3B,IAAI,IAAI,CAACrB,KAAK,CAACsB,MAAM,EAAE;QACrB,IAAI,CAACR,SAAS,CAACS,KAAK,EAAE;;IAE1B;EAAC;IAAAZ,GAAA;IAAAC,KAAA,EAED,SAAAY,mBAAmBC,SAAyB;MAC1C,IAAIA,SAAS,CAACL,MAAM,IAAI,CAAC,IAAI,CAACpB,KAAK,CAACoB,MAAM,EAAE;QAC1C,IAAI,CAACN,SAAS,CAACY,UAAU,EAAE;OAC5B,MAAM,IAAI,CAACD,SAAS,CAACL,MAAM,IAAI,IAAI,CAACpB,KAAK,CAACoB,MAAM,EAAE;QACjD,IAAI,CAACN,SAAS,CAACO,QAAQ,EAAE;;MAG3B,IAAII,SAAS,CAACH,MAAM,IAAI,CAAC,IAAI,CAACtB,KAAK,CAACsB,MAAM,EAAE;QAC1C,IAAI,CAACR,SAAS,CAACa,OAAO,EAAE;OACzB,MAAM,IAAI,CAACF,SAAS,CAACH,MAAM,IAAI,IAAI,CAACtB,KAAK,CAACsB,MAAM,EAAE;QACjD,IAAI,CAACR,SAAS,CAACS,KAAK,EAAE;;IAE1B;EAAC;IAAAZ,GAAA;IAAAC,KAAA,EAED,SAAAgB,qBAAA,EAAoB;MAClB,IAAI,CAACd,SAAS,CAACY,UAAU,EAAE;MAC3B,IACE,IAAI,CAAC1B,KAAK,CAACkB,gBAAgB,CAACC,uBAAuB,KAAK,KAAK,IAC7D,IAAI,CAACX,wBAAwB,IAC7B,IAAI,CAACA,wBAAwB,CAACqB,KAAK,EACnC;QACA,IAAI,CAACrB,wBAAwB,CAACqB,KAAK,CAAC;UAAEC,aAAa,EAAE,IAAI,CAAC9B,KAAK,CAAC+B;QAAyB,CAAE,CAAC;;IAEhG;EAAC;IAAApB,GAAA;IAAAC,KAAA,EAED,SAAAoB,OAAA,EAAM;MACE,IAAAC,EAAA,GAWF,IAAI,CAACjC,KAAK;QAVZkC,QAAQ,GAOAD,EAGI,CAVZC,QAAQ;QACRC,SAAS,GAMDF,EAGI,CATZE,SAAS;QAETjB,gBAAgB,GAIRe,EAGI,CAPZf,gBAAgB;QAChBE,MAAM,GAGEa,EAGI,CANZb,MAAM;QACNE,MAAM,GAEEW,EAGI,CALZX,MAAM;QACNS,yBAAyB,GACjBE,EAGI,CAJZF,yBAAyB;QACzB1B,QAAQ,GAAA4B,EAGI,CAHZ5B,QAAQ;QAEL+B,IAAI,GAAAC,MAAA,CAAAJ,EAAA,EAVH,0GAWL,CAAa;MACd,OACExC,KAAA,CAAA6C,aAAA,QAAAtB,MAAA,CAAAC,MAAA;QAAKsB,GAAG,EAAE,IAAI,CAACnC,MAAM;QAAE+B,SAAS,EAAEA;MAAS,GAAMC,IAAI,GAClDF,QAAQ,CACL;IAEV;EAAC;EAAA,OAAAvC,aAAA;AAAA,EAlFyBF,KAAK,CAAC+C,SAAyB;AAClD7C,aAAA,CAAA8C,WAAW,GAAG,WAAW;AAKzB9C,aAAA,CAAA+C,YAAY,GAAG;EACpBtB,MAAM,EAAE,IAAI;EACZE,MAAM,EAAE,KAAK;EACbJ,gBAAgB,EAAE,EAAE;EACpBa,yBAAyB,EAAE;CAC5B;AA0EH,OAAO,IAAMY,SAAS,GAAGlD,KAAK,CAACmD,UAAU,CAAC,UAAC5C,KAAqB,EAAEuC,GAAmB;EAAA,OACnF9C,KAAA,CAAA6C,aAAA,CAAC3C,aAAa,EAAAqB,MAAA,CAAAC,MAAA;IAACZ,QAAQ,EAAEkC;EAAG,GAAMvC,KAAK,EAAI;AAAA,CAC5C,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}