{"ast":null,"code":"import _toConsumableArray from \"/data/stackhub-web/plugins/myapps/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/data/stackhub-web/plugins/myapps/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n/* eslint-disable @typescript-eslint/consistent-type-definitions */\nimport * as React from 'react';\nimport { createPopper as defaultCreatePopper } from '../popper-core/popper';\nimport { useIsomorphicLayoutEffect } from '../../../../helpers/useIsomorphicLayout';\nvar isEqual = function isEqual(a, b) {\n  return JSON.stringify(a) === JSON.stringify(b);\n};\n/**\n * Simple ponyfill for Object.fromEntries\n */\nvar fromEntries = function fromEntries(entries) {\n  return entries.reduce(function (acc, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n      key = _ref2[0],\n      value = _ref2[1];\n    acc[key] = value;\n    return acc;\n  }, {});\n};\nvar EMPTY_MODIFIERS = [];\nexport var usePopper = function usePopper(referenceElement, popperElement) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var prevOptions = React.useRef(null);\n  var optionsWithDefaults = {\n    onFirstUpdate: options.onFirstUpdate,\n    placement: options.placement || 'bottom',\n    strategy: options.strategy || 'absolute',\n    modifiers: options.modifiers || EMPTY_MODIFIERS\n  };\n  var _React$useState = React.useState({\n      styles: {\n        popper: {\n          position: optionsWithDefaults.strategy,\n          left: '0',\n          top: '0'\n        }\n      },\n      attributes: {}\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    state = _React$useState2[0],\n    setState = _React$useState2[1];\n  var updateStateModifier = React.useMemo(function () {\n    return {\n      name: 'updateState',\n      enabled: true,\n      phase: 'write',\n      // eslint-disable-next-line no-shadow\n      fn: function fn(_ref3) {\n        var state = _ref3.state;\n        var elements = Object.keys(state.elements);\n        setState({\n          styles: fromEntries(elements.map(function (element) {\n            return [element, state.styles[element] || {}];\n          })),\n          attributes: fromEntries(elements.map(function (element) {\n            return [element, state.attributes[element]];\n          }))\n        });\n      },\n      requires: ['computeStyles']\n    };\n  }, []);\n  var popperOptions = React.useMemo(function () {\n    var newOptions = {\n      onFirstUpdate: optionsWithDefaults.onFirstUpdate,\n      placement: optionsWithDefaults.placement,\n      strategy: optionsWithDefaults.strategy,\n      modifiers: [].concat(_toConsumableArray(optionsWithDefaults.modifiers), [updateStateModifier, {\n        name: 'applyStyles',\n        enabled: false\n      }])\n    };\n    if (isEqual(prevOptions.current, newOptions)) {\n      return prevOptions.current || newOptions;\n    } else {\n      prevOptions.current = newOptions;\n      return newOptions;\n    }\n  }, [optionsWithDefaults.onFirstUpdate, optionsWithDefaults.placement, optionsWithDefaults.strategy, optionsWithDefaults.modifiers, updateStateModifier]);\n  var popperInstanceRef = React.useRef();\n  useIsomorphicLayoutEffect(function () {\n    if (popperInstanceRef && popperInstanceRef.current) {\n      popperInstanceRef.current.setOptions(popperOptions);\n    }\n  }, [popperOptions]);\n  useIsomorphicLayoutEffect(function () {\n    if (referenceElement == null || popperElement == null) {\n      return;\n    }\n    var createPopper = options.createPopper || defaultCreatePopper;\n    var popperInstance = createPopper(referenceElement, popperElement, popperOptions);\n    popperInstanceRef.current = popperInstance;\n    return function () {\n      popperInstance.destroy();\n      popperInstanceRef.current = null;\n    };\n  }, [referenceElement, popperElement, options.createPopper]);\n  return {\n    state: popperInstanceRef.current ? popperInstanceRef.current.state : null,\n    styles: state.styles,\n    attributes: state.attributes,\n    update: popperInstanceRef.current ? popperInstanceRef.current.update : null,\n    forceUpdate: popperInstanceRef.current ? popperInstanceRef.current.forceUpdate : null\n  };\n};","map":{"version":3,"names":["React","createPopper","defaultCreatePopper","useIsomorphicLayoutEffect","isEqual","a","b","JSON","stringify","fromEntries","entries","reduce","acc","_ref","_ref2","_slicedToArray","key","value","EMPTY_MODIFIERS","usePopper","referenceElement","popperElement","options","arguments","length","undefined","prevOptions","useRef","optionsWithDefaults","onFirstUpdate","placement","strategy","modifiers","_React$useState","useState","styles","popper","position","left","top","attributes","_React$useState2","state","setState","updateStateModifier","useMemo","name","enabled","phase","fn","_ref3","elements","Object","keys","map","element","requires","popperOptions","newOptions","concat","_toConsumableArray","current","popperInstanceRef","setOptions","popperInstance","destroy","update","forceUpdate"],"sources":["/data/stackhub-web/plugins/myapps/node_modules/@patternfly/react-core/src/helpers/Popper/thirdparty/react-popper/usePopper.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/consistent-type-definitions */\n\nimport * as React from 'react';\nimport { createPopper as defaultCreatePopper, Options as PopperOptions, VirtualElement } from '../popper-core/popper';\nimport { useIsomorphicLayoutEffect } from '../../../../helpers/useIsomorphicLayout';\n\ntype $Shape<T extends object> = Partial<T>;\n\nconst isEqual = (a: any, b: any) => JSON.stringify(a) === JSON.stringify(b);\n\n/**\n * Simple ponyfill for Object.fromEntries\n */\nconst fromEntries = (entries: [string, any][]) =>\n  entries.reduce((acc: any, [key, value]) => {\n    acc[key] = value;\n    return acc;\n  }, {});\n\ntype Options = $Shape<\n  PopperOptions & {\n    createPopper: typeof defaultCreatePopper;\n  }\n>;\n\ntype State = {\n  styles: {\n    [key: string]: $Shape<CSSStyleDeclaration>;\n  };\n  attributes: {\n    [key: string]: {\n      [key: string]: string;\n    };\n  };\n};\n\nconst EMPTY_MODIFIERS: any = [];\n\nexport const usePopper = (\n  referenceElement: (Element | VirtualElement) | null | undefined,\n  popperElement: HTMLElement | null | undefined,\n  options: Options = {}\n) => {\n  const prevOptions = React.useRef<PopperOptions | null | undefined>(null);\n\n  const optionsWithDefaults = {\n    onFirstUpdate: options.onFirstUpdate,\n    placement: options.placement || 'bottom',\n    strategy: options.strategy || 'absolute',\n    modifiers: options.modifiers || EMPTY_MODIFIERS\n  };\n\n  const [state, setState] = React.useState<State>({\n    styles: {\n      popper: {\n        position: optionsWithDefaults.strategy,\n        left: '0',\n        top: '0'\n      }\n    },\n    attributes: {}\n  });\n\n  const updateStateModifier = React.useMemo(\n    () => ({\n      name: 'updateState',\n      enabled: true,\n      phase: 'write',\n      // eslint-disable-next-line no-shadow\n      fn: ({ state }: any) => {\n        const elements = Object.keys(state.elements);\n\n        setState({\n          styles: fromEntries(elements.map(element => [element, state.styles[element] || {}])),\n          attributes: fromEntries(elements.map(element => [element, state.attributes[element]]))\n        });\n      },\n      requires: ['computeStyles']\n    }),\n    []\n  );\n\n  const popperOptions = React.useMemo(() => {\n    const newOptions = {\n      onFirstUpdate: optionsWithDefaults.onFirstUpdate,\n      placement: optionsWithDefaults.placement,\n      strategy: optionsWithDefaults.strategy,\n      modifiers: [...optionsWithDefaults.modifiers, updateStateModifier, { name: 'applyStyles', enabled: false }]\n    };\n\n    if (isEqual(prevOptions.current, newOptions)) {\n      return prevOptions.current || newOptions;\n    } else {\n      prevOptions.current = newOptions;\n      return newOptions;\n    }\n  }, [\n    optionsWithDefaults.onFirstUpdate,\n    optionsWithDefaults.placement,\n    optionsWithDefaults.strategy,\n    optionsWithDefaults.modifiers,\n    updateStateModifier\n  ]);\n\n  const popperInstanceRef = React.useRef<any>();\n\n  useIsomorphicLayoutEffect(() => {\n    if (popperInstanceRef && popperInstanceRef.current) {\n      popperInstanceRef.current.setOptions(popperOptions);\n    }\n  }, [popperOptions]);\n\n  useIsomorphicLayoutEffect(() => {\n    if (referenceElement == null || popperElement == null) {\n      return;\n    }\n\n    const createPopper = options.createPopper || defaultCreatePopper;\n    const popperInstance = createPopper(referenceElement, popperElement, popperOptions);\n\n    popperInstanceRef.current = popperInstance;\n\n    return () => {\n      popperInstance.destroy();\n      popperInstanceRef.current = null;\n    };\n  }, [referenceElement, popperElement, options.createPopper]);\n\n  return {\n    state: popperInstanceRef.current ? popperInstanceRef.current.state : null,\n    styles: state.styles,\n    attributes: state.attributes,\n    update: popperInstanceRef.current ? popperInstanceRef.current.update : null,\n    forceUpdate: popperInstanceRef.current ? popperInstanceRef.current.forceUpdate : null\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}