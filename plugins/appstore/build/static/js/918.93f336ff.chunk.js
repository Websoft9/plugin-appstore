"use strict";(self.webpackChunkapps=self.webpackChunkapps||[]).push([[918],{3131:function(e,n,t){var r=t(5987),a=t(1413),s=t(9439),l=t(1694),i=t.n(l),o=t(2791),c=t(9410),u=t(9795),d=t(184),p=["label","type","name","value","readOnly","placeholder","register","errors","className","labelClassName","containerClass","refCallback","children"],m=function(e){var n=e.name,t=e.placeholder,r=e.refCallback,l=e.errors,p=e.register,m=e.className,h=e.value,v=e.readOnly,f=(0,o.useState)(!1),x=(0,s.Z)(f,2),g=x[0],j=x[1];return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(c.Z,{className:"mb-0",children:[(0,d.jsx)(u.Z.Control,(0,a.Z)((0,a.Z)({type:g?"text":"password",placeholder:t,name:n,id:n,as:"input",ref:function(e){r&&r(e)},className:m,isInvalid:!(!l||!l[n])},p?p(n):{}),{},{autoComplete:n,defaultValue:h,readOnly:v})),(0,d.jsx)("div",{className:i()("input-group-text","input-group-password",{"show-password":g}),"data-password":g?"true":"false",children:(0,d.jsx)("span",{className:"password-eye",onClick:function(){j(!g)}})})]})})};n.Z=function(e){var n=e.label,t=e.type,s=e.name,l=e.value,i=e.readOnly,o=e.placeholder,c=e.register,h=e.errors,v=e.className,f=e.labelClassName,x=e.containerClass,g=e.refCallback,j=e.children,Z=(0,r.Z)(e,p),y="textarea"===t?"textarea":"select"===t?"select":"input";return(0,d.jsx)(d.Fragment,{children:"hidden"===t?(0,d.jsx)("input",(0,a.Z)((0,a.Z)({type:t,name:s},c?c(s):{}),Z)):(0,d.jsx)(d.Fragment,{children:"password"===t?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(u.Z.Group,{className:x,children:[n?(0,d.jsxs)(d.Fragment,{children:[" ",(0,d.jsx)(u.Z.Label,{className:f,children:n})," ",j," "]}):null,(0,d.jsx)(m,{name:s,placeholder:o,refCallback:g,errors:h,register:c,className:v,value:l,readOnly:i}),h&&h[s]?(0,d.jsx)(u.Z.Control.Feedback,{type:"invalid",className:"d-block",children:h[s].message}):null]})}):(0,d.jsx)(d.Fragment,{children:"select"===t?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(u.Z.Group,{className:x,children:[n?(0,d.jsx)(u.Z.Label,{className:f,children:n}):null,(0,d.jsx)(u.Z.Select,(0,a.Z)((0,a.Z)((0,a.Z)({type:t,label:n,name:s,id:s,ref:function(e){g&&g(e)},comp:y,className:v,isInvalid:!(!h||!h[s])},c?c(s):{}),Z),{},{children:j})),h&&h[s]?(0,d.jsx)(u.Z.Control.Feedback,{type:"invalid",children:h[s].message}):null]})}):(0,d.jsx)(d.Fragment,{children:"checkbox"===t||"radio"===t?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(u.Z.Group,{className:x,children:[(0,d.jsx)(u.Z.Check,(0,a.Z)((0,a.Z)({type:t,label:n,name:s,id:s,ref:function(e){g&&g(e)},className:v,isInvalid:!(!h||!h[s])},c?c(s):{}),Z)),h&&h[s]?(0,d.jsx)(u.Z.Control.Feedback,{type:"invalid",children:h[s].message}):null]})}):(0,d.jsxs)(u.Z.Group,{className:x,children:[n?(0,d.jsx)(u.Z.Label,{className:f,children:n}):null,(0,d.jsx)(u.Z.Control,(0,a.Z)((0,a.Z)((0,a.Z)({type:t,placeholder:o,value:l,name:s,id:s,as:y,ref:function(e){g&&g(e)},className:v,isInvalid:!(!h||!h[s])},c?c(s):{}),Z),{},{autoComplete:s,children:j||null})),h&&h[s]?(0,d.jsx)(u.Z.Control.Feedback,{type:"invalid",children:h[s].message}):null]})})})})})}},2733:function(e,n,t){var r=t(4942),a=(t(2791),t(1694)),s=t.n(a),l=t(184),i=function(e){var n=e.children||null,t=e.tag||"div",a=e.color||"secondary",i=e.size||"";return(0,l.jsx)(t,{role:"status",className:s()({"spinner-border":"bordered"===e.type,"spinner-grow":"grow"===e.type},["text-".concat(a)],(0,r.Z)({},"avatar-".concat(i),i),e.className),children:n})};i.defaultProps={tag:"div",type:"bordered"},n.Z=i},165:function(e,n,t){t.d(n,{qL:function(){return C},pd:function(){return y},dy:function(){return Z},qs:function(){return b},_6:function(){return k},rl:function(){return h},u3:function(){return v},h1:function(){return j},P3:function(){return g},pO:function(){return x},mx:function(){return f}});var r,a=t(4165),s=t(3144),l=t(5671),i=t(5861),o=t(1243),c=t(7689);t(184);function u(){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)((0,a.Z)().mark((function e(){var n,t,s,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=10;break}return e.next=3,fetch("./config.json");case 3:return n=e.sent,e.next=6,n.json();case 6:t=e.sent,s=t.APPMANAGE.APPMANAGE_USERNAME,l=t.APPMANAGE.APPMANAGE_PASSWORD,r=btoa(s+":"+l);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.Z.defaults.headers.post["Content-Type"]="application/json",o.Z.defaults.headers.get["Content-Type"]="application/json",o.Z.defaults.headers.common["Cache-Control"]="no-cache",o.Z.defaults.headers.common.Pragma="no-cache",o.Z.defaults.headers.common.Expires="0",o.Z.interceptors.response.use((function(e){return e}),(function(e){var n;if(e&&e.response&&404===e.response.status)c.Fg;else{if(!e||!e.response||500!==e.response.status)return n=e.response&&e.response.data?e.response.data.message:e.message||e,Promise.reject(n);c.Fg}}));var p=(0,s.Z)((function e(){(0,l.Z)(this,e),this.get=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n,t){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return e.t0=e.sent,o.Z.defaults.headers.common.Authorization="Basic "+e.t0,t?(s=t?Object.keys(t).map((function(e){return e+"="+t[e]})).join("&"):"",r=o.Z.get("".concat(n,"?").concat(s),t)):r=o.Z.get("".concat(n),t),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.create=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return e.t0=e.sent,o.Z.defaults.headers.common.Authorization="Basic "+e.t0,e.abrupt("return",o.Z.post(n,t));case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()})),m=new p;function h(e){return m.get("".concat("/AppManage/AppInstall"),e)}function v(e){return m.get("".concat("/AppManage/AppList"),e)}function f(e){return m.get("".concat("/AppManage/AppUninstall"),e)}function x(e){return m.get("".concat("/AppManage/AppStop"),e)}function g(e){return m.get("".concat("/AppManage/AppStart"),e)}function j(e){return m.get("".concat("/AppManage/AppRestart"),e)}function Z(e){return m.get("".concat("/AppManage/AppDomainList"),e)}function y(e){return m.get("".concat("/AppManage/AppDomainDelete"),e)}function k(e){return m.get("".concat("/AppManage/AppDomainUpdate"),e)}function C(e){return m.get("".concat("/AppManage/AppDomainAdd"),e)}function b(e){return m.get("".concat("/AppManage/AppDomainSet"),e)}},918:function(e,n,t){t.r(n);var r,a=t(4165),s=t(5861),l=t(9439),i=t(168),o=t(1413),c=t(3306),u=t(3173),d=t(4358),p=t(3971),m=t(7346),h=t.n(m),v=t(2791),f=t(2025),x=t(9920),g=t(3360),j=t(9743),Z=t(2677),y=t(9795),k=t(7689),C=t(3131),b=t(2733),N=t(165),A=t(184),w=h().gettext,S=h().language,F=v.forwardRef((function(e,n){return(0,A.jsx)(d.Z,(0,o.Z)({elevation:6,ref:n,variant:"filled"},e))})),M=(0,c.Ps)(r||(r=(0,i.Z)(['\n    query($locale: String){\n        productCollection(locale:$locale,where:{appStore:true}) {\n            items {\n            sys {\n                id\n            }\n            key\n            trademark\n            summary\n            overview\n            websiteurl\n            description\n            screenshots\n            distribution\n            highlights\n            vcpu\n            memory\n            storage\n            logo {\n                imageurl\n            }\n            catalogCollection(limit:20) {\n                items {\n                key\n                title\n                catalogCollection(limit:1){\n                    items{\n                        key\n                        title\n                    }\n                    }\n                }\n            }\n            }\n        }\n        catalog(id: "2Yp0TY3kBHgG6VDjsHZNpK",locale:$locale) {\n            linkedFrom(allowedLocales:["en-US"]) {\n            catalogCollection(limit:20) {\n                items {\n                key\n                title\n                linkedFrom(allowedLocales:["en-US"]) {\n                    catalogCollection(limit:20) {\n                    items {\n                        key\n                        title\n                    }\n                    }\n                }\n                }\n            }\n            }\n        }\n    }\n']))),P=function(e){var n,t=e.product,r=e.showFlag,i=e.onClose,o=(0,v.useState)(0),c=(0,l.Z)(o,2),u=c[0],d=c[1],m=(0,k.s0)(),j=(0,v.useState)(!0),Z=(0,l.Z)(j,2),y=Z[0],b=Z[1],S=(0,v.useState)(""),M=(0,l.Z)(S,2),P=M[0],G=M[1],L=(0,v.useState)(!1),D=(0,l.Z)(L,2),E=D[0],O=D[1],_=(0,v.useState)(""),I=(0,l.Z)(_,2),R=I[0],z=I[1],B=(0,v.useState)(!1),U=(0,l.Z)(B,2),H=U[0],T=U[1];function q(){return(q=(0,s.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=20;break}if(P){e.next=6;break}O(!0),z(w("Please enter a custom application name")),e.next=19;break;case 6:return e.prev=6,T(!0),e.next=10,(0,N.rl)({app_name:t.key,app_version:K,customer_app_name:P});case 10:(n=e.sent).data.Error?(O(!0),z(n.data.Error.Message),T(!1)):(O(!1),z(""),h().jump("/users#/root")),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(6),O(!1),z(""),m("/error-500");case 19:return e.abrupt("return");case 20:b(!y);case 21:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}var V=((null===(n=t.distribution)||void 0===n?void 0:n.filter((function(e){return"Community"===e.key})))||[]).map((function(e){return e.value})),$=V&&1===V.length?V.toString().split(","):V,W=(0,v.useState)($[0]),Y=(0,l.Z)(W,2),K=Y[0],Q=Y[1],J=function(e,n){"clickaway"!==n&&(O(!1),z(""))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(f.Z,{show:r,onHide:i,size:"lg",scrollable:"true",backdrop:"static",children:[(0,A.jsx)(f.Z.Header,{onHide:i,closeButton:!0,children:(0,A.jsxs)("div",{style:{padding:"10px"},children:[(0,A.jsx)("div",{className:"appstore-item-content-icon col-same-height",children:(0,A.jsx)("img",{src:t.logo.imageurl,alt:"",className:"app-icon"})}),(0,A.jsxs)("div",{className:"col-same-height",children:[(0,A.jsx)("h4",{className:"appstore-item-content-title",style:{marginTop:"5px"},children:t.trademark}),(0,A.jsx)("div",{children:(0,A.jsxs)("a",{rel:"noreferrer",href:"https://support.websoft9.com/docs/"+t.key,target:"_blank",style:{color:"#2196f3"},children:[t.trademark," ",w("developers")]})}),(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,A.jsxs)("span",{style:{marginRight:"5px"},children:[w("Version")," : "]})," ",V]}),(0,A.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,A.jsxs)("span",{style:{marginRight:"5px"},children:[w("Requires at least")," : ",t.vcpu," vCPU,  ",t.memory,"  GB memory, ",t.storage," GB storage"]})})]})]})}),(0,A.jsxs)(f.Z.Body,{children:[(0,A.jsxs)("div",{style:{display:y?"block":"none"},children:[(0,A.jsx)(x.Z,{activeIndex:u,onSelect:function(e,n){d(e)},style:{width:"80%",margin:"0 auto"},children:(t.screenshots||[]).map((function(e){return(0,A.jsx)(x.Z.Item,{children:(0,A.jsx)("img",{className:"d-block",src:null===e||void 0===e?void 0:e.value,alt:null===e||void 0===e?void 0:e.key,width:"100%",height:"300px"})},null===e||void 0===e?void 0:e.id)}))}),(0,A.jsxs)("div",{style:{padding:"10px"},children:[(0,A.jsx)("h4",{children:w("Overview")}),t.overview]}),(0,A.jsxs)("div",{style:{padding:"10px"},children:[(0,A.jsx)("h4",{children:w("Description")}),t.description]})]}),(0,A.jsx)("div",{style:{display:y?"none":"block"},children:(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,A.jsxs)("div",{children:[(0,A.jsxs)("span",{style:{marginRight:"5px"},children:[w("Version")," :"]}),$&&(0,A.jsx)(C.Z,{name:"select",type:"select",className:"form-select",onChange:function(e){return n=e.target.value,void Q(n);var n},children:($||[]).map((function(e,n){return(0,A.jsx)("option",{value:e,children:e},e+n)}))},"select")]}),(0,A.jsxs)("div",{style:{marginTop:"5px"},children:[(0,A.jsxs)("span",{style:{marginRight:"5px"},children:[w("Name")," :"]}),(0,A.jsx)(C.Z,{type:"text",value:P,name:"app_Name",placeholder:w("Only letters and numbers are allowed. No special characters."),onChange:function(e){!function(e){if(G(e),e){var n=e.replace(/[^a-z0-9]/gi,"").toLowerCase();G(n),O(!1),z("")}else O(!0),z(w("Please enter a custom application name"))}(e.target.value)}})]})]})})]}),(0,A.jsxs)(f.Z.Footer,{children:[(0,A.jsx)(g.Z,{variant:"light",onClick:i,children:w("Close")})," ",(0,A.jsx)(g.Z,{disabled:H,variant:"primary",onClick:function(){return q.apply(this,arguments)},children:w("Install")})]})]}),E&&(0,A.jsx)(p.Z,{open:E,autoHideDuration:5e3,onClose:J,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,A.jsx)(F,{onClose:J,severity:"error",sx:{width:"100%"},children:R})})]})};n.default=function(){var e,n=(0,v.useState)(!1),t=(0,l.Z)(n,2),r=t[0],a=t[1],s=(0,v.useState)(null),i=(0,l.Z)(s,2),o=i[0],c=i[1],d=(0,v.useState)(null),p=(0,l.Z)(d,2),m=p[0],h=p[1],f=(0,v.useState)(null),x=(0,l.Z)(f,2),g=x[0],k=x[1],N=(0,v.useState)(!0),F=(0,l.Z)(N,2),G=F[0],L=F[1],D=(0,v.useState)(""),E=(0,l.Z)(D,2),O=E[0],_=E[1],I=(0,u.a)(M,{variables:{locale:"zh_CN"===S?"zh-CN":"en-US"}}),R=I.loading,z=I.error,B=I.data,U=null===B||void 0===B?void 0:B.catalog.linkedFrom.catalogCollection.items,H=null===B||void 0===B||null===(e=B.productCollection)||void 0===e?void 0:e.items,T=(0,v.useState)(H),q=(0,l.Z)(T,2),V=q[0],$=q[1];if((0,v.useEffect)((function(){$(H)}),[H]),R)return(0,A.jsx)(b.Z,{className:"dis_mid"});if(z)return(0,A.jsxs)("p",{children:["Error : $",z.message," "]});return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(j.Z,{className:"mb-2",children:[(0,A.jsx)(Z.Z,{sm:6,children:(0,A.jsxs)(y.Z.Group,{as:j.Z,children:[(0,A.jsx)(Z.Z,{sm:6,children:(0,A.jsxs)(C.Z,{name:"select1",type:"select",className:"form-select",onChange:function(e){return function(e){var n,t,r,a,s,l;s="All"===e?[]:null===(n=U.filter((function(n){return n.key===e})))||void 0===n||null===(t=n[0])||void 0===t||null===(r=t.linkedFrom)||void 0===r||null===(a=r.catalogCollection)||void 0===a?void 0:a.items,h(s),l=H.filter((function(n){var t;return null===n||void 0===n||null===(t=n.catalogCollection)||void 0===t?void 0:t.items.some((function(n){var t;return null===n||void 0===n||null===(t=n.catalogCollection)||void 0===t?void 0:t.items.some((function(n){return n.key===e}))}))})),$("All"===e?H:l),k(l),L(!1),_("")}(e.target.value)},children:[(0,A.jsx)("option",{value:"All",selected:G,children:w("All")}),(U||[]).map((function(e,n){return(0,A.jsx)("option",{value:null===e||void 0===e?void 0:e.key,children:null===e||void 0===e?void 0:e.title},(null===e||void 0===e?void 0:e.key)+n)}))]},"select1")}),(0,A.jsx)(Z.Z,{sm:6,children:(0,A.jsxs)(C.Z,{name:"select2",type:"select",className:"form-select",onChange:function(e){return function(e){var n;n="All"===e?g:H.filter((function(n){var t;return null===n||void 0===n||null===(t=n.catalogCollection)||void 0===t?void 0:t.items.some((function(n){return n.key===e}))})),$(n),_("")}(e.target.value)},children:[(0,A.jsx)("option",{value:"All",children:w("All")}),(m||[]).map((function(e,n){return(0,A.jsx)("option",{value:null===e||void 0===e?void 0:e.key,children:null===e||void 0===e?void 0:e.title},(null===e||void 0===e?void 0:e.key)+n)}))]},"select2")})]})}),(0,A.jsx)(Z.Z,{sm:6,children:(0,A.jsx)(Z.Z,{xs:"auto",children:(0,A.jsx)(C.Z,{type:"text",name:"search",placeholder:"Search for apps like WordPress, MySQL, GitLab, \u2026",value:O,onChange:function(e){return function(e){var n;_(e),n=""===e?H:H.filter((function(n){return n.trademark.toLowerCase().includes(e)||n.key.toLowerCase().includes(e)})),$(n),L(!0),h(null)}(e.target.value)}})})})]}),(0,A.jsx)(j.Z,{children:(V||[]).map((function(e,n){return(0,A.jsx)(Z.Z,{xxl:3,sm:6,md:4,className:"appstore-item",children:(0,A.jsxs)("div",{className:"appstore-item-content highlight",onClick:function(){c(e),a(!0)},children:[(0,A.jsx)("div",{className:"appstore-item-content-icon col-same-height",children:(0,A.jsx)("img",{src:null===e||void 0===e?void 0:e.logo.imageurl,alt:"",className:"app-icon"})}),(0,A.jsxs)("div",{className:"col-same-height",style:{textAlign:"initial"},children:[(0,A.jsx)("h4",{className:"appstore-item-content-title",children:null===e||void 0===e?void 0:e.trademark}),(0,A.jsx)("div",{className:"appstore-item-content-tagline text-muted",children:null===e||void 0===e?void 0:e.summary})]})]})},e.sys.id)}))}),r&&(0,A.jsx)(P,{product:o,showFlag:r,onClose:function(){a(!1),c(null)}})]})}}}]);
//# sourceMappingURL=918.93f336ff.chunk.js.map