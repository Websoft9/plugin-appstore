"use strict";(self.webpackChunkapps=self.webpackChunkapps||[]).push([[604],{63131:function(e,n,a){var s=a(45987),t=a(1413),r=a(29439),i=a(81694),o=a.n(i),l=a(72791),c=a(99410),d=a(29795),p=a(80184),u=["label","type","name","value","readOnly","placeholder","register","errors","className","labelClassName","containerClass","refCallback","children"],m=function(e){var n=e.name,a=e.placeholder,s=e.refCallback,i=e.errors,u=e.register,m=e.className,h=e.value,x=e.readOnly,f=(0,l.useState)(!1),j=(0,r.Z)(f,2),g=j[0],Z=j[1];return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(c.Z,{className:"mb-0",children:[(0,p.jsx)(d.Z.Control,(0,t.Z)((0,t.Z)({type:g?"text":"password",placeholder:a,name:n,id:n,as:"input",ref:function(e){s&&s(e)},className:m,isInvalid:!(!i||!i[n])},u?u(n):{}),{},{autoComplete:n,defaultValue:h,readOnly:x})),(0,p.jsx)("div",{className:o()("input-group-text","input-group-password",{"show-password":g}),"data-password":g?"true":"false",children:(0,p.jsx)("span",{className:"password-eye",onClick:function(){Z(!g)}})})]})})};n.Z=function(e){var n=e.label,a=e.type,r=e.name,i=e.value,o=e.readOnly,l=e.placeholder,c=e.register,h=e.errors,x=e.className,f=e.labelClassName,j=e.containerClass,g=e.refCallback,Z=e.children,b=(0,s.Z)(e,u),v="textarea"===a?"textarea":"select"===a?"select":"input";return(0,p.jsx)(p.Fragment,{children:"hidden"===a?(0,p.jsx)("input",(0,t.Z)((0,t.Z)({type:a,name:r},c?c(r):{}),b)):(0,p.jsx)(p.Fragment,{children:"password"===a?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(d.Z.Group,{className:j,children:[n?(0,p.jsxs)(p.Fragment,{children:[" ",(0,p.jsx)(d.Z.Label,{className:f,children:n})," ",Z," "]}):null,(0,p.jsx)(m,{name:r,placeholder:l,refCallback:g,errors:h,register:c,className:x,value:i,readOnly:o}),h&&h[r]?(0,p.jsx)(d.Z.Control.Feedback,{type:"invalid",className:"d-block",children:h[r].message}):null]})}):(0,p.jsx)(p.Fragment,{children:"select"===a?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(d.Z.Group,{className:j,children:[n?(0,p.jsx)(d.Z.Label,{className:f,children:n}):null,(0,p.jsx)(d.Z.Select,(0,t.Z)((0,t.Z)((0,t.Z)({type:a,label:n,name:r,id:r,ref:function(e){g&&g(e)},comp:v,className:x,isInvalid:!(!h||!h[r])},c?c(r):{}),b),{},{children:Z})),h&&h[r]?(0,p.jsx)(d.Z.Control.Feedback,{type:"invalid",children:h[r].message}):null]})}):(0,p.jsx)(p.Fragment,{children:"checkbox"===a||"radio"===a?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(d.Z.Group,{className:j,children:[(0,p.jsx)(d.Z.Check,(0,t.Z)((0,t.Z)({type:a,label:n,name:r,id:r,ref:function(e){g&&g(e)},className:x,isInvalid:!(!h||!h[r])},c?c(r):{}),b)),h&&h[r]?(0,p.jsx)(d.Z.Control.Feedback,{type:"invalid",children:h[r].message}):null]})}):(0,p.jsxs)(d.Z.Group,{className:j,children:[n?(0,p.jsx)(d.Z.Label,{className:f,children:n}):null,(0,p.jsx)(d.Z.Control,(0,t.Z)((0,t.Z)((0,t.Z)({type:a,placeholder:l,value:i,name:r,id:r,as:v,ref:function(e){g&&g(e)},className:x,isInvalid:!(!h||!h[r])},c?c(r):{}),b),{},{autoComplete:r,children:Z||null})),h&&h[r]?(0,p.jsx)(d.Z.Control.Feedback,{type:"invalid",children:h[r].message}):null]})})})})})}},82733:function(e,n,a){var s=a(4942),t=(a(72791),a(81694)),r=a.n(t),i=a(80184),o=function(e){var n=e.children||null,a=e.tag||"div",t=e.color||"secondary",o=e.size||"";return(0,i.jsx)(a,{role:"status",className:r()({"spinner-border":"bordered"===e.type,"spinner-grow":"grow"===e.type},["text-".concat(t)],(0,s.Z)({},"avatar-".concat(o),o),e.className),children:n})};o.defaultProps={tag:"div",type:"bordered"},n.Z=o},10165:function(e,n,a){a.d(n,{rl:function(){return l},u3:function(){return c},h1:function(){return m},P3:function(){return u},pO:function(){return p},mx:function(){return d}});var s=a(43144),t=a(15671),r=a(31243),i=a(57689);a(80184);r.Z.defaults.headers.post["Content-Type"]="application/json",r.Z.defaults.headers.get["Content-Type"]="application/json",r.Z.defaults.headers={"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"},r.Z.interceptors.response.use((function(e){return e}),(function(e){var n;if(e&&e.response&&404===e.response.status)i.Fg;else{if(!e||!e.response||500!==e.response.status)return n=e.response&&e.response.data?e.response.data.message:e.message||e,Promise.reject(n);i.Fg}}));var o=new((0,s.Z)((function e(){(0,t.Z)(this,e),this.get=function(e,n){var a;if(n){var s=n?Object.keys(n).map((function(e){return e+"="+n[e]})).join("&"):"";a=r.Z.get("".concat(e,"?").concat(s),n)}else a=r.Z.get("".concat(e),n);return a},this.create=function(e,n){return r.Z.post(e,n)}})));function l(e){return o.get("".concat("/AppManage/AppInstall"),e)}function c(e){return o.get("".concat("/AppManage/AppList"),e)}function d(e){return o.get("".concat("/AppManage/AppUninstall"),e)}function p(e){return o.get("".concat("/AppManage/AppStop"),e)}function u(e){return o.get("".concat("/AppManage/AppStart"),e)}function m(e){return o.get("".concat("/AppManage/AppRestart"),e)}},67181:function(e,n,a){a.r(n),a.d(n,{default:function(){return K}});var s=a(74165),t=a(15861),r=a(29439),i=a(1413),o=a(79909),l=a(50954),c=a(81694),d=a.n(c),p=a(37346),u=a.n(p),m=a(72791),h=a(42025),x=a(43360),f=a(2469),j=a(89743),g=a(2677),Z=a(29723),b=a(57689),v=a(11087),y=a.p+"static/media/default.50b14dd03b88a6d9022a.png",N=a(63131),C=a(82733),w=a(10165),k=a(25862),S=a(12576),_=a(91752),F=a(44533),A=a(79627),E=a(29795),D=a.p+"static/media/admin-settings.9af1889bd84f9b64ecca.png",R=a(80184),B=function(e){var n,a,s,t;(0,b.s0)();return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(A.Z,{style:{marginTop:"10px"},children:(0,R.jsx)(A.Z.Body,{className:"profile-user-box",children:(0,R.jsxs)(j.Z,{children:[(0,R.jsx)(g.Z,{sm:8,children:(0,R.jsxs)(j.Z,{className:"align-items-center",children:[(0,R.jsx)(g.Z,{className:"col-auto",children:(0,R.jsx)("div",{className:"avatar-lg",children:(0,R.jsx)("img",{src:D,style:{height:"100px"},alt:"",className:"rounded-circle img-thumbnail"})})}),(0,R.jsx)(g.Z,{className:"avatar-lg",children:(0,R.jsxs)("div",{children:[(0,R.jsxs)(E.Z.Group,{as:j.Z,className:"mb-3",children:[(0,R.jsx)(E.Z.Label,{htmlFor:"username",column:!0,md:3,children:"Username"}),(0,R.jsx)(g.Z,{md:9,children:(0,R.jsx)(E.Z.Control,{type:"text",name:"username",id:"username",defaultValue:null===(n=e.data)||void 0===n||null===(a=n.config)||void 0===a?void 0:a.user_name,readOnly:!0})})]}),(0,R.jsxs)(E.Z.Group,{as:j.Z,className:"mb-3",children:[(0,R.jsx)(E.Z.Label,{htmlFor:"password",column:!0,md:3,children:"Password"}),(0,R.jsx)(g.Z,{md:9,children:(0,R.jsx)(N.Z,{type:"password",name:"password",containerClass:"mb-3",value:null===(s=e.data)||void 0===s||null===(t=s.config)||void 0===t?void 0:t.password,readOnly:!0})})]})]})})]})}),(0,R.jsx)(g.Z,{sm:4,style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(0,R.jsx)("div",{className:"text-center mt-sm-0 mt-3 text-sm-end",children:(0,R.jsxs)("button",{type:"button",className:"btn btn-light",onClick:function(){return window.open(e.data.admin_url,"_blank")},children:[(0,R.jsx)("i",{className:"mdi mdi-account-edit me-1"})," Go to login"]})})})]})})})})},M=a(47397),T=function(e){var n=(0,m.useState)(""),a=(0,r.Z)(n,2),s=a[0],t=a[1],i=(0,m.useRef)(null);(0,m.useEffect)((function(){i.current.scrollIntoView({behavior:"auto"})}),[]);var o=function(){u().spawn(["docker","compose","--project-name",e.projectName.customer_name,"logs","--tail","200"]).then((function(e){t(e)})).catch((function(e){}))};return(0,m.useEffect)((function(){var e=setInterval(o,1e3);return function(){return clearInterval(e)}}),[o]),(0,R.jsx)(M.ZP,{children:(0,R.jsxs)("div",{style:{height:"600px",width:"100%"},children:[(0,R.jsx)("pre",{style:{"white-space":"pre-wrap","word-wrap":"break-word"},children:s}),(0,R.jsx)("div",{ref:i})]})})},I=a(62591),U=function(e){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(j.Z,{className:"mb-2",children:(0,R.jsxs)(g.Z,{sm:12,children:[(0,R.jsx)("label",{className:"me-1",style:{fontWeight:"bolder",marginBottom:"5px"},children:"Backups"}),(0,R.jsx)("p",{children:"Backups are complete snapshots of the app. You can use app backups to restore or clone this app."}),(0,R.jsx)(j.Z,{children:(0,R.jsx)(g.Z,{xs:12,children:(0,R.jsx)(A.Z,{children:(0,R.jsx)(A.Z.Body,{children:(0,R.jsxs)(I.Z,{className:"mb-0",children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{children:[(0,R.jsx)("th",{children:"#"}),(0,R.jsx)("th",{children:"First Name"}),(0,R.jsx)("th",{children:"Last Name"}),(0,R.jsx)("th",{children:"Username"})]})}),(0,R.jsx)("tbody",{children:[{id:1,firstName:"Mark",lastName:"Otto",username:"@mdo"},{id:2,firstName:"Jacob",lastName:"Thornton",username:"@fat"},{id:3,firstName:"Dave",lastName:"G",username:"@dave"},{id:4,firstName:"Nik",lastName:"N",username:"@nikn"},{id:5,firstName:"Shreyu",lastName:"Navadiya",username:"@sn"}].map((function(e,n){return(0,R.jsxs)("tr",{children:[(0,R.jsx)("th",{scope:"row",children:e.id}),(0,R.jsx)("td",{children:e.firstName}),(0,R.jsx)("td",{children:e.lastName}),(0,R.jsx)("td",{children:e.username})]},n)}))})]})})})})}),(0,R.jsx)(x.Z,{variant:"primary",style:{float:"right"},children:"Create Backup"})]})}),(0,R.jsx)("hr",{}),(0,R.jsx)(j.Z,{className:"mb-2",children:(0,R.jsxs)(g.Z,{sm:12,children:[(0,R.jsx)("label",{className:"me-1",style:{fontWeight:"bolder",marginBottom:"5px"},children:"Automatic Backups"}),(0,R.jsx)("p",{children:"Cloudron periodically creates a backup based on the backup settings."}),(0,R.jsx)("p",{children:"Automatic Backups is currently enabled."}),(0,R.jsx)(x.Z,{variant:"primary",style:{float:"right"},children:"Enable Automatic Backups"})]})})]})},O=function(e){var n=(0,b.s0)(),a=(0,m.useState)(!1),i=(0,r.Z)(a,2),o=i[0],l=i[1],c=(0,m.useState)(!1),p=(0,r.Z)(c,2),u=p[0],j=p[1],g=(0,m.useState)(""),Z=(0,r.Z)(g,2),v=Z[0],y=Z[1];return(0,R.jsxs)(h.Z,{show:e.showConform,onHide:e.onClose,size:"lg",scrollable:"true",backdrop:"static",style:{backgroundColor:"rgba(0,0,0,0.8)"},children:[(0,R.jsx)(h.Z.Header,{onHide:e.onClose,closeButton:!0,className:d()("modal-colored-header","bg-warning"),children:(0,R.jsxs)("h4",{children:["Uninstall ",e.app.customer_name]})}),(0,R.jsxs)(h.Z.Body,{className:"row",children:[(0,R.jsxs)("span",{style:{margin:"10px 0px"},children:["This will immediately uninstall ",e.app.customer_name," and remove all its data."]}),(0,R.jsx)("div",{children:u&&(0,R.jsx)(f.Z,{variant:"danger",className:"my-2",children:v})})]}),(0,R.jsxs)(h.Z.Footer,{children:[(0,R.jsx)(x.Z,{variant:"light",onClick:e.onClose,children:"Close"})," ",(0,R.jsxs)(x.Z,{disabled:o,variant:"warning",onClick:(0,t.Z)((0,s.Z)().mark((function a(){var t;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l(!0),a.next=4,(0,w.mx)({app_id:e.app.app_id});case 4:(t=a.sent).data.Error?(j(!0),y(t.data.Error.Message)):(e.onClose(),e.onCloseFatherModal(),e.onDataChange()),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n("/error-500");case 11:case"end":return a.stop()}}),a,null,[[0,8]])}))),children:[o&&(0,R.jsx)(C.Z,{className:"spinner-border-sm me-1",tag:"span",color:"white"})," Uninstall"]})]})]})},H=function(e){var n=(0,m.useState)(!1),a=(0,r.Z)(n,2),i=a[0],o=a[1],l=(0,m.useState)(!1),c=(0,r.Z)(l,2),d=c[0],p=c[1],u=(0,b.s0)();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(j.Z,{className:"mb-2",children:(0,R.jsxs)(g.Z,{sm:12,children:[(0,R.jsx)("label",{className:"me-1",style:{fontWeight:"bolder",marginBottom:"5px"},children:"Start / Stop"}),(0,R.jsx)("p",{children:"Apps can be stopped to conserve server resources instead of uninstalling. Future app backups will not include any app changes between now and the most recent app backup. For this reason, it is recommended to trigger a backup before stopping the app."}),"running"===e.data.status?(0,R.jsxs)(x.Z,{variant:"secondary",style:{float:"right"},disabled:d,onClick:(0,t.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,p(!0),n.next=4,(0,w.pO)({app_id:e.data.app_id});case 4:n.sent.data.Error?u("/error"):(p(!1),e.onDataChange(e.data.app_id)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),u("/error-500");case 11:case"end":return n.stop()}}),n,null,[[0,8]])}))),children:[d&&(0,R.jsx)(C.Z,{className:"spinner-border-sm me-1",tag:"span",color:"white"})," Stop App"]}):(0,R.jsxs)(x.Z,{variant:"primary",style:{float:"right"},disabled:d,onClick:(0,t.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p(!0),n.prev=1,n.next=4,(0,w.P3)({app_id:e.data.app_id});case 4:n.sent.data.Error?u("/error"):(p(!1),e.onDataChange(e.data.app_id)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),u("/error-500");case 11:case"end":return n.stop()}}),n,null,[[1,8]])}))),children:[d&&(0,R.jsx)(C.Z,{className:"spinner-border-sm me-1",tag:"span",color:"white"})," Start App"]})]})}),(0,R.jsx)("hr",{}),(0,R.jsx)(j.Z,{className:"mb-2",children:(0,R.jsxs)(g.Z,{sm:12,children:[(0,R.jsx)("label",{className:"me-1",style:{fontWeight:"bolder",marginBottom:"5px"},children:"Uninstall"}),(0,R.jsx)("p",{children:"This will uninstall the app immediately and remove all its data. The app will be inaccessible. App backups are not removed and will be cleaned up based on the backup policy. You can resurrect this app from an existing app backup using the following instructions."}),(0,R.jsx)(x.Z,{variant:"warning",style:{float:"right"},onClick:function(){o(!0)},children:"Uninstall"})]})}),i&&(0,R.jsx)(O,{showConform:i,onClose:function(){o(!1)},app:e.data,onDataChange:e.onDataChange,onCloseFatherModal:e.onCloseFatherModal})]})},P=u().gettext,G=function(e){var n=(0,m.useState)(e.current_app),a=(0,r.Z)(n,2),i=a[0],o=a[1],l=(0,m.useState)(!1),c=(0,r.Z)(l,2),p=c[0],u=c[1],x=(0,m.useState)(!1),f=(0,r.Z)(x,2),Z=f[0],N=f[1],A=(0,m.useState)(!1),E=(0,r.Z)(A,2),D=E[0],M=E[1],I=(0,b.s0)();(0,m.useEffect)((function(){o(e.current_app)}),[e.current_app]);var O=[{id:"1",title:P("Access"),icon:"mdi mdi-account-circle",text:(0,R.jsx)(B,{data:i})},{id:"2",title:P("Backups"),icon:"mdi mdi-account-circle",text:(0,R.jsx)(U,{data:i})},{id:"3",title:P("Updates"),icon:"mdi mdi-account-circle",text:"Profile - Food truck quinoa dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim."},{id:"4",title:P("Logs"),icon:"mdi mdi-account-circle",text:(0,R.jsx)(T,{projectName:i})},{id:"5",title:P("Uninstall"),icon:"mdi mdi-cog-outline",text:(0,R.jsx)(H,{data:i,onDataChange:e.onDataChange,onCloseFatherModal:e.onClose})}];return i&&(0,R.jsxs)(h.Z,{show:e.showFlag,onHide:e.onClose,size:"lg",scrollable:"true",dialogClassName:"modal-full-width",children:[(0,R.jsx)(h.Z.Header,{onHide:e.onClose,closeButton:!0,children:(0,R.jsxs)("div",{style:{padding:"10px",display:"flex",width:"100%",alignItems:"center"},children:[(0,R.jsx)("div",{className:"appstore-item-content-icon col-same-height",children:(0,R.jsx)("img",{src:i.image_url,alt:"",className:"app-icon",onError:function(e){return e.target.src=y}})}),(0,R.jsxs)("div",{className:"col-same-height",children:[(0,R.jsx)("h4",{className:"appstore-item-content-title",style:{marginTop:"5px"},children:i.customer_name}),(0,R.jsx)("h5",{className:"appstore-item-content-title",style:{marginTop:"5px"},children:i.status})]}),(0,R.jsxs)("div",{className:"col-same-height",style:{flexGrow:1,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:["exited"===i.status&&(0,R.jsx)(k.Z,{placement:"bottom",overlay:(0,R.jsx)(S.Z,{id:"tooltip-bottom",children:"Start App"}),children:(0,R.jsx)("button",{className:"nav-link dropdown-toggle end-bar-toggle arrow-none btn btn-link shadow-none",style:{color:"#fff",backgroundColor:"#2196f3",padding:"5px 10px",borderRadius:"3px",borderColor:"#2196f3",marginRight:"10px"},onClick:(0,t.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u(!0),n.prev=1,n.next=4,(0,w.P3)({app_id:i.app_id});case 4:n.sent.data.Error?I("/error"):e.onDataChange(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),I("/error-500");case 11:return n.prev=11,u(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,8,11,14]])}))),children:p?(0,R.jsx)(C.Z,{className:"spinner-border-sm noti-icon"}):(0,R.jsx)("i",{className:"dripicons-media-play noti-icon"})})},"bottom1"),"running"===i.status&&(0,R.jsx)(k.Z,{placement:"bottom",overlay:(0,R.jsx)(S.Z,{id:"tooltip-bottom",children:"Stop App"}),children:(0,R.jsx)("button",{className:"nav-link dropdown-toggle end-bar-toggle arrow-none btn btn-link shadow-none",style:{color:"#fff",backgroundColor:"#2196f3",padding:"5px 10px",borderRadius:"3px",borderColor:"#2196f3",marginRight:"10px"},onClick:(0,t.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return N(!0),n.prev=1,n.next=4,(0,w.pO)({app_id:i.app_id});case 4:n.sent.data.Error?I("/error"):e.onDataChange(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),I("/error-500");case 11:return n.prev=11,N(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,8,11,14]])}))),children:Z?(0,R.jsx)(C.Z,{className:"spinner-border-sm noti-icon"}):(0,R.jsx)("i",{className:"dripicons-power noti-icon"})})},"bottom2"),(0,R.jsx)(k.Z,{placement:"bottom",overlay:(0,R.jsx)(S.Z,{id:"tooltip-bottom",children:"Restart App"}),children:(0,R.jsx)("button",{className:"nav-link dropdown-toggle end-bar-toggle arrow-none btn btn-link shadow-none",style:{color:"#fff",backgroundColor:"#2196f3",padding:"5px 10px",borderRadius:"3px",borderColor:"#2196f3",marginRight:"10px"},onClick:(0,t.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,M(!0),n.next=4,(0,w.h1)({app_id:i.app_id});case 4:n.sent.data.Error?I("/error"):e.onDataChange(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),I("/error-500");case 11:return n.prev=11,M(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])}))),children:D?(0,R.jsx)(C.Z,{className:"spinner-border-sm noti-icon"}):(0,R.jsx)("i",{className:"dripicons-clockwise noti-icon"})})},"bottom3"),"running"===i.status&&(0,R.jsx)(k.Z,{placement:"bottom",overlay:(0,R.jsx)(S.Z,{id:"tooltip-bottom",children:"Terminal"}),children:(0,R.jsxs)(v.rU,{to:{pathname:"/terminal",search:"?id=".concat(i.customer_name)},style:{color:"#fff",backgroundColor:"#2196f3",padding:"5px 10px",borderRadius:"3px",borderColor:"#2196f3",marginRight:"10px"},target:"_blank",children:[(0,R.jsx)("i",{className:"dripicons-code noti-icon"})," "]})},"bottom4"),(0,R.jsx)(k.Z,{placement:"bottom",overlay:(0,R.jsx)(S.Z,{id:"tooltip-bottom",children:"Documentation"}),children:(0,R.jsxs)("a",{href:"https://support.websoft9.com/docs/"+i.app_name,style:{color:"#fff",backgroundColor:"#2196f3",padding:"5px 10px",borderRadius:"3px",borderColor:"#2196f3",marginRight:"10px"},target:"_blank",children:[(0,R.jsx)("i",{className:"dripicons-document noti-icon"})," "]})},"bottom5")]})]})}),(0,R.jsx)(h.Z.Body,{className:"row",children:(0,R.jsxs)(_.Z.Container,{defaultActiveKey:"Domain",children:[(0,R.jsx)(g.Z,{sm:2,className:"mb-2 mb-sm-0",children:(0,R.jsx)(F.Z,{variant:"pills",className:"flex-column",children:O.map((function(e,n){var a=function(){return(0,R.jsx)(F.Z.Item,{children:(0,R.jsxs)(F.Z.Link,{as:v.rU,to:"#",eventKey:e.title,children:[(0,R.jsx)("i",{className:d()(e.icon,"d-md-none","d-block","me-1")}),(0,R.jsx)("span",{className:"d-none d-md-block",children:e.title})]})},n)};return"Terminal"!==e.title||"running"===i.status?a():void 0}))})}),(0,R.jsx)(g.Z,{sm:10,children:(0,R.jsx)(_.Z.Content,{style:{height:"100%"},children:O.map((function(e,n){return(0,R.jsx)(_.Z.Pane,{eventKey:e.title,id:e.id,style:{height:"100%"},children:(0,R.jsx)(j.Z,{style:{height:"100%"},children:(0,R.jsx)(g.Z,{sm:"12",style:{height:"Terminal"===e.title?"600px":""},children:e.text})})},n)}))})})]})})]})},L=u().gettext,q=m.forwardRef((function(e,n){return(0,R.jsx)(o.Z,(0,i.Z)({elevation:6,ref:n,variant:"filled"},e))})),z=function(e){return(0,R.jsxs)(h.Z,{show:e.showConform,onHide:e.onClose,size:"lg",scrollable:"true",backdrop:"static",children:[(0,R.jsx)(h.Z.Header,{onHide:e.onClose,closeButton:!0,className:d()("modal-colored-header","bg-danger"),children:(0,R.jsxs)("h4",{children:["This is the error message for ",e.app.customer_name]})}),(0,R.jsx)(h.Z.Body,{className:"row",children:e.app.status_reason&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("span",{style:{margin:"10px 0px"},children:[" ",(0,R.jsx)("b",{children:"Code: "}),e.app.status_reason.Code," "]}),(0,R.jsxs)("span",{style:{margin:"10px 0px"},children:[" ",(0,R.jsx)("b",{children:"Message: "}),e.app.status_reason.Message," "]}),(0,R.jsxs)("span",{style:{margin:"10px 0px"},children:[" ",(0,R.jsx)("b",{children:"Detail: "}),e.app.status_reason.Detail," "]})]})}),(0,R.jsxs)(h.Z.Footer,{children:[(0,R.jsx)(x.Z,{variant:"light",onClick:e.onClose,children:"Close"}),(0,R.jsx)(x.Z,{variant:"light",onClick:function(){return window.open("https://www.websoft9.com/ticket","_blank")},children:"Support"})]})]})},W=function(e){var n=(0,b.s0)(),a=(0,m.useState)(!1),i=(0,r.Z)(a,2),o=i[0],l=i[1],c=(0,m.useState)(!1),p=(0,r.Z)(c,2),u=p[0],j=p[1],g=(0,m.useState)(""),Z=(0,r.Z)(g,2),v=Z[0],y=Z[1];return(0,R.jsxs)(h.Z,{show:e.showConform,onHide:e.onClose,size:"lg",scrollable:"true",backdrop:"static",children:[(0,R.jsx)(h.Z.Header,{onHide:e.onClose,className:d()("modal-colored-header","bg-warning"),children:(0,R.jsxs)("h4",{children:["Remove ",e.app.customer_name]})}),(0,R.jsxs)(h.Z.Body,{className:"row",children:[(0,R.jsxs)("span",{style:{margin:"10px 0px"},children:["This will immediately remove ",e.app.customer_name," and remove all its data."]}),(0,R.jsx)("div",{children:u&&(0,R.jsx)(f.Z,{variant:"danger",className:"my-2",children:v})})]}),(0,R.jsxs)(h.Z.Footer,{children:[(0,R.jsx)(x.Z,{variant:"light",onClick:e.onClose,children:"Close"})," ",(0,R.jsxs)(x.Z,{disabled:o,variant:"warning",onClick:(0,t.Z)((0,s.Z)().mark((function a(){var t;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l(!0),a.next=4,(0,w.mx)({app_id:e.app.app_id});case 4:(t=a.sent).data.Error?(j(!0),y(t.data.Error.Message)):(e.onClose(),e.onDataChange()),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n("/error-500");case 11:case"end":return a.stop()}}),a,null,[[0,8]])}))),children:[o&&(0,R.jsx)(C.Z,{className:"spinner-border-sm me-1",tag:"span",color:"white"})," Uninstall"]})]})]})},K=function(){var e,n=(0,m.useState)(!1),a=(0,r.Z)(n,2),i=a[0],o=a[1],c=(0,m.useState)(!1),p=(0,r.Z)(c,2),u=p[0],h=p[1],f=(0,m.useState)(!1),k=(0,r.Z)(f,2),S=k[0],_=k[1],F=(0,m.useState)(!1),A=(0,r.Z)(F,2),E=(A[0],A[1],(0,m.useState)(!1)),D=(0,r.Z)(E,2),B=D[0],M=D[1],T=(0,m.useState)(!1),I=(0,r.Z)(T,2),U=I[0],O=I[1],H=(0,m.useState)(""),P=(0,r.Z)(H,2),K=P[0],V=P[1],Y=(0,m.useState)(""),$=(0,r.Z)(Y,2),J=$[0],Q=$[1],X=(0,m.useState)(null),ee=(0,r.Z)(X,2),ne=ee[0],ae=ee[1],se=(0,m.useState)([]),te=(0,r.Z)(se,2),re=te[0],ie=te[1],oe=(0,m.useState)([]),le=(0,r.Z)(oe,2),ce=(le[0],le[1],(0,m.useState)("")),de=(0,r.Z)(ce,2),pe=de[0],ue=de[1],me=(0,m.useState)("all"),he=(0,r.Z)(me,2),xe=he[0],fe=he[1],je=(0,m.useState)([]),ge=(0,r.Z)(je,2),Ze=(ge[0],ge[1],(0,m.useRef)(ne)),be=(0,b.s0)(),ve=(0,m.useState)(0),ye=(0,r.Z)(ve,2),Ne=ye[0],Ce=ye[1],we=(0,m.useState)(null),ke=(0,r.Z)(we,2),Se=ke[0],_e=ke[1],Fe=(0,m.useState)(null),Ae=(0,r.Z)(Fe,2),Ee=(Ae[0],Ae[1]),De=(0,m.useState)(!1),Re=(0,r.Z)(De,2),Be=Re[0],Me=Re[1],Te=function(){(0,w.u3)().then((function(e){if(e.data.Error)Ce(e.data.Error.Code),_e(e.data.Error.Message),Ee(e.data.Error.Details);else{var n=e.data.ResponseData;if(ie(n),Ze.current){var a=n.find((function(e){return e.app_id===Ze.current.app_id}));ae(a)}}Me(!1)})).catch((function(e){b.Fg}))};if((0,m.useEffect)((function(){Te()}),[]),(0,m.useEffect)((function(){}),[]),(0,m.useEffect)((function(){Ze.current=ne}),[ne]),(0,m.useEffect)((function(){return function(){return clearInterval(e)}}),[]),Be)return(0,R.jsx)(C.Z,{className:"dis_mid"});if(Ne)return(0,R.jsxs)("p",{children:["Code : $",Ne," "]});if(Se)return(0,R.jsxs)("p",{children:["Error : $",Se," "]});var Ie=function(e,n){"clickaway"!==n&&(O(!1),V(""))},Ue=function(){Te()},Oe={Stop:{api:w.pO},Start:{api:w.P3},Restart:{api:w.h1},Uninstall:{api:w.mx}},He=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(n,a){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Uninstall"!==n){e.next=4;break}return ae(a),h(!0),e.abrupt("return");case 4:return M(!0),e.prev=5,e.next=8,Oe[n].api({app_id:a.app_id});case 8:(t=e.sent).data.Error?(O(!0),Q("error"),V(t.data.Error.Message)):(O(!0),Q("success"),V("\u6267\u884c\u6210\u529f"),Ue()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),be("/error-500");case 15:return e.prev=15,M(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[5,12,15,18]])})));return function(n,a){return e.apply(this,arguments)}}();return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(j.Z,{className:"mb-2",style:{display:"flex",alignItems:"center"},children:[(0,R.jsx)(g.Z,{sm:2,children:(0,R.jsx)("span",{style:{fontSize:"36px"},children:L("My Apps")})}),(0,R.jsx)(g.Z,{sm:3,children:(0,R.jsxs)(N.Z,{value:xe,name:"select",type:"select",className:"form-select",onChange:function(e){return function(e){fe(e)}(e.target.value)},children:[(0,R.jsx)("option",{value:"all",children:L("All States")}),(0,R.jsx)("option",{value:"installing",children:"installing"}),(0,R.jsx)("option",{value:"running",children:"running"}),(0,R.jsx)("option",{value:"exited",children:"exited"}),(0,R.jsx)("option",{value:"restarting",children:"restarting"}),(0,R.jsx)("option",{value:"failed",children:"failed"})]},"select")}),(0,R.jsx)(g.Z,{sm:6,children:(0,R.jsx)(g.Z,{xs:"auto",children:(0,R.jsx)(N.Z,{type:"text",name:"search",placeholder:"Search for apps like WordPress, Dropbox, Slack, Trello, \u2026",onChange:function(e){return function(e){ue(e)}(e.target.value)}})})}),(0,R.jsx)(g.Z,{sm:1,children:(0,R.jsx)(x.Z,{variant:"primary",style:{float:"right"},onClick:function(){window.location.reload(!1)},children:L("Refresh")})})]}),[!0,!1].map((function(e){var n=re.filter((function(e){return"all"===xe||e.status===xe})).filter((function(n){return n.official_app===e})).filter((function(e){return e.customer_name.includes(pe)}));return n.length>0?(0,R.jsxs)(j.Z,{children:[(0,R.jsx)("h4",{style:e?{}:{paddingTop:"10px"},children:L(e?"Websoft9's Apps":"Other Apps")}),n.map((function(n,a){return(0,R.jsx)(g.Z,{xxl:2,md:6,className:"appstore-item",children:(0,R.jsxs)("div",{className:"appstore-item-content highlight",style:{textAlign:"center"},children:[!e&&("running"===n.status||"exited"===n.status)&&(0,R.jsxs)(Z.Z,{style:{float:"right"},children:[(0,R.jsx)(Z.Z.Toggle,{as:v.rU,to:"#",className:"arrow-none card-drop",children:B?(0,R.jsx)(C.Z,{className:"spinner-border-sm noti-icon"}):(0,R.jsx)("i",{className:"dripicons-gear noti-icon"})}),(0,R.jsx)(Z.Z.Menu,{align:"end",children:(s=n.status,[{label:"Stop",icon:"dripicons-power noti-icon",condition:"running"===s},{label:"Start",icon:"dripicons-media-play noti-icon",condition:"exited"===s},{label:"Restart",icon:"dripicons-clockwise noti-icon",condition:"running"===s||"exited"===s},{label:"Uninstall",icon:"dripicons-trash noti-icon",variant:"text-danger",hasDivider:!0,condition:!0}]||[]).map((function(e,a){return(0,R.jsxs)(m.Fragment,{children:[e.condition&&e.hasDivider&&(0,R.jsx)(Z.Z.Divider,{as:"div"}),e.condition&&(0,R.jsxs)(Z.Z.Item,{className:d()(e.variant?e.variant:""),onClick:function(){return He(e.label,n)},children:[e.icon&&(0,R.jsx)("i",{className:d()(e.icon,"me-1")}),e.label]})]},a)}))})]}),e&&("running"===n.status||"exited"===n.status)&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"float-end arrow-none card-drop p-0",onClick:function(){!function(e){ae(e),o(!0)}(n)},children:(0,R.jsx)("i",{className:"dripicons-gear noti-icon"})}),(0,R.jsx)("div",{style:{clear:"both"}})]}),e&&"installing"===n.status&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"float-end arrow-none card-drop p-0",children:(0,R.jsx)("i",{className:"dripicons-empty noti-icon"})}),(0,R.jsx)("div",{style:{clear:"both"}})]}),"failed"===n.status&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:"float-end arrow-none card-drop p-0",children:[(0,R.jsx)("i",{className:"dripicons-information noti-icon",style:{paddingRight:"10px"},onClick:function(){!function(e){ae(e),_(!0)}(n)}}),(0,R.jsx)("i",{className:"dripicons-trash noti-icon",onClick:function(){!function(e){ae(e),h(!0)}(n)}})]}),(0,R.jsx)("div",{style:{clear:"both"}})]}),(0,R.jsx)("div",{children:(0,R.jsx)("img",{src:n.image_url,alt:n.app_name,className:"app-icon",style:{margin:"20px 10px 20px 10px"},onError:function(e){return e.target.src=y}})}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h3",{className:"appstore-item-content-title",style:{color:"#2196f3"},children:n.customer_name}),(0,R.jsxs)("div",{style:{color:"failed"===n.status?"red":"inherit",display:"flex",alignItems:"center",justifyContent:"center"},children:[n.status&&"installing"===n.status&&(0,R.jsx)(C.Z,{className:"spinner-border-sm m-2"})," ",(0,R.jsx)("div",{className:"m-2",children:n.status})]})]})]})},n.app_id+a);var s}))]}):null})),i&&(0,R.jsx)(G,{current_app:ne,showFlag:i,onClose:function(){o(!1),ae(null)},onDataChange:Ue}),u&&(0,R.jsx)(W,{showConform:u,onClose:function(){h(!1)},app:ne,onDataChange:Ue}),S&&(0,R.jsx)(z,{showConform:S,onClose:function(){_(!1)},app:ne}),U&&(0,R.jsx)(l.Z,{open:U,autoHideDuration:5e3,onClose:Ie,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,R.jsx)(q,{onClose:Ie,severity:J,sx:{width:"100%"},children:K})})]})}}}]);
//# sourceMappingURL=604.dc827bf5.chunk.js.map