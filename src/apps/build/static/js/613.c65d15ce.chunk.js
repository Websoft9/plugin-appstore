"use strict";(self.webpackChunkapps=self.webpackChunkapps||[]).push([[613],{3131:function(e,n,a){var t=a(5987),r=a(1413),s=a(9439),i=a(1694),o=a.n(i),l=a(2791),c=a(9410),d=a(9795),u=a(184),p=["label","type","name","value","readOnly","placeholder","register","errors","className","labelClassName","containerClass","refCallback","children"],h=function(e){var n=e.name,a=e.placeholder,t=e.refCallback,i=e.errors,p=e.register,h=e.className,x=e.value,m=e.readOnly,f=(0,l.useState)(!1),j=(0,s.Z)(f,2),Z=j[0],g=j[1];return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(c.Z,{className:"mb-0",children:[(0,u.jsx)(d.Z.Control,(0,r.Z)((0,r.Z)({type:Z?"text":"password",placeholder:a,name:n,id:n,as:"input",ref:function(e){t&&t(e)},className:h,isInvalid:!(!i||!i[n])},p?p(n):{}),{},{autoComplete:n,defaultValue:x,readOnly:m})),(0,u.jsx)("div",{className:o()("input-group-text","input-group-password",{"show-password":Z}),"data-password":Z?"true":"false",children:(0,u.jsx)("span",{className:"password-eye",onClick:function(){g(!Z)}})})]})})};n.Z=function(e){var n=e.label,a=e.type,s=e.name,i=e.value,o=e.readOnly,l=e.placeholder,c=e.register,x=e.errors,m=e.className,f=e.labelClassName,j=e.containerClass,Z=e.refCallback,g=e.children,v=(0,t.Z)(e,p),b="textarea"===a?"textarea":"select"===a?"select":"input";return(0,u.jsx)(u.Fragment,{children:"hidden"===a?(0,u.jsx)("input",(0,r.Z)((0,r.Z)({type:a,name:s},c?c(s):{}),v)):(0,u.jsx)(u.Fragment,{children:"password"===a?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(d.Z.Group,{className:j,children:[n?(0,u.jsxs)(u.Fragment,{children:[" ",(0,u.jsx)(d.Z.Label,{className:f,children:n})," ",g," "]}):null,(0,u.jsx)(h,{name:s,placeholder:l,refCallback:Z,errors:x,register:c,className:m,value:i,readOnly:o}),x&&x[s]?(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",className:"d-block",children:x[s].message}):null]})}):(0,u.jsx)(u.Fragment,{children:"select"===a?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(d.Z.Group,{className:j,children:[n?(0,u.jsx)(d.Z.Label,{className:f,children:n}):null,(0,u.jsx)(d.Z.Select,(0,r.Z)((0,r.Z)((0,r.Z)({type:a,label:n,name:s,id:s,ref:function(e){Z&&Z(e)},comp:b,className:m,isInvalid:!(!x||!x[s])},c?c(s):{}),v),{},{children:g})),x&&x[s]?(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",children:x[s].message}):null]})}):(0,u.jsx)(u.Fragment,{children:"checkbox"===a||"radio"===a?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(d.Z.Group,{className:j,children:[(0,u.jsx)(d.Z.Check,(0,r.Z)((0,r.Z)({type:a,label:n,name:s,id:s,ref:function(e){Z&&Z(e)},className:m,isInvalid:!(!x||!x[s])},c?c(s):{}),v)),x&&x[s]?(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",children:x[s].message}):null]})}):(0,u.jsxs)(d.Z.Group,{className:j,children:[n?(0,u.jsx)(d.Z.Label,{className:f,children:n}):null,(0,u.jsx)(d.Z.Control,(0,r.Z)((0,r.Z)((0,r.Z)({type:a,placeholder:l,value:i,name:s,id:s,as:b,ref:function(e){Z&&Z(e)},className:m,isInvalid:!(!x||!x[s])},c?c(s):{}),v),{},{autoComplete:s,children:g||null})),x&&x[s]?(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",children:x[s].message}):null]})})})})})}},2733:function(e,n,a){var t=a(4942),r=(a(2791),a(1694)),s=a.n(r),i=a(184),o=function(e){var n=e.children||null,a=e.tag||"div",r=e.color||"secondary",o=e.size||"";return(0,i.jsx)(a,{role:"status",className:s()({"spinner-border":"bordered"===e.type,"spinner-grow":"grow"===e.type},["text-".concat(r)],(0,t.Z)({},"avatar-".concat(o),o),e.className),children:n})};o.defaultProps={tag:"div",type:"bordered"},n.Z=o},165:function(e,n,a){a.d(n,{qL:function(){return N},pd:function(){return b},dy:function(){return v},qs:function(){return k},_6:function(){return y},rl:function(){return x},u3:function(){return m},h1:function(){return g},P3:function(){return Z},pO:function(){return j},mx:function(){return f}});var t,r=a(4165),s=a(3144),i=a(5671),o=a(5861),l=a(1243),c=a(7689);a(184);function d(){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)((0,r.Z)().mark((function e(){var n,a,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=10;break}return e.next=3,fetch("./config.json");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,s=a.APPMANAGE.APPMANAGE_USERNAME,i=a.APPMANAGE.APPMANAGE_PASSWORD,t=btoa(s+":"+i);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l.Z.defaults.headers.post["Content-Type"]="application/json",l.Z.defaults.headers.get["Content-Type"]="application/json",l.Z.defaults.headers.common["Cache-Control"]="no-cache",l.Z.defaults.headers.common.Pragma="no-cache",l.Z.defaults.headers.common.Expires="0",l.Z.interceptors.response.use((function(e){return e}),(function(e){var n;if(e&&e.response&&404===e.response.status)c.Fg;else{if(!e||!e.response||500!==e.response.status)return n=e.response&&e.response.data?e.response.data.message:e.message||e,Promise.reject(n);c.Fg}}));var p=(0,s.Z)((function e(){(0,i.Z)(this,e),this.get=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n,a){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return e.t0=e.sent,l.Z.defaults.headers.common.Authorization="Basic "+e.t0,a?(s=a?Object.keys(a).map((function(e){return e+"="+a[e]})).join("&"):"",t=l.Z.get("".concat(n,"?").concat(s),a)):t=l.Z.get("".concat(n),a),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),this.create=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n,a){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return e.t0=e.sent,l.Z.defaults.headers.common.Authorization="Basic "+e.t0,e.abrupt("return",l.Z.post(n,a));case 5:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()})),h=new p;function x(e){return h.get("".concat("/AppManage/AppInstall"),e)}function m(e){return h.get("".concat("/AppManage/AppList"),e)}function f(e){return h.get("".concat("/AppManage/AppUninstall"),e)}function j(e){return h.get("".concat("/AppManage/AppStop"),e)}function Z(e){return h.get("".concat("/AppManage/AppStart"),e)}function g(e){return h.get("".concat("/AppManage/AppRestart"),e)}function v(e){return h.get("".concat("/AppManage/AppDomainList"),e)}function b(e){return h.get("".concat("/AppManage/AppDomainDelete"),e)}function y(e){return h.get("".concat("/AppManage/AppDomainUpdate"),e)}function N(e){return h.get("".concat("/AppManage/AppDomainAdd"),e)}function k(e){return h.get("".concat("/AppManage/AppDomainSet"),e)}},3422:function(e,n,a){a.r(n),a.d(n,{default:function(){return re}});var t=a(4165),r=a(5861),s=a(9439),i=a(1413),o=a(4358),l=a(3971),c=a(1694),d=a.n(c),u=a(7346),p=a.n(u),h=a(2791),x=a(2025),m=a(3360),f=a(2469),j=a(9743),Z=a(2677),g=a(42),v=a(7689),b=a(1087),y=a.p+"static/media/default.50b14dd03b88a6d9022a.png",N=a(3131),k=a(2733),w=a(165),C=a(5862),_=a(2576),S=a(1752),E=a(4533),A=a(3433),D=a(1131),P=a(1473),R=a(3721),F=a(5818),I=a(1123),M=a(9627),B=a(5736),O=a(9795),H=a(184),T=p().gettext,z=h.forwardRef((function(e,n){return(0,H.jsx)(o.Z,(0,i.Z)({elevation:6,ref:n,variant:"filled"},e))})),U=function(e){var n=(0,v.s0)(),a=(0,h.useState)(!1),i=(0,s.Z)(a,2),o=i[0],l=i[1],c=(0,h.useState)(!1),u=(0,s.Z)(c,2),p=u[0],j=u[1],Z=(0,h.useState)(""),g=(0,s.Z)(Z,2),b=g[0],y=g[1];return(0,H.jsxs)(x.Z,{show:e.showConform,onHide:e.onClose,size:"lg",scrollable:"true",backdrop:"static",style:{backgroundColor:"rgba(0,0,0,0.8)"},children:[(0,H.jsx)(x.Z.Header,{onHide:e.onClose,className:d()("modal-colored-header","bg-warning"),children:(0,H.jsx)("h4",{children:T("Delete domain binding")})}),(0,H.jsxs)(x.Z.Body,{className:"row",children:[(0,H.jsxs)("span",{style:{margin:"10px 0px"},children:[T("Are you sure you want to delete the domain for:")," ",e.deleteRowData.domainValue," ? "]}),(0,H.jsx)("div",{children:p&&(0,H.jsx)(f.Z,{variant:"danger",className:"my-2",children:b})})]}),(0,H.jsxs)(x.Z.Footer,{children:[(0,H.jsx)(m.Z,{variant:"light",onClick:e.onClose,children:T("Close")})," ",(0,H.jsxs)(m.Z,{disabled:o,variant:"warning",onClick:(0,r.Z)((0,t.Z)().mark((function a(){var r;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l(!0),a.next=4,(0,w.pd)({app_id:e.deleteRowData.app_id,domain:e.deleteRowData.domainValue});case 4:(r=a.sent).data.Error?(j(!0),y(r.data.Error.Message)):(l(!1),e.onClose(),e.onDataChange()),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n("/error-500");case 11:return a.prev=11,l(!1),a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[0,8,11,14]])}))),children:[o&&(0,H.jsx)(k.Z,{className:"spinner-border-sm me-1",tag:"span",color:"white"})," ",T("Delete")]})]})]})},V=function(e){var n,a,i,o,c,d,u,p,x,f,g,b,y,k,C,_,S,E,V,L,W,G,$,q,J,K,Q,X,Y,ee=(0,v.s0)(),ne=(0,h.useState)([]),ae=(0,s.Z)(ne,2),te=ae[0],re=ae[1],se=(0,h.useState)(!1),ie=(0,s.Z)(se,2),oe=ie[0],le=ie[1],ce=(0,h.useState)(!1),de=(0,s.Z)(ce,2),ue=de[0],pe=de[1],he=(0,h.useState)(""),xe=(0,s.Z)(he,2),me=xe[0],fe=xe[1],je=(0,h.useState)(""),Ze=(0,s.Z)(je,2),ge=Ze[0],ve=Ze[1],be=(0,h.useState)(!1),ye=(0,s.Z)(be,2),Ne=ye[0],ke=ye[1],we=(0,h.useState)(null),Ce=(0,s.Z)(we,2),_e=Ce[0],Se=Ce[1],Ee=(0,h.useState)(""),Ae=(0,s.Z)(Ee,2),De=(Ae[0],Ae[1],h.useState(!0)),Pe=(0,s.Z)(De,2),Re=Pe[0],Fe=Pe[1],Ie=h.useState(!0),Me=(0,s.Z)(Ie,2),Be=Me[0],Oe=Me[1],He=h.useState(!1),Te=(0,s.Z)(He,2),ze=Te[0],Ue=Te[1],Ve=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var a,r,s,i;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,w.dy)({app_id:e.data.app_id});case 3:(a=n.sent).data.Error?(pe(!0),ve("error"),fe(a.data.Error.Message)):(r=a.data.ResponseData.Domain_set,s=r.default_domain,(i=r.domains.map((function(n){return{app_id:e.data.app_id,domainValue:n,newDomainValue:n,isEditable:!1,isFromAPI:!0,isDefaultDomain:n===s}}))).sort((function(e,n){return n.isDefaultDomain-e.isDefaultDomain})),re(i)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),ee("/error-500");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();(0,h.useEffect)((function(){Ve()}),[]);var Le=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,a){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.isFromAPI?(ke(!0),Se(n)):((r=(0,A.Z)(te)).splice(a,1),re(r));case 1:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),We=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(a){var r,s;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=te[a].newDomainValue,le(!0),n.prev=2,n.next=5,(0,w.qs)({app_id:e.data.app_id,domain:r});case 5:(s=n.sent).data.Error?(pe(!0),ve("error"),fe(s.data.Error.Message)):(pe(!0),ve("success"),fe("\u8bbe\u7f6e\u6210\u529f!"),Ve()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),ee("/error-500");case 12:return n.prev=12,le(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[2,9,12,15]])})));return function(e){return n.apply(this,arguments)}}(),Ge=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(a,r){var s,i,o,l,c,d;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=document.getElementsByName("domain-".concat(r))[0],i=s.value,o=/^(?!https?:\/\/)([\da-z\.-]+\.)*([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,!i){n.next=49;break}if(!o.test(i)){n.next=44;break}if(!a.isFromAPI){n.next=28;break}if(a.domainValue==a.newDomainValue){n.next=23;break}return le(!0),n.prev=8,n.next=11,(0,w._6)({app_id:e.data.app_id,domain_old:a.domainValue,domain_new:i});case 11:(l=n.sent).data.Error?(pe(!0),ve("error"),fe(l.data.Error.Message)):(pe(!0),ve("success"),fe("Success"),Ve()),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(8),ee("/error-500");case 18:return n.prev=18,le(!1),n.finish(18);case 21:n.next=26;break;case 23:(c=(0,A.Z)(te))[r].isEditable=!c[r].isEditable,re(c);case 26:n.next=42;break;case 28:return n.prev=28,le(!0),n.next=32,(0,w.qL)({app_id:e.data.app_id,domains:i});case 32:(d=n.sent).data.Error?(pe(!0),ve("error"),fe(d.data.Error.Message)):(pe(!0),ve("success"),fe("Success"),Ve()),n.next=39;break;case 36:n.prev=36,n.t1=n.catch(28),ee("/error-500");case 39:return n.prev=39,le(!1),n.finish(39);case 42:n.next=47;break;case 44:pe(!0),ve("error"),fe(T("Please enter the correct domain name and cannot start with http or https!"));case 47:n.next=52;break;case 49:pe(!0),ve("error"),fe(T("Domain name cannot be empty"));case 52:case"end":return n.stop()}}),n,null,[[8,15,18,21],[28,36,39,42]])})));return function(e,a){return n.apply(this,arguments)}}();var $e=function(e,n){"clickaway"!==n&&(pe(!1),fe(""))},qe=(0,h.useState)(!1),Je=(0,s.Z)(qe,2);Je[0],Je[1];return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(M.Z,{children:[oe&&(0,H.jsx)("div",{className:"card-disabled",style:{zIndex:999},children:(0,H.jsx)("div",{className:"card-portlets-loader"})}),(0,H.jsxs)(M.Z.Body,{children:[(0,H.jsxs)(P.Z,{defaultExpanded:!0,onChange:function(e,n){Fe(n)},className:"mb-2",children:[(0,H.jsx)(F.Z,{expandIcon:(0,H.jsx)(D.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,H.jsxs)(I.Z,{children:[(0,H.jsx)("label",{className:"me-2 fs-5 d-block",children:"\u57df\u540d\u8bbf\u95ee"}),(0,H.jsxs)("span",{className:"me-2 fs-6",style:{display:Re?"inline":"none"},children:["\u5efa\u8bae\u7ed1\u5b9a\u57df\u540d\u8bbf\u95ee\u5e94\u7528\uff0c\u4ee5\u514d\u65e0\u57df\u540d\u9020\u6210\u5e94\u7528\u5f02\u5e38\u3002\u5982\u8981\u9700\u8981\u8fdb\u884cHttps\u8bbe\u7f6e\u6216\u8005\u81ea\u5b9a\u4e49\u914d\u7f6e\uff0c\u8bf7\u70b9\u51fb",(0,H.jsx)("a",{href:"/nginx",target:"_parent",children:"\u66f4\u591a"})]})]})}),(0,H.jsx)(R.Z,{children:(0,H.jsx)(I.Z,{children:(0,H.jsxs)(M.Z,{children:[(0,H.jsx)(M.Z.Header,{children:(0,H.jsx)(j.Z,{className:"mb-2 align-items-center",children:(0,H.jsxs)(Z.Z,{xs:12,md:12,className:"d-flex justify-content-end",children:[(0,H.jsx)(m.Z,{variant:"primary",size:"sm",className:"me-2",onClick:function(){te.length<10&&re([].concat((0,A.Z)(te),[{app_id:e.data.app_id,domainValue:"",newDomainValue:"",isEditable:!0,isFromAPI:!1,isDefaultDomain:!1}]))},children:"\u6dfb\u52a0\u57df\u540d"}),(null===(n=e.data)||void 0===n||null===(a=n.config)||void 0===a?void 0:a.admin_domain_url)&&(0,H.jsx)("a",{href:null===(i=e.data)||void 0===i||null===(o=i.config)||void 0===o?void 0:o.admin_domain_url,target:"_blank",className:"me-2",children:(0,H.jsx)(m.Z,{variant:"primary",size:"sm",children:"\u8bbf\u95ee\u540e\u53f0"})}),(0,H.jsxs)(m.Z,{size:"sm",className:"me-2",variant:"primary",onClick:(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le(!0),e.next=3,Ve();case 3:le(!1);case 4:case"end":return e.stop()}}),e)}))),children:[" ",T("Refresh")]})]})})}),(0,H.jsx)(M.Z.Body,{children:te.map((function(e,n){return(0,H.jsx)(j.Z,{className:"mb-2",children:(0,H.jsxs)(Z.Z,{xs:12,className:"d-flex justify-content-between",children:[(0,H.jsx)(Z.Z,{children:(0,H.jsx)(N.Z,{className:"mb-2 mb-md-0",type:"text",name:"domain-".concat(n),value:e.newDomainValue,disabled:!e.isEditable,onChange:function(e){return function(e,n){var a=(0,A.Z)(te);a[e].newDomainValue=n.target.value,re(a)}(n,e)}})}),(0,H.jsxs)(Z.Z,{className:"col-auto ms-auto",children:[(0,H.jsx)(m.Z,{variant:"link text-danger",style:{padding:"5px"},onClick:function(){return Le(e,n)},children:T("delete")}),e.isEditable&&e.isFromAPI&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(m.Z,{variant:"link text-success",style:{padding:"5px"},onClick:function(){return Ge(e,n)},children:T("save")}),(0,H.jsx)(m.Z,{variant:"link text-success",style:{padding:"5px"},onClick:function(){return function(e){var n=(0,A.Z)(te);n[e].newDomainValue=n[e].domainValue,n[e].isEditable=!n[e].isEditable,re(n)}(n)},children:T("cancel")})]}),e.isEditable&&!e.isFromAPI&&(0,H.jsx)(m.Z,{variant:"link text-success",style:{padding:"5px"},onClick:function(){return Ge(e,n)},children:T("save")}),!e.isEditable&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(m.Z,{variant:"link text-primary",style:{padding:"5px"},onClick:function(){return function(e){var n=(0,A.Z)(te);n[e].isEditable=!n[e].isEditable,re(n)}(n)},children:T("edit")}),(0,H.jsx)("a",{href:"http://"+e.domainValue,target:"_blank",children:(0,H.jsx)(m.Z,{variant:"link text-primary",style:{padding:"5px"},children:T("access")})}),e.isDefaultDomain?(0,H.jsxs)(B.Z,{className:"ms-2 bg-success",children:[" ",T("default")," "]}):(0,H.jsx)(m.Z,{variant:"link text-primary",onClick:function(){return We(n)},children:T("set as default")})]})]})]})},n)}))})]})})})]}),(null===(c=e.data)||void 0===c||null===(d=c.config)||void 0===d?void 0:d.url)&&((null===(u=e.data)||void 0===u||null===(p=u.config)||void 0===p?void 0:p.default_domain)&&!(null!==(x=e.data)&&void 0!==x&&x.app_replace_url)||!(null!==(f=e.data)&&void 0!==f&&null!==(g=f.config)&&void 0!==g&&g.default_domain))&&(0,H.jsxs)(P.Z,{defaultExpanded:!0,onChange:function(e,n){Oe(n)},className:"mb-2",children:[(0,H.jsx)(F.Z,{expandIcon:(0,H.jsx)(D.Z,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:(0,H.jsxs)(I.Z,{children:[(0,H.jsx)("label",{className:"me-2 fs-5 d-block",children:"\u65e0\u57df\u540d\u8bbf\u95ee"}),(0,H.jsx)("span",{className:"me-2 fs-6",style:{display:Be?"inline":"none"},children:"\u6ca1\u6709\u57df\u540d\u53ef\u4ee5\u901a\u8fc7IP+\u7aef\u53e3\u7684\u65b9\u5f0f\u4e34\u65f6\u8bbf\u95ee\u5e94\u7528"})]})}),(0,H.jsx)(R.Z,{children:(0,H.jsx)(I.Z,{children:(0,H.jsx)(M.Z,{children:(0,H.jsxs)(M.Z.Body,{children:[(null===(b=e.data)||void 0===b||null===(y=b.config)||void 0===y?void 0:y.url)&&(0,H.jsxs)("div",{children:[(0,H.jsx)("label",{className:"me-2 fs-5",children:"\u524d\u53f0:"}),(0,H.jsx)("a",{href:null===(k=e.data)||void 0===k||null===(C=k.config)||void 0===C?void 0:C.url,target:"_blank",className:"me-2",children:null===(_=e.data)||void 0===_||null===(S=_.config)||void 0===S?void 0:S.url})]}),(null===(E=e.data)||void 0===E||null===(V=E.config)||void 0===V?void 0:V.admin_url)&&(0,H.jsxs)("div",{children:[(0,H.jsx)("label",{className:"me-2 fs-5",children:"\u540e\u53f0:"}),(0,H.jsx)("a",{href:null===(L=e.data)||void 0===L||null===(W=L.config)||void 0===W?void 0:W.admin_url,target:"_blank",className:"me-2",children:null===(G=e.data)||void 0===G||null===($=G.config)||void 0===$?void 0:$.admin_url})]})]})})})})]}),(null===(q=e.data)||void 0===q||null===(J=q.config)||void 0===J?void 0:J.admin_username)&&(0,H.jsxs)(P.Z,{className:"mb-2",onChange:function(e,n){Ue(n)},children:[(0,H.jsx)(F.Z,{expandIcon:(0,H.jsx)(D.Z,{}),"aria-controls":"panel3a-content",id:"panel3a-header",children:(0,H.jsxs)(I.Z,{children:[(0,H.jsx)("label",{className:"me-2 fs-5 d-block",children:"\u521d\u59cb\u8d26\u53f7"}),(0,H.jsx)("span",{className:"me-2 fs-6",style:{display:ze?"inline":"none"},children:"\u6b64\u5e94\u7528\u7a0b\u5e8f\u662f\u4f7f\u7528\u7ba1\u7406\u5458\u5e10\u6237\u9884\u5148\u8bbe\u7f6e\u7684\uff0c\u8bf7\u7acb\u5373\u66f4\u6539\u7ba1\u7406\u5458\u5bc6\u7801\u3002\u521d\u59cb\u51ed\u636e\u4e3a\uff1a"})]})}),(0,H.jsx)(R.Z,{children:(0,H.jsx)(I.Z,{children:(0,H.jsx)(M.Z,{children:(0,H.jsxs)(M.Z.Body,{children:[(0,H.jsxs)(O.Z.Group,{as:j.Z,className:"mb-3",children:[(0,H.jsx)(O.Z.Label,{htmlFor:"username",column:!0,md:2,className:"fs-5",children:"UserName"}),(0,H.jsx)(Z.Z,{md:4,children:(0,H.jsx)(O.Z.Control,{type:"text",name:"username",id:"username",defaultValue:null===(K=e.data)||void 0===K||null===(Q=K.config)||void 0===Q?void 0:Q.admin_username,readOnly:!0})})]}),(0,H.jsxs)(O.Z.Group,{as:j.Z,className:"mb-3",children:[(0,H.jsx)(O.Z.Label,{htmlFor:"password",column:!0,md:2,className:"fs-5",children:"Password"}),(0,H.jsx)(Z.Z,{md:4,children:(0,H.jsx)(N.Z,{type:"password",name:"password",containerClass:"mb-3",value:null===(X=e.data)||void 0===X||null===(Y=X.config)||void 0===Y?void 0:Y.admin_password,readOnly:!0})})]})]})})})})]})]})]}),Ne&&(0,H.jsx)(U,{showConform:Ne,onClose:function(){ke(!1)},deleteRowData:_e,onDataChange:Ve}),ue&&(0,H.jsx)(l.Z,{open:ue,autoHideDuration:5e3,onClose:$e,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,H.jsx)(z,{onClose:$e,severity:ge,sx:{width:"100%"},children:me})})]})},L=a(1243),W=a(2591),G=p().gettext,$=function(e){(0,v.s0)();var n=(0,h.useState)([]),a=(0,s.Z)(n,2),i=a[0],o=a[1],l=e.data.customer_name,c=(0,h.useState)(null),d=(0,s.Z)(c,2),u=d[0],p=d[1],x=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,a,r,s,i,c,d,u,h,x;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==(n=window.localStorage.getItem("portainer.JWT2"))){e.next=18;break}return e.next=5,L.Z.get("./config.json");case 5:if(200!==(a=e.sent).status){e.next=15;break}return r=a.data.PORTAINER,s=r.PORTAINER_USERNAME,i=r.PORTAINER_PASSWORD,c=r.PORTAINER_AUTH_URL,r.PORTAINER_HOME_PAGE,e.next=11,L.Z.post(c,{username:s,password:i});case 11:200===(d=e.sent).status?(n=d.data.jwt,window.localStorage.setItem("portainer.JWT2",n)):console.error("Error:",d),e.next=16;break;case 15:console.error("Error:",a);case 16:e.next=19;break;case 18:n=n.replace(/"/g,"");case 19:return e.next=21,L.Z.get("/portainer/api/endpoints",{headers:{Authorization:"Bearer "+n}});case 21:if(200!==(u=e.sent).status){e.next=31;break}return h=u.data.find((function(e){return e.URL.includes("/var/run/docker.sock")})).Id,p(h),e.next=27,L.Z.get("/portainer/api/endpoints/".concat(h,"/docker/containers/json"),{headers:{Authorization:"Bearer "+n},params:{all:!0,filters:JSON.stringify({label:["com.docker.compose.project=".concat(l)]})}});case 27:200===(x=e.sent).status?o(x.data):console.error("Error:",x),e.next=32;break;case 31:console.error("Error:",u);case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(0),console.error("Error:",e.t0);case 37:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(){return e.apply(this,arguments)}}();return(0,h.useEffect)((function(){x()}),[]),(0,H.jsx)(j.Z,{children:(0,H.jsx)(Z.Z,{xs:12,children:(0,H.jsxs)(M.Z,{children:[(0,H.jsx)(M.Z.Header,{children:(0,H.jsxs)(j.Z,{className:"align-items-center",children:[(0,H.jsxs)(Z.Z,{xs:12,md:10,children:[(0,H.jsx)("label",{className:"me-2 fs-5 d-block",children:G("Container")}),(0,H.jsxs)("span",{className:"me-2 fs-6",children:["\u672c\u5e94\u7528\u7531\u5982\u4e0b\u5bb9\u5668\u7ec4\u6210\uff0c\u540d\u79f0\u4e3a ",l," \u7684\u4e3a\u4e3b\u5bb9\u5668  "]})]}),(0,H.jsx)(Z.Z,{xs:12,md:2,children:(0,H.jsx)("a",{href:"/portainer/#!/".concat(u,"/docker/stacks/").concat(l,"?type=2&regular=false&external=true&orphaned=false"),target:"_blank",className:"me-2",children:(0,H.jsx)(m.Z,{variant:"primary",size:"sm",className:"float-end",children:G("More")})})})]})}),(0,H.jsx)(M.Z.Body,{children:(0,H.jsxs)(W.Z,{className:"mb-0",children:[(0,H.jsx)("thead",{children:(0,H.jsxs)("tr",{children:[(0,H.jsx)("th",{children:"Name"}),(0,H.jsx)("th",{children:"State"}),(0,H.jsx)("th",{style:{textAlign:"center"},children:"Actions"}),(0,H.jsx)("th",{children:"Image"}),(0,H.jsx)("th",{children:"Created"}),(0,H.jsx)("th",{children:"Ip Address"}),(0,H.jsx)("th",{children:"Published Ports"})]})}),(0,H.jsx)("tbody",{children:i.map((function(e,n){var a,t,r,s;return(0,H.jsxs)("tr",{children:[(0,H.jsx)("td",{children:null===(a=e.Names)||void 0===a||null===(t=a[0])||void 0===t?void 0:t.replace(/^\/|\/$/g,"")}),(0,H.jsx)("td",{children:(0,H.jsx)(B.Z,{className:"".concat("running"===e.State?"bg-success":"exited"===e.State?"bg-danger":"info"),children:e.State})}),(0,H.jsxs)("td",{style:{textAlign:"center"},children:[(0,H.jsxs)("a",{href:"/portainer/#!/".concat(u,"/docker/containers/").concat(e.Id,"/logs"),target:"_blank",title:"Logs",children:[(0,H.jsx)("i",{className:"dripicons-document-remove noti-icon"})," "]}),"running"===e.State&&(0,H.jsxs)("a",{href:"/portainer/#!/".concat(u,"/docker/containers/").concat(e.Id,"/stats"),target:"_blank",title:"Stats",children:[(0,H.jsx)("i",{className:"dripicons-pulse noti-icon"})," "]})]}),(0,H.jsx)("td",{children:e.Image}),(0,H.jsx)("td",{children:new Date(1e3*e.Created).toLocaleString()}),(0,H.jsx)("td",{children:e.NetworkSettings.Networks[e.HostConfig.NetworkMode].IPAddress}),(0,H.jsxs)("td",{children:[null===(r=e.Ports.find((function(e){return e.IP&&/^(\d{1,3}\.){3}\d{1,3}$/.test(e.IP)})))||void 0===r?void 0:r.PublicPort,":",null===(s=e.Ports.find((function(e){return e.IP&&/^(\d{1,3}\.){3}\d{1,3}$/.test(e.IP)})))||void 0===s?void 0:s.PrivatePort]})]},n)}))})]})})]})})})},q=(p().gettext,function(e){var n,a,t,r,s,i,o;(0,v.s0)();return(0,H.jsx)(j.Z,{children:(0,H.jsx)(Z.Z,{xs:12,children:(0,H.jsxs)(M.Z,{children:[(0,H.jsx)(M.Z.Header,{children:(0,H.jsx)("label",{className:"me-2 fs-5 d-block",children:"\u5e94\u7528\u6982\u89c8"})}),(0,H.jsx)(M.Z.Body,{children:(0,H.jsx)(W.Z,{responsive:!0,className:"mb-0",bordered:!1,style:{display:"flex"},children:(0,H.jsxs)("tbody",{children:[(0,H.jsxs)("tr",{children:[(0,H.jsx)("td",{style:{fontWeight:"bold"},children:"\u5e94\u7528\u540d\u79f0\uff1a"}),(0,H.jsx)("td",{children:null===(n=e.data)||void 0===n?void 0:n.app_name})]}),(0,H.jsxs)("tr",{children:[(0,H.jsx)("td",{style:{fontWeight:"bold"},children:"\u5e94\u7528\u7248\u672c\uff1a"}),(0,H.jsx)("td",{children:null===(a=e.data)||void 0===a?void 0:a.app_version})]}),(0,H.jsxs)("tr",{children:[(0,H.jsx)("td",{style:{fontWeight:"bold"},children:"\u5e94\u7528\u7aef\u53e3\uff1a"}),(0,H.jsx)("td",{children:null===(t=e.data)||void 0===t||null===(r=t.config)||void 0===r?void 0:r.port})]}),(0,H.jsxs)("tr",{children:[(0,H.jsx)("td",{style:{fontWeight:"bold"},children:"\u521b\u5efa\u65f6\u95f4\uff1a"}),(0,H.jsx)("td",{children:null===(s=e.data)||void 0===s?void 0:s.create_time})]}),(0,H.jsxs)("tr",{children:[(0,H.jsx)("td",{style:{fontWeight:"bold"},children:"\u914d\u7f6e\u76ee\u5f55\uff1a "}),(0,H.jsx)("td",{children:null===(i=e.data)||void 0===i?void 0:i.config_path})]}),(0,H.jsxs)("tr",{children:[(0,H.jsx)("td",{style:{fontWeight:"bold"},children:"\u6570\u636e\u76ee\u5f55\uff1a"}),(0,H.jsx)("td",{children:null===(o=e.data)||void 0===o?void 0:o.volume_data})]})]})})})]})})})}),J=p().gettext,K=function(e){var n=(0,v.s0)(),a=(0,h.useState)(!1),i=(0,s.Z)(a,2),o=i[0],l=i[1],c=(0,h.useState)(!1),u=(0,s.Z)(c,2),p=u[0],j=u[1],Z=(0,h.useState)(""),g=(0,s.Z)(Z,2),b=g[0],y=g[1];return(0,H.jsxs)(x.Z,{show:e.showConform,onHide:e.onClose,size:"lg",scrollable:"true",backdrop:"static",style:{backgroundColor:"rgba(0,0,0,0.8)"},children:[(0,H.jsx)(x.Z.Header,{onHide:e.onClose,closeButton:!0,className:d()("modal-colored-header","bg-warning"),children:(0,H.jsxs)("h4",{children:[J("Uninstall")," ",e.app.customer_name]})}),(0,H.jsxs)(x.Z.Body,{className:"row",children:[(0,H.jsxs)("span",{style:{margin:"10px 0px"},children:[J("This will immediately uninstall")," ",e.app.customer_name," ",J("and remove all its data.")]}),(0,H.jsx)("div",{children:p&&(0,H.jsx)(f.Z,{variant:"danger",className:"my-2",children:b})})]}),(0,H.jsxs)(x.Z.Footer,{children:[(0,H.jsx)(m.Z,{variant:"light",onClick:e.onClose,children:J("Close")})," ",(0,H.jsxs)(m.Z,{disabled:o,variant:"warning",onClick:(0,r.Z)((0,t.Z)().mark((function a(){var r;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l(!0),a.next=4,(0,w.mx)({app_id:e.app.app_id});case 4:(r=a.sent).data.Error?(j(!0),y(r.data.Error.Message)):(e.onClose(),e.onCloseFatherModal(),e.onDataChange()),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n("/error-500");case 11:case"end":return a.stop()}}),a,null,[[0,8]])}))),children:[o&&(0,H.jsx)(k.Z,{className:"spinner-border-sm me-1",tag:"span",color:"white"})," ",J("Uninstall")]})]})]})},Q=(0,h.forwardRef)((function(e,n){var a=(0,h.useState)(!1),i=(0,s.Z)(a,2),o=i[0],l=i[1],c=(0,h.useState)(!1),d=(0,s.Z)(c,2),u=d[0],p=d[1],x=(0,v.s0)(),f=function(){p(!0)},g=function(){p(!1)};return(0,h.useImperativeHandle)(n,(function(){return{setButtonDisable:f,setButtonEnable:g}})),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(j.Z,{className:"mb-2",children:(0,H.jsxs)(Z.Z,{sm:12,children:[(0,H.jsx)("label",{className:"me-1",style:{fontWeight:"bolder",marginBottom:"5px"},children:J("Start / Stop")}),(0,H.jsx)("p",{children:J("Apps can be stopped to conserve server resources instead of uninstalling.")}),"running"===e.data.status?(0,H.jsxs)(m.Z,{variant:"secondary",className:"float-end",disabled:u,onClick:(0,r.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.disabledButton(),p(!0),n.next=5,(0,w.pO)({app_id:e.data.app_id});case 5:n.sent.data.Error?x("/error"):e.onDataChange(e.data.app_id),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),x("/error-500");case 12:return n.prev=12,p(!1),e.enableButton(),n.finish(12);case 16:case"end":return n.stop()}}),n,null,[[0,9,12,16]])}))),children:[u&&(0,H.jsx)(k.Z,{className:"spinner-border-sm me-1",tag:"span",color:"white"})," ",J("Stop")]}):(0,H.jsxs)(m.Z,{variant:"primary",className:"float-end",disabled:u,onClick:(0,r.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.disabledButton(),p(!0),n.prev=2,n.next=5,(0,w.P3)({app_id:e.data.app_id});case 5:n.sent.data.Error?x("/error"):e.onDataChange(e.data.app_id),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),x("/error-500");case 12:return n.prev=12,e.enableButton(),p(!1),n.finish(12);case 16:case"end":return n.stop()}}),n,null,[[2,9,12,16]])}))),children:[u&&(0,H.jsx)(k.Z,{className:"spinner-border-sm me-1",tag:"span",color:"white"})," ",J("Start")]})]})}),(0,H.jsx)("hr",{}),(0,H.jsx)(j.Z,{className:"mb-2",children:(0,H.jsxs)(Z.Z,{sm:12,children:[(0,H.jsx)("label",{className:"me-1",style:{fontWeight:"bolder",marginBottom:"5px"},children:J("Uninstall")}),(0,H.jsx)("p",{children:J("This will uninstall the app immediately and remove all its data.The app will be inaccessible.")}),(0,H.jsx)(m.Z,{variant:"warning",className:"float-end",onClick:function(){l(!0)},children:J("Uninstall")})]})}),o&&(0,H.jsx)(K,{showConform:o,onClose:function(){l(!1)},app:e.data,onDataChange:e.onDataChange,onCloseFatherModal:e.onCloseFatherModal})]})})),X=p().gettext,Y=function(e){var n=(0,h.useState)(!1),a=(0,s.Z)(n,2),i=a[0],o=a[1],l=(0,h.useState)(!1),c=(0,s.Z)(l,2),u=c[0],p=c[1],f=(0,h.useState)(e.current_app),g=(0,s.Z)(f,2),N=g[0],A=g[1],D=(0,h.useState)(!1),P=(0,s.Z)(D,2),R=P[0],F=P[1],I=(0,h.useState)(!1),M=(0,s.Z)(I,2),B=M[0],O=M[1],T=(0,h.useState)(!1),z=(0,s.Z)(T,2),U=z[0],L=z[1],W=(0,v.s0)(),G=(0,h.useRef)(),J=function(){G.current.setButtonDisable()},K=function(){G.current.setButtonEnable()};(0,h.useEffect)((function(){A(e.current_app)}),[e.current_app]);var Y=[{id:"1",title:X("Overview"),icon:"mdi mdi-account-circle",text:(0,H.jsx)(q,{data:N})},{id:"2",title:X("Access"),icon:"mdi mdi-account-circle",text:(0,H.jsx)(V,{data:N})},{id:"3",title:X("Container"),icon:"mdi mdi-account-circle",text:(0,H.jsx)($,{data:N})},{id:"4",title:X("Uninstall"),icon:"mdi mdi-cog-outline",text:(0,H.jsx)(Q,{data:N,ref:G,disabledButton:function(){p(!0),o(!0)},enableButton:function(){p(!1),o(!1)},onDataChange:e.onDataChange,onCloseFatherModal:e.onClose})}];return N&&(0,H.jsxs)(x.Z,{show:e.showFlag,backdrop:"static",onHide:e.onClose,size:"lg",scrollable:"true",dialogClassName:"modal-full-width",children:[(0,H.jsx)(x.Z.Header,{onHide:e.onClose,closeButton:!0,children:(0,H.jsxs)("div",{style:{padding:"10px",display:"flex",width:"100%",alignItems:"center"},children:[(0,H.jsx)("div",{className:"appstore-item-content-icon col-same-height",children:(0,H.jsx)("img",{src:N.image_url,alt:"",className:"app-icon",onError:function(e){return e.target.src=y}})}),(0,H.jsxs)("div",{className:"col-same-height",children:[(0,H.jsx)("h4",{className:"appstore-item-content-title",style:{marginTop:"5px"},children:N.customer_name}),(0,H.jsx)("h5",{className:"appstore-item-content-title",style:{marginTop:"5px"},children:N.status})]}),(0,H.jsxs)("div",{className:"col-same-height",style:{flexGrow:1,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:["exited"===N.status&&(0,H.jsx)(C.Z,{placement:"bottom",overlay:(0,H.jsx)(_.Z,{id:"tooltip-bottom",children:X("Start App")}),children:(0,H.jsx)(m.Z,{variant:"primary",disabled:u,style:{padding:"5px 10px",borderRadius:"3px",marginRight:"10px"},onClick:(0,r.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return J(),F(!0),o(!0),n.prev=3,n.next=6,(0,w.P3)({app_id:N.app_id});case 6:n.sent.data.Error?W("/error"):e.onDataChange(),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),W("/error-500");case 13:return n.prev=13,K(),F(!1),o(!1),n.finish(13);case 18:case"end":return n.stop()}}),n,null,[[3,10,13,18]])}))),children:R?(0,H.jsx)(k.Z,{className:"spinner-border-sm noti-icon",color:"light"}):(0,H.jsx)("i",{className:"dripicons-media-play noti-icon"})})},"bottom1"),"running"===N.status&&(0,H.jsx)(C.Z,{placement:"bottom",overlay:(0,H.jsx)(_.Z,{id:"tooltip-bottom",children:X("Stop App")}),children:(0,H.jsx)(m.Z,{variant:"primary",disabled:u,style:{padding:"5px 10px",borderRadius:"3px",marginRight:"10px"},onClick:(0,r.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return J(),O(!0),o(!0),n.prev=3,n.next=6,(0,w.pO)({app_id:N.app_id});case 6:n.sent.data.Error?W("/error"):e.onDataChange(),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),W("/error-500");case 13:return n.prev=13,K(),O(!1),o(!1),n.finish(13);case 18:case"end":return n.stop()}}),n,null,[[3,10,13,18]])}))),children:B?(0,H.jsx)(k.Z,{className:"spinner-border-sm noti-icon",color:"light"}):(0,H.jsx)("i",{className:"dripicons-power noti-icon"})})},"bottom2"),(0,H.jsx)(C.Z,{placement:"bottom",overlay:(0,H.jsx)(_.Z,{id:"tooltip-bottom",children:X("Restart App")}),children:(0,H.jsx)(m.Z,{disabled:i,style:{padding:"5px 10px",borderRadius:"3px",marginRight:"10px"},onClick:(0,r.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,J(),L(!0),p(!0),n.next=6,(0,w.h1)({app_id:N.app_id});case 6:n.sent.data.Error?W("/error"):e.onDataChange(),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),W("/error-500");case 13:return n.prev=13,K(),L(!1),p(!1),n.finish(13);case 18:case"end":return n.stop()}}),n,null,[[0,10,13,18]])}))),children:U?(0,H.jsx)(k.Z,{className:"spinner-border-sm noti-icon",color:"light"}):(0,H.jsx)("i",{className:"dripicons-clockwise noti-icon"})})},"bottom3"),"running"===N.status&&(0,H.jsx)(C.Z,{placement:"bottom",overlay:(0,H.jsx)(_.Z,{id:"tooltip-bottom",children:X("Terminal")}),children:(0,H.jsxs)(b.rU,{to:{pathname:"/terminal",search:"?id=".concat(N.customer_name)},style:{color:"#fff",backgroundColor:"#727cf5",padding:"5px 10px",borderRadius:"3px",borderColor:"#727cf5",marginRight:"10px"},target:"_blank",children:[(0,H.jsx)("i",{className:"dripicons-code noti-icon"})," "]})},"bottom4"),(0,H.jsx)(C.Z,{placement:"bottom",overlay:(0,H.jsx)(_.Z,{id:"tooltip-bottom",children:X("Documentation")}),children:(0,H.jsxs)("a",{href:"https://support.websoft9.com/docs/"+N.app_name,style:{color:"#fff",backgroundColor:"#727cf5",padding:"5px 10px",borderRadius:"3px",borderColor:"#727cf5",marginRight:"10px"},target:"_blank",children:[(0,H.jsx)("i",{className:"dripicons-document noti-icon"})," "]})},"bottom5")]})]})}),(0,H.jsx)(x.Z.Body,{className:"row",children:(0,H.jsxs)(S.Z.Container,{defaultActiveKey:X("Overview"),children:[(0,H.jsx)(Z.Z,{sm:2,className:"mb-2 mb-sm-0",children:(0,H.jsx)(E.Z,{variant:"pills",className:"flex-column",children:Y.map((function(e,n){var a=function(){return(0,H.jsx)(E.Z.Item,{children:(0,H.jsxs)(E.Z.Link,{as:b.rU,to:"#",eventKey:e.title,children:[(0,H.jsx)("i",{className:d()(e.icon,"d-md-none","d-block","me-1")}),(0,H.jsx)("span",{className:"d-none d-md-block",children:e.title})]})},n)};return"Terminal"!==e.title||"running"===N.status?a():void 0}))})}),(0,H.jsx)(Z.Z,{sm:10,children:(0,H.jsx)(S.Z.Content,{style:{height:"100%"},children:Y.map((function(e,n){return(0,H.jsx)(S.Z.Pane,{eventKey:e.title,id:e.id,style:{height:"100%"},children:(0,H.jsx)(j.Z,{style:{height:"100%"},children:(0,H.jsx)(Z.Z,{sm:"12",style:{height:"Terminal"===e.title?"600px":""},children:e.text})})},n)}))})})]})})]})},ee=p().gettext,ne=h.forwardRef((function(e,n){return(0,H.jsx)(o.Z,(0,i.Z)({elevation:6,ref:n,variant:"filled"},e))})),ae=function(e){return(0,H.jsxs)(x.Z,{show:e.showConform,onHide:e.onClose,size:"lg",scrollable:"true",backdrop:"static",children:[(0,H.jsx)(x.Z.Header,{onHide:e.onClose,closeButton:!0,className:d()("modal-colored-header","bg-danger"),children:(0,H.jsxs)("h4",{children:[ee("This is the error message for")," ",e.app.customer_name]})}),(0,H.jsx)(x.Z.Body,{className:"row",children:e.app.status_reason&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("span",{style:{margin:"10px 0px"},children:[" ",(0,H.jsx)("b",{children:ee("Code: ")}),e.app.status_reason.Code," "]}),(0,H.jsxs)("span",{style:{margin:"10px 0px"},children:[" ",(0,H.jsx)("b",{children:ee("Message: ")}),e.app.status_reason.Message," "]}),(0,H.jsxs)("span",{style:{margin:"10px 0px"},children:[" ",(0,H.jsx)("b",{children:ee("Detail: ")}),e.app.status_reason.Detail," "]})]})}),(0,H.jsxs)(x.Z.Footer,{children:[(0,H.jsx)(m.Z,{variant:"light",onClick:e.onClose,children:ee("Close")}),(0,H.jsx)(m.Z,{variant:"light",onClick:function(){return window.open("https://www.websoft9.com/ticket","_blank")},children:ee("Support")})]})]})},te=function(e){var n=(0,v.s0)(),a=(0,h.useState)(!1),i=(0,s.Z)(a,2),o=i[0],l=i[1],c=(0,h.useState)(!1),u=(0,s.Z)(c,2),p=u[0],j=u[1],Z=(0,h.useState)(""),g=(0,s.Z)(Z,2),b=g[0],y=g[1];return(0,H.jsxs)(x.Z,{show:e.showConform,onHide:e.onClose,size:"lg",scrollable:"true",backdrop:"static",children:[(0,H.jsx)(x.Z.Header,{onHide:e.onClose,className:d()("modal-colored-header","bg-warning"),children:(0,H.jsxs)("h4",{children:[ee("Remove")," ",e.app.customer_name]})}),(0,H.jsxs)(x.Z.Body,{className:"row",children:[(0,H.jsxs)("span",{style:{margin:"10px 0px"},children:[ee("This will immediately remove")," ",e.app.customer_name," ",ee("and remove all its data.")]}),(0,H.jsx)("div",{children:p&&(0,H.jsx)(f.Z,{variant:"danger",className:"my-2",children:b})})]}),(0,H.jsxs)(x.Z.Footer,{children:[(0,H.jsx)(m.Z,{variant:"light",onClick:e.onClose,children:ee("Close")})," ",(0,H.jsxs)(m.Z,{disabled:o,variant:"warning",onClick:(0,r.Z)((0,t.Z)().mark((function a(){var r;return(0,t.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l(!0),a.next=4,(0,w.mx)({app_id:e.app.app_id});case 4:(r=a.sent).data.Error?(j(!0),y(r.data.Error.Message)):(e.onClose(),e.onDataChange()),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n("/error-500");case 11:case"end":return a.stop()}}),a,null,[[0,8]])}))),children:[o&&(0,H.jsx)(k.Z,{className:"spinner-border-sm me-1",tag:"span",color:"white"})," ",ee("Remove")]})]})]})},re=function(){var e,n=(0,h.useState)(!1),a=(0,s.Z)(n,2),i=a[0],o=a[1],c=(0,h.useState)(!1),u=(0,s.Z)(c,2),p=u[0],x=u[1],f=(0,h.useState)(!1),C=(0,s.Z)(f,2),_=C[0],S=C[1],E=(0,h.useState)(!1),A=(0,s.Z)(E,2),D=(A[0],A[1],(0,h.useState)(!1)),P=(0,s.Z)(D,2),R=P[0],F=P[1],I=(0,h.useState)(!1),M=(0,s.Z)(I,2),B=M[0],O=M[1],T=(0,h.useState)(""),z=(0,s.Z)(T,2),U=z[0],V=z[1],L=(0,h.useState)(""),W=(0,s.Z)(L,2),G=W[0],$=W[1],q=(0,h.useState)(null),J=(0,s.Z)(q,2),K=J[0],Q=J[1],X=(0,h.useState)([]),re=(0,s.Z)(X,2),se=re[0],ie=re[1],oe=(0,h.useState)([]),le=(0,s.Z)(oe,2),ce=(le[0],le[1],(0,h.useState)("")),de=(0,s.Z)(ce,2),ue=de[0],pe=de[1],he=(0,h.useState)("all"),xe=(0,s.Z)(he,2),me=xe[0],fe=xe[1],je=(0,h.useState)([]),Ze=(0,s.Z)(je,2),ge=(Ze[0],Ze[1],(0,h.useRef)(K)),ve=(0,v.s0)(),be=(0,h.useState)(0),ye=(0,s.Z)(be,2),Ne=ye[0],ke=ye[1],we=(0,h.useState)(null),Ce=(0,s.Z)(we,2),_e=Ce[0],Se=Ce[1],Ee=(0,h.useState)(null),Ae=(0,s.Z)(Ee,2),De=(Ae[0],Ae[1]),Pe=(0,h.useState)(!1),Re=(0,s.Z)(Pe,2),Fe=Re[0],Ie=Re[1],Me=function(){(0,w.u3)().then((function(e){if(e.data.Error)ke(e.data.Error.Code),Se(e.data.Error.Message),De(e.data.Error.Details);else{var n=e.data.ResponseData;if(ie(n),ge.current){var a=n.find((function(e){return e.app_id===ge.current.app_id}));Q(a)}}Ie(!1)})).catch((function(e){v.Fg}))};if((0,h.useEffect)((function(){Me()}),[]),(0,h.useEffect)((function(){Ie(!0),e=setInterval((function(){(0,w.u3)().then((function(e){if(e.data.Error)ke(e.data.Error.Code),Se(e.data.Error.Message),De(e.data.Error.Details);else{var n=e.data.ResponseData;if(ie(n),ge.current){var a=n.find((function(e){return e.app_id===ge.current.app_id}));Q(a)}}Ie(!1)})).catch((function(e){v.Fg}))}),5e3)}),[]),(0,h.useEffect)((function(){ge.current=K}),[K]),(0,h.useEffect)((function(){return function(){return clearInterval(e)}}),[]),Fe)return(0,H.jsx)(k.Z,{className:"dis_mid"});if(Ne)return(0,H.jsxs)("p",{children:["Code : $",Ne," "]});if(_e)return(0,H.jsxs)("p",{children:["Error : $",_e," "]});var Be=function(e,n){"clickaway"!==n&&(O(!1),V(""))},Oe=function(){Me()},He={Stop:{api:w.pO},Start:{api:w.P3},Restart:{api:w.h1},Uninstall:{api:w.mx}},Te=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,a){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Uninstall"!==n){e.next=4;break}return Q(a),x(!0),e.abrupt("return");case 4:return F(!0),e.prev=5,e.next=8,He[n].api({app_id:a.app_id});case 8:(r=e.sent).data.Error?(O(!0),$("error"),V(r.data.Error.Message)):(O(!0),$("success"),V("\u6267\u884c\u6210\u529f"),Oe()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),ve("/error-500");case 15:return e.prev=15,F(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[5,12,15,18]])})));return function(n,a){return e.apply(this,arguments)}}();return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(j.Z,{className:"mb-2 align-items-center",children:[(0,H.jsx)(Z.Z,{sm:2,children:(0,H.jsx)("span",{style:{fontSize:"36px"},children:ee("My Apps")})}),(0,H.jsx)(Z.Z,{sm:3,children:(0,H.jsxs)(N.Z,{value:me,name:"select",type:"select",className:"form-select",onChange:function(e){return function(e){fe(e)}(e.target.value)},children:[(0,H.jsx)("option",{value:"all",children:ee("All States")}),(0,H.jsx)("option",{value:"installing",children:"installing"}),(0,H.jsx)("option",{value:"running",children:"running"}),(0,H.jsx)("option",{value:"exited",children:"exited"}),(0,H.jsx)("option",{value:"restarting",children:"restarting"}),(0,H.jsx)("option",{value:"failed",children:"failed"})]},"select")}),(0,H.jsx)(Z.Z,{sm:6,children:(0,H.jsx)(Z.Z,{xs:"auto",children:(0,H.jsx)(N.Z,{type:"text",name:"search",placeholder:"Search for apps like WordPress, Dropbox, Slack, Trello, \u2026",onChange:function(e){return function(e){pe(e)}(e.target.value)}})})}),(0,H.jsx)(Z.Z,{sm:1,children:(0,H.jsx)(m.Z,{variant:"primary",className:"float-end",onClick:function(){window.location.reload(!1)},children:ee("Refresh")})})]}),[!0,!1].map((function(e){var n=se.filter((function(e){return"all"===me||e.status===me})).filter((function(n){return n.official_app===e})).filter((function(e){return e.customer_name.includes(ue)}));return n.length>0?(0,H.jsxs)(j.Z,{children:[(0,H.jsx)("h4",{style:e?{}:{paddingTop:"10px"},children:ee(e?"Websoft9's Apps":"Other Apps")}),n.map((function(n,a){return(0,H.jsx)(Z.Z,{xxl:2,md:6,className:"appstore-item",children:(0,H.jsxs)("div",{className:"appstore-item-content highlight text-align-center",children:[!e&&("running"===n.status||"exited"===n.status)&&(0,H.jsxs)(g.Z,{className:"float-end",children:[(0,H.jsx)(g.Z.Toggle,{as:b.rU,to:"#",className:"arrow-none card-drop",children:R?(0,H.jsx)(k.Z,{className:"spinner-border-sm noti-icon"}):(0,H.jsx)("i",{className:"dripicons-gear noti-icon"})}),(0,H.jsx)(g.Z.Menu,{align:"end",children:(t=n.status,[{label:"Stop",icon:"dripicons-power noti-icon",condition:"running"===t},{label:"Start",icon:"dripicons-media-play noti-icon",condition:"exited"===t},{label:"Restart",icon:"dripicons-clockwise noti-icon",condition:"running"===t||"exited"===t},{label:"Uninstall",icon:"dripicons-trash noti-icon",variant:"text-danger",hasDivider:!0,condition:!0}]||[]).map((function(e,a){return(0,H.jsxs)(h.Fragment,{children:[e.condition&&e.hasDivider&&(0,H.jsx)(g.Z.Divider,{as:"div"}),e.condition&&(0,H.jsxs)(g.Z.Item,{className:d()(e.variant?e.variant:""),onClick:function(){return Te(e.label,n)},children:[e.icon&&(0,H.jsx)("i",{className:d()(e.icon,"me-1")}),e.label]})]},a)}))})]}),e&&("running"===n.status||"exited"===n.status)&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:"float-end arrow-none card-drop p-0",onClick:function(){!function(e){Q(e),o(!0)}(n)},children:(0,H.jsx)("i",{className:"dripicons-gear noti-icon"})}),(0,H.jsx)("div",{className:"clearfix"})]}),e&&"installing"===n.status&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{className:"float-end arrow-none card-drop p-0",children:(0,H.jsx)("i",{className:"dripicons-empty noti-icon"})}),(0,H.jsx)("div",{className:"clearfix"})]}),"failed"===n.status&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:"float-end arrow-none card-drop p-0",children:[(0,H.jsx)("i",{className:"dripicons-information noti-icon",style:{paddingRight:"10px"},onClick:function(){!function(e){Q(e),S(!0)}(n)}}),(0,H.jsx)("i",{className:"dripicons-trash noti-icon",onClick:function(){!function(e){Q(e),x(!0)}(n)}})]}),(0,H.jsx)("div",{className:"clearfix"})]}),(0,H.jsx)("div",{children:(0,H.jsx)("img",{src:n.image_url,alt:n.app_name,className:"app-icon",style:{margin:"20px 10px 20px 10px"},onError:function(e){return e.target.src=y}})}),(0,H.jsxs)("div",{children:[(0,H.jsx)("h3",{className:"appstore-item-content-title",style:{color:"#2196f3"},children:n.customer_name}),(0,H.jsxs)("div",{style:{color:"failed"===n.status?"red":"inherit",display:"flex",alignItems:"center",justifyContent:"center"},children:[n.status&&"installing"===n.status&&(0,H.jsx)(k.Z,{className:"spinner-border-sm m-2"})," ",(0,H.jsx)("div",{className:"m-2",children:n.status})]})]})]})},n.app_id+a);var t}))]}):null})),i&&(0,H.jsx)(Y,{current_app:K,showFlag:i,onClose:function(){o(!1),Q(null)},onDataChange:Oe}),p&&(0,H.jsx)(te,{showConform:p,onClose:function(){x(!1)},app:K,onDataChange:Oe}),_&&(0,H.jsx)(ae,{showConform:_,onClose:function(){S(!1)},app:K}),B&&(0,H.jsx)(l.Z,{open:B,autoHideDuration:5e3,onClose:Be,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,H.jsx)(ne,{onClose:Be,severity:G,sx:{width:"100%"},children:U})})]})}}}]);
//# sourceMappingURL=613.c65d15ce.chunk.js.map