"use strict";(self.webpackChunkapps=self.webpackChunkapps||[]).push([[994],{6199:function(e,n,t){var l=t(45987),a=t(1413),s=t(29439),r=t(46123),i=t.n(r),o=t(47313),c=t(78864),d=t(67203),u=t(46417),p=["label","type","name","value","readOnly","placeholder","register","errors","className","labelClassName","containerClass","refCallback","children"],m=function(e){var n=e.name,t=e.placeholder,l=e.refCallback,r=e.errors,p=e.register,m=e.className,h=e.value,v=e.readOnly,x=(0,o.useState)(!1),g=(0,s.Z)(x,2),f=g[0],j=g[1];return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(c.Z,{className:"mb-0",children:[(0,u.jsx)(d.Z.Control,(0,a.Z)((0,a.Z)({type:f?"text":"password",placeholder:t,name:n,id:n,as:"input",ref:function(e){l&&l(e)},className:m,isInvalid:!(!r||!r[n])},p?p(n):{}),{},{autoComplete:n,defaultValue:h,readOnly:v})),(0,u.jsx)("div",{className:i()("input-group-text","input-group-password",{"show-password":f}),"data-password":f?"true":"false",children:(0,u.jsx)("span",{className:"password-eye",onClick:function(){j(!f)}})})]})})};n.Z=function(e){var n=e.label,t=e.type,s=e.name,r=e.value,i=e.readOnly,o=e.placeholder,c=e.register,h=e.errors,v=e.className,x=e.labelClassName,g=e.containerClass,f=e.refCallback,j=e.children,Z=(0,l.Z)(e,p),y="textarea"===t?"textarea":"select"===t?"select":"input";return(0,u.jsx)(u.Fragment,{children:"hidden"===t?(0,u.jsx)("input",(0,a.Z)((0,a.Z)({type:t,name:s},c?c(s):{}),Z)):(0,u.jsx)(u.Fragment,{children:"password"===t?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(d.Z.Group,{className:g,children:[n?(0,u.jsxs)(u.Fragment,{children:[" ",(0,u.jsx)(d.Z.Label,{className:x,children:n})," ",j," "]}):null,(0,u.jsx)(m,{name:s,placeholder:o,refCallback:f,errors:h,register:c,className:v,value:r,readOnly:i}),h&&h[s]?(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",className:"d-block",children:h[s].message}):null]})}):(0,u.jsx)(u.Fragment,{children:"select"===t?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(d.Z.Group,{className:g,children:[n?(0,u.jsx)(d.Z.Label,{className:x,children:n}):null,(0,u.jsx)(d.Z.Select,(0,a.Z)((0,a.Z)((0,a.Z)({type:t,label:n,name:s,id:s,ref:function(e){f&&f(e)},comp:y,className:v,isInvalid:!(!h||!h[s])},c?c(s):{}),Z),{},{children:j})),h&&h[s]?(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",children:h[s].message}):null]})}):(0,u.jsx)(u.Fragment,{children:"checkbox"===t||"radio"===t?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(d.Z.Group,{className:g,children:[(0,u.jsx)(d.Z.Check,(0,a.Z)((0,a.Z)({type:t,label:n,name:s,id:s,ref:function(e){f&&f(e)},className:v,isInvalid:!(!h||!h[s])},c?c(s):{}),Z)),h&&h[s]?(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",children:h[s].message}):null]})}):(0,u.jsxs)(d.Z.Group,{className:g,children:[n?(0,u.jsx)(d.Z.Label,{className:x,children:n}):null,(0,u.jsx)(d.Z.Control,(0,a.Z)((0,a.Z)((0,a.Z)({type:t,placeholder:o,name:s,id:s,as:y,ref:function(e){f&&f(e)},className:v,isInvalid:!(!h||!h[s])},c?c(s):{}),Z),{},{autoComplete:s,children:j||null})),h&&h[s]?(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",children:h[s].message}):null]})})})})})}},8625:function(e,n,t){var l=t(4942),a=(t(47313),t(46123)),s=t.n(a),r=t(46417),i=function(e){var n=e.children||null,t=e.tag||"div",a=e.color||"secondary",i=e.size||"";return(0,r.jsx)(t,{role:"status",className:s()({"spinner-border":"bordered"===e.type,"spinner-grow":"grow"===e.type},["text-".concat(a)],(0,l.Z)({},"avatar-".concat(i),i),e.className),children:n})};i.defaultProps={tag:"div",type:"bordered"},n.Z=i},12404:function(e,n,t){t.d(n,{rl:function(){return o},u3:function(){return c},P3:function(){return p},pO:function(){return u},mx:function(){return d}});var l=t(43144),a=t(15671),s=t(56573),r=t(58467);t(46417);s.Z.defaults.headers.post["Content-Type"]="application/json",s.Z.defaults.headers.get["Content-Type"]="application/json",s.Z.defaults.headers={"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"},s.Z.interceptors.response.use((function(e){return e}),(function(e){var n;if(e&&e.response&&404===e.response.status)r.Fg;else{if(!e||!e.response||500!==e.response.status)return n=e.response&&e.response.data?e.response.data.message:e.message||e,Promise.reject(n);r.Fg}}));var i=new((0,l.Z)((function e(){(0,a.Z)(this,e),this.get=function(e,n){var t;if(n){var l=n?Object.keys(n).map((function(e){return e+"="+n[e]})).join("&"):"";t=s.Z.get("".concat(e,"?").concat(l),n)}else t=s.Z.get("".concat(e),n);return t},this.create=function(e,n){return s.Z.post(e,n)}})));function o(e){return i.get("".concat("/AppManage/AppInstall"),e)}function c(e){return i.get("".concat("/AppManage/AppList"),e)}function d(e){return i.get("".concat("/AppManage/AppUninstall"),e)}function u(e){return i.get("".concat("/AppManage/AppStop"),e)}function p(e){return i.get("".concat("/AppManage/AppStart"),e)}},68994:function(e,n,t){t.r(n);var l,a=t(74165),s=t(15861),r=t(29439),i=t(30168),o=t(34401),c=t(18814),d=t(37346),u=t.n(d),p=t(47313),m=t(11435),h=t(97089),v=t(6203),x=t(93298),g=t(63849),f=t(31616),j=t(67203),Z=t(58467),y=t(6199),k=t(8625),C=t(12404),b=t(46417),N=u().gettext,w=u().language,S=(0,o.Ps)(l||(l=(0,i.Z)(['\n    query($locale: String!){\n        productCollection(locale:$locale) {\n            items {\n            sys {\n                id\n            }\n            key\n            trademark\n            summary\n            overview\n            websiteurl\n            description\n            screenshots\n            distribution\n            highlights\n            vcpu\n            memory\n            storage\n            logo {\n                imageurl\n            }\n            catalogCollection(limit:20) {\n                items {\n                key\n                title\n                catalogCollection(limit:1){\n                    items{\n                        key\n                        title\n                    }\n                    }\n                }\n            }\n            }\n        }\n        catalog(id: "2Yp0TY3kBHgG6VDjsHZNpK",locale:$locale) {\n            linkedFrom(allowedLocales:["en-US"]) {\n            catalogCollection(limit:20) {\n                items {\n                key\n                title\n                linkedFrom(allowedLocales:["en-US"]) {\n                    catalogCollection(limit:20) {\n                    items {\n                        key\n                        title\n                    }\n                    }\n                }\n                }\n            }\n            }\n        }\n    }\n']))),F=function(e){var n,t=e.product,l=e.showFlag,i=e.onClose,o=(0,p.useState)(0),c=(0,r.Z)(o,2),d=c[0],u=c[1],g=(0,Z.s0)(),f=(0,p.useState)(!0),j=(0,r.Z)(f,2),k=j[0],w=j[1],S=(0,p.useState)(""),F=(0,r.Z)(S,2),A=F[0],I=F[1],P=(0,p.useState)(!1),L=(0,r.Z)(P,2),G=L[0],O=L[1],_=(0,p.useState)(""),M=(0,r.Z)(_,2),T=M[0],z=M[1],B=(0,p.useState)(!1),E=(0,r.Z)(B,2),H=E[0],R=E[1];function U(){return(U=(0,s.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=18;break}if(A){e.next=6;break}O(!0),z(N("Please enter a custom application name")),e.next=17;break;case 6:return e.prev=6,R(!0),e.next=10,(0,C.rl)({app_name:t.key,app_version:Y,customer_app_name:A});case 10:(n=e.sent).data.Error?(O(!0),z(n.data.Error.Message),R(!1)):g("/myapps"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),g("/error-500");case 17:return e.abrupt("return");case 18:w(!k);case 19:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}var D=((null===(n=t.distribution)||void 0===n?void 0:n.filter((function(e){return"Community"===e.key})))||[]).map((function(e){return e.value})),V=D&&1===D.length?D.toString().split(","):D,$=(0,p.useState)(V[0]),q=(0,r.Z)($,2),Y=q[0],K=q[1];return(0,b.jsxs)(m.Z,{show:l,onHide:i,size:"lg",scrollable:"true",backdrop:"static",children:[(0,b.jsx)(m.Z.Header,{onHide:i,closeButton:!0,children:(0,b.jsxs)("div",{style:{padding:"10px"},children:[(0,b.jsx)("div",{className:"appstore-item-content-icon col-same-height",children:(0,b.jsx)("img",{src:t.logo.imageurl,alt:"",className:"app-icon"})}),(0,b.jsxs)("div",{className:"col-same-height",children:[(0,b.jsx)("h4",{className:"appstore-item-content-title",style:{marginTop:"5px"},children:t.trademark}),(0,b.jsx)("div",{children:(0,b.jsxs)("a",{rel:"noreferrer",href:"https://support.websoft9.com/docs/"+t.key,target:"_blank",style:{color:"#2196f3"},children:[t.trademark," ",N("developers")]})}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsxs)("span",{style:{marginRight:"5px"},children:[N("Version")," : "]})," ",D]}),(0,b.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,b.jsxs)("span",{style:{marginRight:"5px"},children:[N("Requires at least")," : ",t.vcpu," vCPU,  ",t.memory,"  GB memory, ",t.storage," GB storage"]})})]})]})}),(0,b.jsxs)(m.Z.Body,{children:[(0,b.jsxs)("div",{style:{display:k?"block":"none"},children:[(0,b.jsx)(h.Z,{activeIndex:d,onSelect:function(e,n){u(e)},style:{width:"80%",margin:"0 auto"},children:(t.screenshots||[]).map((function(e){return(0,b.jsx)(h.Z.Item,{children:(0,b.jsx)("img",{className:"d-block",src:null===e||void 0===e?void 0:e.value,alt:null===e||void 0===e?void 0:e.key,width:"100%",height:"300px"})},null===e||void 0===e?void 0:e.id)}))}),(0,b.jsxs)("div",{style:{padding:"10px"},children:[(0,b.jsx)("h4",{children:N("Overview")}),t.overview]}),(0,b.jsxs)("div",{style:{padding:"10px"},children:[(0,b.jsx)("h4",{children:N("Description")}),t.description]})]}),(0,b.jsx)("div",{style:{display:k?"none":"block"},children:(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("span",{style:{marginRight:"5px"},children:[N("Version")," :"]}),V&&(0,b.jsx)(y.Z,{name:"select",type:"select",className:"form-select",onChange:function(e){return n=e.target.value,void K(n);var n},children:(V||[]).map((function(e,n){return(0,b.jsx)("option",{value:e,children:e},e+n)}))},"select")]}),(0,b.jsxs)("div",{style:{marginTop:"5px"},children:[(0,b.jsxs)("span",{style:{marginRight:"5px"},children:[N("Name")," :"]}),(0,b.jsx)(y.Z,{type:"text",value:A,name:"app_Name",placeholder:N("Please enter a custom application name, which can only be a combination of numbers and lowercase letters."),onChange:function(e){!function(e){e?(O(!1),z("")):(O(!0),z(N("Please enter a custom application name")));var n=e.replace(/[^a-z0-9]/gi,"").toLowerCase();I(n)}(e.target.value)}})]}),(0,b.jsx)("div",{children:G&&(0,b.jsx)(v.Z,{variant:"danger",className:"my-2",children:T})})]})})]}),(0,b.jsxs)(m.Z.Footer,{children:[(0,b.jsx)(x.Z,{variant:"light",onClick:i,children:N("Close")})," ",(0,b.jsx)(x.Z,{disabled:H,variant:"primary",onClick:function(){return U.apply(this,arguments)},children:N("Install")})]})]})};n.default=function(){var e,n=(0,p.useState)(!1),t=(0,r.Z)(n,2),l=t[0],a=t[1],s=(0,p.useState)(null),i=(0,r.Z)(s,2),o=i[0],d=i[1],u=(0,p.useState)(null),m=(0,r.Z)(u,2),h=m[0],v=m[1],x=(0,p.useState)(null),Z=(0,r.Z)(x,2),C=Z[0],A=Z[1],I=(0,p.useState)("All"),P=(0,r.Z)(I,2),L=P[0],G=P[1],O=(0,p.useState)("All"),_=(0,r.Z)(O,2),M=_[0],T=_[1],z=(0,c.a)(S,{variables:{locale:"zh_CN"===w?"zh-CN":"en-US"}}),B=z.loading,E=z.error,H=z.data,R=null===H||void 0===H?void 0:H.catalog.linkedFrom.catalogCollection.items,U=null===H||void 0===H||null===(e=H.productCollection)||void 0===e?void 0:e.items,D=(0,p.useState)(U),V=(0,r.Z)(D,2),$=V[0],q=V[1];if((0,p.useEffect)((function(){q(U)}),[U]),B)return(0,b.jsx)(k.Z,{className:"dis_mid"});if(E)return(0,b.jsxs)("p",{children:["Error : $",E.message," "]});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(g.Z,{className:"mb-2",children:[(0,b.jsx)(f.Z,{sm:6,children:(0,b.jsxs)(j.Z.Group,{as:g.Z,children:[(0,b.jsx)(f.Z,{sm:6,children:(0,b.jsxs)(y.Z,{value:L,name:"select",type:"select",className:"form-select",onChange:function(e){return function(e){var n,t,l,a,s,r;s="All"===e?[]:null===(n=R.filter((function(n){return n.key===e})))||void 0===n||null===(t=n[0])||void 0===t||null===(l=t.linkedFrom)||void 0===l||null===(a=l.catalogCollection)||void 0===a?void 0:a.items,v(s),r=U.filter((function(n){var t;return null===n||void 0===n||null===(t=n.catalogCollection)||void 0===t?void 0:t.items.some((function(n){var t;return null===n||void 0===n||null===(t=n.catalogCollection)||void 0===t?void 0:t.items.some((function(n){return n.key===e}))}))})),q("All"===e?U:r),A(r),G(e)}(e.target.value)},children:[(0,b.jsx)("option",{value:"All",children:N("All")}),(R||[]).map((function(e,n){return(0,b.jsx)("option",{value:null===e||void 0===e?void 0:e.key,children:null===e||void 0===e?void 0:e.title},(null===e||void 0===e?void 0:e.key)+n)}))]},"select")}),(0,b.jsx)(f.Z,{sm:6,children:(0,b.jsxs)(y.Z,{value:M,name:"select",type:"select",className:"form-select",onChange:function(e){return function(e){var n;n="All"===e?C:U.filter((function(n){var t;return null===n||void 0===n||null===(t=n.catalogCollection)||void 0===t?void 0:t.items.some((function(n){return n.key===e}))})),q(n),T(e)}(e.target.value)},children:[(0,b.jsx)("option",{value:"All",children:N("All")}),(h||[]).map((function(e,n){return(0,b.jsx)("option",{value:null===e||void 0===e?void 0:e.key,children:null===e||void 0===e?void 0:e.title},(null===e||void 0===e?void 0:e.key)+n)}))]},"select")})]})}),(0,b.jsx)(f.Z,{sm:6,children:(0,b.jsx)(f.Z,{xs:"auto",children:(0,b.jsx)(y.Z,{type:"text",name:"search",placeholder:"Search for apps like WordPress, Dropbox, Slack, Trello, \u2026",onChange:function(e){return function(e){var n;n=""===e?U:U.filter((function(n){return n.trademark.toLowerCase().includes(e)||n.key.toLowerCase().includes(e)})),q(n),G("All"),T("All")}(e.target.value)}})})})]}),(0,b.jsx)(g.Z,{children:($||[]).map((function(e,n){return(0,b.jsx)(f.Z,{xxl:3,md:6,className:"appstore-item",children:(0,b.jsxs)("div",{className:"appstore-item-content highlight",onClick:function(){d(e),a(!0)},children:[(0,b.jsx)("div",{className:"appstore-item-content-icon col-same-height",children:(0,b.jsx)("img",{src:e.logo.imageurl,alt:"",className:"app-icon"})}),(0,b.jsxs)("div",{className:"col-same-height",children:[(0,b.jsx)("h4",{className:"appstore-item-content-title",children:e.trademark}),(0,b.jsx)("div",{className:"appstore-item-content-tagline text-muted",children:e.summary})]})]})},e.sys.id)}))}),l&&(0,b.jsx)(F,{product:o,showFlag:l,onClose:function(){a(!1),d(null)}})]})}}}]);