"use strict";(self.webpackChunkapps=self.webpackChunkapps||[]).push([[62],{6199:function(e,n,s){var a=s(45987),t=s(1413),r=s(29439),i=s(46123),l=s.n(i),o=s(47313),c=s(78864),d=s(67203),u=s(46417),p=["label","type","name","value","readOnly","placeholder","register","errors","className","labelClassName","containerClass","refCallback","children"],m=function(e){var n=e.name,s=e.placeholder,a=e.refCallback,i=e.errors,p=e.register,m=e.className,h=e.value,x=e.readOnly,f=(0,o.useState)(!1),j=(0,r.Z)(f,2),g=j[0],Z=j[1];return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(c.Z,{className:"mb-0",children:[(0,u.jsx)(d.Z.Control,(0,t.Z)((0,t.Z)({type:g?"text":"password",placeholder:s,name:n,id:n,as:"input",ref:function(e){a&&a(e)},className:m,isInvalid:!(!i||!i[n])},p?p(n):{}),{},{autoComplete:n,defaultValue:h,readOnly:x})),(0,u.jsx)("div",{className:l()("input-group-text","input-group-password",{"show-password":g}),"data-password":g?"true":"false",children:(0,u.jsx)("span",{className:"password-eye",onClick:function(){Z(!g)}})})]})})};n.Z=function(e){var n=e.label,s=e.type,r=e.name,i=e.value,l=e.readOnly,o=e.placeholder,c=e.register,h=e.errors,x=e.className,f=e.labelClassName,j=e.containerClass,g=e.refCallback,Z=e.children,b=(0,a.Z)(e,p),v="textarea"===s?"textarea":"select"===s?"select":"input";return(0,u.jsx)(u.Fragment,{children:"hidden"===s?(0,u.jsx)("input",(0,t.Z)((0,t.Z)({type:s,name:r},c?c(r):{}),b)):(0,u.jsx)(u.Fragment,{children:"password"===s?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(d.Z.Group,{className:j,children:[n?(0,u.jsxs)(u.Fragment,{children:[" ",(0,u.jsx)(d.Z.Label,{className:f,children:n})," ",Z," "]}):null,(0,u.jsx)(m,{name:r,placeholder:o,refCallback:g,errors:h,register:c,className:x,value:i,readOnly:l}),h&&h[r]?(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",className:"d-block",children:h[r].message}):null]})}):(0,u.jsx)(u.Fragment,{children:"select"===s?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(d.Z.Group,{className:j,children:[n?(0,u.jsx)(d.Z.Label,{className:f,children:n}):null,(0,u.jsx)(d.Z.Select,(0,t.Z)((0,t.Z)((0,t.Z)({type:s,label:n,name:r,id:r,ref:function(e){g&&g(e)},comp:v,className:x,isInvalid:!(!h||!h[r])},c?c(r):{}),b),{},{children:Z})),h&&h[r]?(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",children:h[r].message}):null]})}):(0,u.jsx)(u.Fragment,{children:"checkbox"===s||"radio"===s?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(d.Z.Group,{className:j,children:[(0,u.jsx)(d.Z.Check,(0,t.Z)((0,t.Z)({type:s,label:n,name:r,id:r,ref:function(e){g&&g(e)},className:x,isInvalid:!(!h||!h[r])},c?c(r):{}),b)),h&&h[r]?(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",children:h[r].message}):null]})}):(0,u.jsxs)(d.Z.Group,{className:j,children:[n?(0,u.jsx)(d.Z.Label,{className:f,children:n}):null,(0,u.jsx)(d.Z.Control,(0,t.Z)((0,t.Z)((0,t.Z)({type:s,placeholder:o,name:r,id:r,as:v,ref:function(e){g&&g(e)},className:x,isInvalid:!(!h||!h[r])},c?c(r):{}),b),{},{autoComplete:r,children:Z||null})),h&&h[r]?(0,u.jsx)(d.Z.Control.Feedback,{type:"invalid",children:h[r].message}):null]})})})})})}},8625:function(e,n,s){var a=s(4942),t=(s(47313),s(46123)),r=s.n(t),i=s(46417),l=function(e){var n=e.children||null,s=e.tag||"div",t=e.color||"secondary",l=e.size||"";return(0,i.jsx)(s,{role:"status",className:r()({"spinner-border":"bordered"===e.type,"spinner-grow":"grow"===e.type},["text-".concat(t)],(0,a.Z)({},"avatar-".concat(l),l),e.className),children:n})};l.defaultProps={tag:"div",type:"bordered"},n.Z=l},12404:function(e,n,s){s.d(n,{rl:function(){return o},u3:function(){return c},P3:function(){return p},pO:function(){return u},mx:function(){return d}});var a=s(43144),t=s(15671),r=s(56573),i=s(58467);s(46417);r.Z.defaults.headers.post["Content-Type"]="application/json",r.Z.defaults.headers.get["Content-Type"]="application/json",r.Z.defaults.headers={"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"},r.Z.interceptors.response.use((function(e){return e}),(function(e){var n;if(e&&e.response&&404===e.response.status)i.Fg;else{if(!e||!e.response||500!==e.response.status)return n=e.response&&e.response.data?e.response.data.message:e.message||e,Promise.reject(n);i.Fg}}));var l=new((0,a.Z)((function e(){(0,t.Z)(this,e),this.get=function(e,n){var s;if(n){var a=n?Object.keys(n).map((function(e){return e+"="+n[e]})).join("&"):"";s=r.Z.get("".concat(e,"?").concat(a),n)}else s=r.Z.get("".concat(e),n);return s},this.create=function(e,n){return r.Z.post(e,n)}})));function o(e){return l.get("".concat("/AppManage/AppInstall"),e)}function c(e){return l.get("".concat("/AppManage/AppList"),e)}function d(e){return l.get("".concat("/AppManage/AppUninstall"),e)}function u(e){return l.get("".concat("/AppManage/AppStop"),e)}function p(e){return l.get("".concat("/AppManage/AppStart"),e)}},28966:function(e,n,s){s.r(n),s.d(n,{default:function(){return G}});var a=s(74165),t=s(15861),r=s(29439),i=s(37346),l=s.n(i),o=s(47313),c=s(11435),d=s(6203),u=s(93298),p=s(63849),m=s(31616),h=s(58467),x=s.p+"static/media/default.50b14dd03b88a6d9022a.png",f=s(6199),j=s(8625),g=s(12404),Z=s(46123),b=s.n(Z),v=s(568),y=s(95668),N=s(93947),C=s(73765),w=s(2135),k=s(65832),S=s(67203),F=s.p+"static/media/admin-settings.9af1889bd84f9b64ecca.png",_=s(46417),A=function(e){(0,h.s0)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(k.Z,{children:(0,_.jsx)(k.Z.Body,{className:"profile-user-box",children:(0,_.jsxs)(p.Z,{children:[(0,_.jsx)(m.Z,{sm:8,children:(0,_.jsxs)(p.Z,{className:"align-items-center",children:[(0,_.jsx)(m.Z,{className:"col-auto",children:(0,_.jsx)("div",{className:"avatar-lg",children:(0,_.jsx)("img",{src:F,style:{height:"100px"},alt:"",className:"rounded-circle img-thumbnail"})})}),(0,_.jsx)(m.Z,{className:"avatar-lg",children:(0,_.jsx)("div",{children:(0,_.jsx)("h4",{className:"mt-1 mb-1",children:e.data.url})})})]})}),(0,_.jsx)(m.Z,{sm:4,style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(0,_.jsx)("div",{className:"text-center mt-sm-0 mt-3 text-sm-end",children:(0,_.jsxs)("button",{type:"button",className:"btn btn-light",onClick:function(){return window.open(e.data.url,"_blank")},children:[(0,_.jsx)("i",{className:"mdi mdi-account-edit me-1"}),"Go to"]})})})]})})}),(0,_.jsx)(k.Z,{style:{marginTop:"10px"},children:(0,_.jsx)(k.Z.Body,{className:"profile-user-box",children:(0,_.jsxs)(p.Z,{children:[(0,_.jsx)(m.Z,{sm:8,children:(0,_.jsxs)(p.Z,{className:"align-items-center",children:[(0,_.jsx)(m.Z,{className:"col-auto",children:(0,_.jsx)("div",{className:"avatar-lg",children:(0,_.jsx)("img",{src:F,style:{height:"100px"},alt:"",className:"rounded-circle img-thumbnail"})})}),(0,_.jsx)(m.Z,{className:"avatar-lg",children:(0,_.jsxs)("div",{children:[(0,_.jsxs)(S.Z.Group,{as:p.Z,className:"mb-3",children:[(0,_.jsx)(S.Z.Label,{htmlFor:"username",column:!0,md:3,children:"Username"}),(0,_.jsx)(m.Z,{md:9,children:(0,_.jsx)(S.Z.Control,{type:"text",name:"username",id:"username",defaultValue:e.data.user_name,readOnly:!0})})]}),(0,_.jsxs)(S.Z.Group,{as:p.Z,className:"mb-3",children:[(0,_.jsx)(S.Z.Label,{htmlFor:"password",column:!0,md:3,children:"Password"}),(0,_.jsx)(m.Z,{md:9,children:(0,_.jsx)(f.Z,{type:"password",name:"password",containerClass:"mb-3",value:e.data.password,readOnly:!0})})]})]})})]})}),(0,_.jsx)(m.Z,{sm:4,style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(0,_.jsx)("div",{className:"text-center mt-sm-0 mt-3 text-sm-end",children:(0,_.jsxs)("button",{type:"button",className:"btn btn-light",onClick:function(){return window.open(e.data.admin_url,"_blank")},children:[(0,_.jsx)("i",{className:"mdi mdi-account-edit me-1"})," Go to login"]})})})]})})})]})},E=s(20740),B=function(e){var n=(0,o.useState)(""),s=(0,r.Z)(n,2),a=s[0],t=s[1],i=(0,o.useRef)(null);(0,o.useEffect)((function(){i.current.scrollIntoView({behavior:"auto"})}),[]);var c=function(){l().spawn(["docker","compose","--project-name",e.projectName.customer_name,"logs","--tail","200"]).then((function(e){t(e)})).catch((function(e){}))};return(0,o.useEffect)((function(){var e=setInterval(c,1e3);return function(){return clearInterval(e)}}),[c]),(0,_.jsx)(E.ZP,{children:(0,_.jsxs)("div",{style:{height:"600px",width:"100%"},children:[(0,_.jsx)("pre",{style:{"white-space":"pre-wrap","word-wrap":"break-word"},children:a}),(0,_.jsx)("div",{ref:i})]})})},D=s(465),I=function(e){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(p.Z,{className:"mb-2",children:(0,_.jsxs)(m.Z,{sm:12,children:[(0,_.jsx)("label",{className:"me-1",style:{fontWeight:"bolder",marginBottom:"5px"},children:"Backups"}),(0,_.jsx)("p",{children:"Backups are complete snapshots of the app. You can use app backups to restore or clone this app."}),(0,_.jsx)(p.Z,{children:(0,_.jsx)(m.Z,{xs:12,children:(0,_.jsx)(k.Z,{children:(0,_.jsx)(k.Z.Body,{children:(0,_.jsxs)(D.Z,{className:"mb-0",children:[(0,_.jsx)("thead",{children:(0,_.jsxs)("tr",{children:[(0,_.jsx)("th",{children:"#"}),(0,_.jsx)("th",{children:"First Name"}),(0,_.jsx)("th",{children:"Last Name"}),(0,_.jsx)("th",{children:"Username"})]})}),(0,_.jsx)("tbody",{children:[{id:1,firstName:"Mark",lastName:"Otto",username:"@mdo"},{id:2,firstName:"Jacob",lastName:"Thornton",username:"@fat"},{id:3,firstName:"Dave",lastName:"G",username:"@dave"},{id:4,firstName:"Nik",lastName:"N",username:"@nikn"},{id:5,firstName:"Shreyu",lastName:"Navadiya",username:"@sn"}].map((function(e,n){return(0,_.jsxs)("tr",{children:[(0,_.jsx)("th",{scope:"row",children:e.id}),(0,_.jsx)("td",{children:e.firstName}),(0,_.jsx)("td",{children:e.lastName}),(0,_.jsx)("td",{children:e.username})]},n)}))})]})})})})}),(0,_.jsx)(u.Z,{variant:"primary",style:{float:"right"},children:"Create Backup"})]})}),(0,_.jsx)("hr",{}),(0,_.jsx)(p.Z,{className:"mb-2",children:(0,_.jsxs)(m.Z,{sm:12,children:[(0,_.jsx)("label",{className:"me-1",style:{fontWeight:"bolder",marginBottom:"5px"},children:"Automatic Backups"}),(0,_.jsx)("p",{children:"Cloudron periodically creates a backup based on the backup settings."}),(0,_.jsx)("p",{children:"Automatic Backups is currently enabled."}),(0,_.jsx)(u.Z,{variant:"primary",style:{float:"right"},children:"Enable Automatic Backups"})]})})]})},M=function(e){var n=(0,h.s0)(),s=(0,o.useState)(!1),i=(0,r.Z)(s,2),l=i[0],p=i[1],m=(0,o.useState)(!1),x=(0,r.Z)(m,2),f=x[0],Z=x[1],b=(0,o.useState)(""),v=(0,r.Z)(b,2),y=v[0],N=v[1];return(0,_.jsxs)(c.Z,{show:e.showConform,onHide:e.onClose,size:"lg",scrollable:"true",backdrop:"static",style:{backgroundColor:"rgba(0,0,0,0.8)"},children:[(0,_.jsx)(c.Z.Header,{onHide:e.onClose,closeButton:!0,style:{border:"none"},children:(0,_.jsxs)("h4",{children:["Uninstall ",e.app.customer_name]})}),(0,_.jsxs)(c.Z.Body,{className:"row",children:[(0,_.jsxs)("span",{style:{margin:"10px 0px"},children:["This will immediately uninstall ",e.app.customer_name," and remove all its data."]}),(0,_.jsx)("div",{children:f&&(0,_.jsx)(d.Z,{variant:"danger",className:"my-2",children:y})})]}),(0,_.jsxs)(c.Z.Footer,{style:{border:"none"},children:[(0,_.jsx)(u.Z,{variant:"light",onClick:e.onClose,children:"Close"})," ",(0,_.jsxs)(u.Z,{disabled:l,variant:"warning",onClick:(0,t.Z)((0,a.Z)().mark((function s(){var t;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,p(!0),s.next=4,(0,g.mx)({app_id:e.app.app_id});case 4:(t=s.sent).data.Error?(Z(!0),N(t.data.Error.Message)):(e.onClose(),e.onCloseFatherModal(),e.onDataChange()),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),n("/error-500");case 11:case"end":return s.stop()}}),s,null,[[0,8]])}))),children:[l&&(0,_.jsx)(j.Z,{className:"spinner-border-sm me-1",tag:"span",color:"white"})," Uninstall"]})]})]})},q=function(e){var n=(0,o.useState)(!1),s=(0,r.Z)(n,2),i=s[0],l=s[1],c=(0,o.useState)(!1),d=(0,r.Z)(c,2),x=d[0],f=d[1],Z=(0,h.s0)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(p.Z,{className:"mb-2",children:(0,_.jsxs)(m.Z,{sm:12,children:[(0,_.jsx)("label",{className:"me-1",style:{fontWeight:"bolder",marginBottom:"5px"},children:"Start / Stop"}),(0,_.jsx)("p",{children:"Apps can be stopped to conserve server resources instead of uninstalling. Future app backups will not include any app changes between now and the most recent app backup. For this reason, it is recommended to trigger a backup before stopping the app."}),"running"===e.data.status?(0,_.jsxs)(u.Z,{variant:"secondary",style:{float:"right"},disabled:x,onClick:(0,t.Z)((0,a.Z)().mark((function n(){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,f(!0),n.next=4,(0,g.pO)({app_id:e.data.app_id});case 4:n.sent.data.Error?Z("/error"):(f(!1),e.onDataChange(e.data.app_id)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Z("/error-500");case 11:case"end":return n.stop()}}),n,null,[[0,8]])}))),children:[x&&(0,_.jsx)(j.Z,{className:"spinner-border-sm me-1",tag:"span",color:"white"})," Stop App"]}):(0,_.jsxs)(u.Z,{variant:"primary",style:{float:"right"},disabled:x,onClick:(0,t.Z)((0,a.Z)().mark((function n(){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!0),n.prev=1,n.next=4,(0,g.P3)({app_id:e.data.app_id});case 4:n.sent.data.Error?Z("/error"):(f(!1),e.onDataChange(e.data.app_id)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),Z("/error-500");case 11:case"end":return n.stop()}}),n,null,[[1,8]])}))),children:[x&&(0,_.jsx)(j.Z,{className:"spinner-border-sm me-1",tag:"span",color:"white"})," Start App"]})]})}),(0,_.jsx)("hr",{}),(0,_.jsx)(p.Z,{className:"mb-2",children:(0,_.jsxs)(m.Z,{sm:12,children:[(0,_.jsx)("label",{className:"me-1",style:{fontWeight:"bolder",marginBottom:"5px"},children:"Uninstall"}),(0,_.jsx)("p",{children:"This will uninstall the app immediately and remove all its data. The app will be inaccessible. App backups are not removed and will be cleaned up based on the backup policy. You can resurrect this app from an existing app backup using the following instructions."}),(0,_.jsx)(u.Z,{variant:"warning",style:{float:"right"},onClick:function(){l(!0)},children:"Uninstall"})]})}),i&&(0,_.jsx)(M,{showConform:i,onClose:function(){l(!1)},app:e.data,onDataChange:e.onDataChange,onCloseFatherModal:e.onCloseFatherModal})]})},T=l().gettext,R=function(e){var n=(0,o.useState)(e.current_app),s=(0,r.Z)(n,2),a=s[0],t=s[1];(0,h.s0)();(0,o.useEffect)((function(){t(e.current_app)}),[e.current_app]);var i=[{id:"1",title:T("Domain"),icon:"mdi mdi-home-variant",text:"Home - Food truck quinoa dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim."},{id:"2",title:T("Account"),icon:"mdi mdi-account-circle",text:(0,_.jsx)(A,{data:a})},{id:"3",title:T("Backups"),icon:"mdi mdi-account-circle",text:(0,_.jsx)(I,{data:a})},{id:"4",title:T("Updates"),icon:"mdi mdi-account-circle",text:"Profile - Food truck quinoa dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim."},{id:"5",title:T("Logs"),icon:"mdi mdi-account-circle",text:(0,_.jsx)(B,{projectName:a})},{id:"6",title:T("Uninstall"),icon:"mdi mdi-cog-outline",text:(0,_.jsx)(q,{data:a,onDataChange:e.onDataChange,onCloseFatherModal:e.onClose})}];return a&&(0,_.jsxs)(c.Z,{show:e.showFlag,onHide:e.onClose,size:"lg",scrollable:"true",dialogClassName:"modal-full-width",children:[(0,_.jsx)(c.Z.Header,{onHide:e.onClose,closeButton:!0,children:(0,_.jsxs)("div",{style:{padding:"10px",display:"flex",width:"100%",alignItems:"center"},children:[(0,_.jsx)("div",{className:"appstore-item-content-icon col-same-height",children:(0,_.jsx)("img",{src:a.image_url,alt:"",className:"app-icon",onError:function(e){return e.target.src=x}})}),(0,_.jsxs)("div",{className:"col-same-height",children:[(0,_.jsx)("h4",{className:"appstore-item-content-title",style:{marginTop:"5px"},children:a.customer_name}),(0,_.jsx)("h5",{className:"appstore-item-content-title",style:{marginTop:"5px"},children:a.status})]}),(0,_.jsxs)("div",{className:"col-same-height",style:{flexGrow:1,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:["exited"===a.status?(0,_.jsx)(v.Z,{placement:"bottom",overlay:(0,_.jsx)(y.Z,{id:"tooltip-bottom",children:"Start App"}),children:(0,_.jsxs)("button",{className:"nav-link dropdown-toggle end-bar-toggle arrow-none btn btn-link shadow-none",style:{color:"#fff",backgroundColor:"#2196f3",padding:"5px 10px",borderRadius:"3px",borderColor:"#2196f3",marginRight:"10px"},children:[(0,_.jsx)("i",{className:"dripicons-media-play noti-icon"})," "]})},"bottom1"):(0,_.jsx)(v.Z,{placement:"bottom",overlay:(0,_.jsx)(y.Z,{id:"tooltip-bottom",children:"Stop App"}),children:(0,_.jsxs)("button",{className:"nav-link dropdown-toggle end-bar-toggle arrow-none btn btn-link shadow-none",style:{color:"#fff",backgroundColor:"#2196f3",padding:"5px 10px",borderRadius:"3px",borderColor:"#2196f3",marginRight:"10px"},children:[(0,_.jsx)("i",{className:"dripicons-media-stop noti-icon"})," "]})},"bottom2"),(0,_.jsx)(v.Z,{placement:"bottom",overlay:(0,_.jsx)(y.Z,{id:"tooltip-bottom",children:"Restart App"}),children:(0,_.jsxs)("button",{className:"nav-link dropdown-toggle end-bar-toggle arrow-none btn btn-link shadow-none",style:{color:"#fff",backgroundColor:"#2196f3",padding:"5px 10px",borderRadius:"3px",borderColor:"#2196f3",marginRight:"10px"},children:[(0,_.jsx)("i",{className:"dripicons-clockwise noti-icon"})," "]})},"bottom3")]})]})}),(0,_.jsx)(c.Z.Body,{className:"row",children:(0,_.jsxs)(N.Z.Container,{defaultActiveKey:"Domain",children:[(0,_.jsx)(m.Z,{sm:2,className:"mb-2 mb-sm-0",children:(0,_.jsx)(C.Z,{variant:"pills",className:"flex-column",children:i.map((function(e,n){var s=function(){return(0,_.jsx)(C.Z.Item,{children:(0,_.jsxs)(C.Z.Link,{as:w.rU,to:"#",eventKey:e.title,children:[(0,_.jsx)("i",{className:b()(e.icon,"d-md-none","d-block","me-1")}),(0,_.jsx)("span",{className:"d-none d-md-block",children:e.title})]})},n)};return"Terminal"!==e.title||"running"===a.status?s():void 0}))})}),(0,_.jsx)(m.Z,{sm:10,children:(0,_.jsx)(N.Z.Content,{style:{height:"100%"},children:i.map((function(e,n){return(0,_.jsx)(N.Z.Pane,{eventKey:e.title,id:e.id,style:{height:"100%"},children:(0,_.jsx)(p.Z,{style:{height:"100%"},children:(0,_.jsx)(m.Z,{sm:"12",style:{height:"Terminal"===e.title?"600px":""},children:e.text})})},n)}))})})]})})]})},O=l().gettext,U=function(e){var n=(0,h.s0)(),s=(0,o.useState)(!1),i=(0,r.Z)(s,2),l=i[0],p=i[1],m=(0,o.useState)(!1),x=(0,r.Z)(m,2),f=x[0],Z=x[1],b=(0,o.useState)(""),v=(0,r.Z)(b,2),y=v[0],N=v[1];return(0,_.jsxs)(c.Z,{show:e.showConform,onHide:e.onClose,size:"lg",scrollable:"true",backdrop:"static",children:[(0,_.jsx)(c.Z.Header,{onHide:e.onClose,closeButton:!0,style:{border:"none"},children:(0,_.jsxs)("h4",{children:["Remove ",e.app.customer_name]})}),(0,_.jsxs)(c.Z.Body,{className:"row",children:[(0,_.jsxs)("span",{style:{margin:"10px 0px"},children:["This will immediately remove ",e.app.customer_name]}),(0,_.jsx)("div",{children:f&&(0,_.jsx)(d.Z,{variant:"danger",className:"my-2",children:y})})]}),(0,_.jsxs)(c.Z.Footer,{style:{border:"none"},children:[(0,_.jsx)(u.Z,{variant:"light",onClick:e.onClose,children:"Close"})," ",(0,_.jsxs)(u.Z,{disabled:l,variant:"warning",onClick:(0,t.Z)((0,a.Z)().mark((function s(){var t;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,p(!0),s.next=4,(0,g.mx)({app_id:e.app.app_id});case 4:(t=s.sent).data.Error?(Z(!0),N(t.data.Error.Message)):(e.onClose(),e.onDataChange()),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),n("/error-500");case 11:case"end":return s.stop()}}),s,null,[[0,8]])}))),children:[l&&(0,_.jsx)(j.Z,{className:"spinner-border-sm me-1",tag:"span",color:"white"})," Uninstall"]})]})]})},G=function(){var e,n=(0,o.useState)(!1),s=(0,r.Z)(n,2),a=s[0],t=s[1],i=(0,o.useState)(!1),l=(0,r.Z)(i,2),c=l[0],d=l[1],Z=(0,o.useState)(!1),b=(0,r.Z)(Z,2),v=(b[0],b[1],(0,o.useState)(null)),y=(0,r.Z)(v,2),N=y[0],C=y[1],w=(0,o.useState)([]),k=(0,r.Z)(w,2),S=k[0],F=k[1],A=(0,o.useState)([]),E=(0,r.Z)(A,2),B=(E[0],E[1],(0,o.useState)("")),D=(0,r.Z)(B,2),I=D[0],M=D[1],q=(0,o.useState)("all"),T=(0,r.Z)(q,2),G=T[0],H=T[1],P=(0,o.useState)([]),L=(0,r.Z)(P,2),W=(L[0],L[1],(0,o.useRef)(N)),z=(0,o.useState)(0),K=(0,r.Z)(z,2),V=K[0],Y=K[1],$=(0,o.useState)(null),J=(0,r.Z)($,2),Q=J[0],X=J[1],ee=(0,o.useState)(null),ne=(0,r.Z)(ee,2),se=(ne[0],ne[1]),ae=(0,o.useState)(!1),te=(0,r.Z)(ae,2),re=te[0],ie=te[1],le=function(){(0,g.u3)().then((function(e){if(e.data.Error)Y(e.data.Error.Code),X(e.data.Error.Message),se(e.data.Error.Details);else{var n=e.data.ResponseData;if(F(n),W.current){var s=n.find((function(e){return e.app_id===W.current.app_id}));C(s)}}ie(!1)})).catch((function(e){h.Fg}))};if((0,o.useEffect)((function(){le()}),[]),(0,o.useEffect)((function(){ie(!0),e=setInterval((function(){(0,g.u3)().then((function(e){if(e.data.Error)Y(e.data.Error.Code),X(e.data.Error.Message),se(e.data.Error.Details);else{var n=e.data.ResponseData;if(F(n),W.current){var s=n.find((function(e){return e.app_id===W.current.app_id}));C(s)}}ie(!1)})).catch((function(e){h.Fg}))}),5e3)}),[]),(0,o.useEffect)((function(){W.current=N}),[N]),(0,o.useEffect)((function(){return function(){return clearInterval(e)}}),[]),re)return(0,_.jsx)(j.Z,{className:"dis_mid"});if(V)return(0,_.jsxs)("p",{children:["Code : $",V," "]});if(Q)return(0,_.jsxs)("p",{children:["Error : $",Q," "]});var oe=function(){le()};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(p.Z,{className:"mb-2",style:{display:"flex",alignItems:"center"},children:[(0,_.jsx)(m.Z,{sm:2,children:(0,_.jsx)("span",{style:{fontSize:"36px"},children:O("My Apps")})}),(0,_.jsx)(m.Z,{sm:3,children:(0,_.jsxs)(f.Z,{value:G,name:"select",type:"select",className:"form-select",onChange:function(e){return function(e){H(e)}(e.target.value)},children:[(0,_.jsx)("option",{value:"all",children:O("All States")}),(0,_.jsx)("option",{value:"installing",children:"installing"}),(0,_.jsx)("option",{value:"running",children:"running"}),(0,_.jsx)("option",{value:"exited",children:"exited"}),(0,_.jsx)("option",{value:"restarting",children:"restarting"}),(0,_.jsx)("option",{value:"failed",children:"failed"})]},"select")}),(0,_.jsx)(m.Z,{sm:6,children:(0,_.jsx)(m.Z,{xs:"auto",children:(0,_.jsx)(f.Z,{type:"text",name:"search",placeholder:"Search for apps like WordPress, Dropbox, Slack, Trello, \u2026",onChange:function(e){return function(e){M(e)}(e.target.value)}})})}),(0,_.jsx)(m.Z,{sm:1,children:(0,_.jsx)(u.Z,{variant:"primary",style:{float:"right"},onClick:function(){window.location.reload(!1)},children:O("Refresh")})})]}),[!0,!1].map((function(e){var n=S.filter((function(e){return"all"===G||e.status===G})).filter((function(n){return n.official_app===e})).filter((function(e){return e.customer_name.includes(I)}));return n.length>0?(0,_.jsxs)(p.Z,{children:[(0,_.jsx)("h4",{style:e?{}:{paddingTop:"10px"},children:O(e?"Websoft9's Apps":"Other Apps")}),n.map((function(e,n){return(0,_.jsx)(m.Z,{xxl:2,md:6,className:"appstore-item",children:(0,_.jsxs)("div",{className:"appstore-item-content highlight",style:{textAlign:"center"},children:[("running"===e.status||"exited"===e.status)&&(0,_.jsx)("div",{className:"float-end arrow-none card-drop p-0",onClick:function(){!function(e){"running"===e.status||"exited"===e.status?(C(e),t(!0)):"failed"===e.status&&C(e)}(e)},children:(0,_.jsx)("i",{className:"dripicons-gear noti-icon"})}),"failed"===e.status&&(0,_.jsx)("div",{className:"float-end arrow-none card-drop p-0",onClick:function(){!function(e){C(e),d(!0)}(e)},children:(0,_.jsx)("i",{className:"dripicons-trash noti-icon"})}),(0,_.jsx)("div",{children:(0,_.jsx)("img",{src:e.image_url,alt:e.app_name,className:"app-icon",style:{margin:"30px 10px 30px 10px"},onError:function(e){return e.target.src=x}})}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h3",{className:"appstore-item-content-title",style:{color:"#2196f3"},children:e.customer_name}),(0,_.jsxs)("div",{style:{color:"failed"===e.status?"red":"inherit",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.status&&"installing"===e.status&&(0,_.jsx)(j.Z,{className:"spinner-border-sm m-2"})," ",(0,_.jsx)("div",{className:"m-2",children:e.status})]})]})]})},e.app_id+n)}))]}):null})),a&&(0,_.jsx)(R,{current_app:N,showFlag:a,onClose:function(){t(!1),C(null)},onDataChange:oe}),c&&(0,_.jsx)(U,{showConform:c,onClose:function(){d(!1)},app:N,onDataChange:oe})]})}}}]);