"use strict";(self.webpackChunkappstore=self.webpackChunkappstore||[]).push([[912],{7430:function(e,t,n){n(2791);t.Z=n.p+"static/media/logo.21467f3ddba355981c892c73331678c6.svg"},5665:function(e,t,n){n(2791);t.Z=n.p+"static/media/websoft9.a364f73ed04449bcc81e97399dc8e8de.svg"},165:function(e,t,n){n.d(t,{r:function(){return h},f:function(){return m}});var r,s=n(4165),a=n(3144),o=n(5671),c=n(5861),i=n(1243),l=n(7689);n(184);function u(){return p.apply(this,arguments)}function p(){return(p=(0,c.Z)((0,s.Z)().mark((function e(){var t,n,a,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=10;break}return e.next=3,fetch("../myapps/config.json");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a=n.APPMANAGE.APPMANAGE_USERNAME,o=n.APPMANAGE.APPMANAGE_PASSWORD,r=btoa(a+":"+o);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.Z.defaults.headers.post["Content-Type"]="application/json",i.Z.defaults.headers.get["Content-Type"]="application/json",i.Z.defaults.headers.common["Cache-Control"]="no-cache",i.Z.defaults.headers.common.Pragma="no-cache",i.Z.defaults.headers.common.Expires="0",i.Z.interceptors.response.use((function(e){return e}),(function(e){var t;if(e&&e.response&&404===e.response.status)l.Fg;else{if(!e||!e.response||500!==e.response.status)return t=e.response&&e.response.data?e.response.data.message:e.message||e,Promise.reject(t);l.Fg}}));var d=(0,a.Z)((function e(){(0,o.Z)(this,e),this.get=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return e.t0=e.sent,i.Z.defaults.headers.common.Authorization="Basic "+e.t0,n?(a=n?Object.keys(n).map((function(e){return e+"="+n[e]})).join("&"):"",r=i.Z.get("".concat(t,"?").concat(a),n)):r=i.Z.get("".concat(t),n),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.create=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return e.t0=e.sent,i.Z.defaults.headers.common.Authorization="Basic "+e.t0,e.abrupt("return",i.Z.post(t,n));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),f=new d;function h(e){return f.get("".concat("/AppManage/AppInstall"),e)}function m(e){return f.get("".concat("/AppManage/AppStoreUpdate"),e)}},5912:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(4165),s=n(5861),a=n(9439),o=n(1413),c=n(5200),i=n(1694),l=n.n(i),u=n(7346),p=n.n(u),d=n(2791),f=n(2869),h=n(3360),m=n(4849),g=n(7689),x=n(1087),Z=n(165),v=n(954);var j=n.p+"static/media/logo-sm.53b8ca70620b0b2968874a3660f195dd.svg",b=n(7430),w=n(5665),y=n(184),A=p().gettext,k=p().language,C=d.forwardRef((function(e,t){return(0,y.jsx)(c.Z,(0,o.Z)({elevation:6,ref:t,variant:"filled"},e))})),N=function(e){var t=e.hideLogo,n=e.navCssClasses,o=(e.openLeftMenuCallBack,e.topbarDark,n||""),c=t?"":"container-fluid",i=(0,d.useState)(""),u=(0,a.Z)(i,2),p=u[0],N=u[1],S=(0,d.useState)(!1),P=(0,a.Z)(S,2),E=P[0],M=P[1],z=(0,d.useState)(""),B=(0,a.Z)(z,2),U=B[0],D=B[1],H=(0,d.useState)(!1),_=(0,a.Z)(H,2),F=_[0],G=_[1],L=(0,d.useState)(!1),R=(0,a.Z)(L,2),T=R[0],I=R[1],O=(0,d.useState)(!1),W=(0,a.Z)(O,2),q=W[0],J=W[1],K=(0,d.useState)(!1),Q=(0,a.Z)(K,2),V=Q[0],X=Q[1],Y=(0,g.s0)(),$=function(){X(!V),window.location.reload(!1)},ee=function(e,t){"clickaway"!==t&&(M(!1),N(""))};function te(){return(te=(0,s.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),M(!1),I(!0),J(!0),e.prev=4,e.next=7,(0,Z.f)();case 7:(t=e.sent).data.Error?(M(!0),D("error"),N(t.data.Error.Message)):(n=t.data.ResponseData.Update_content)?(X(!0),N(n)):(M(!0),D("success"),N(A("The app store is already the latest version"))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),Y("/error-500");case 14:return e.prev=14,I(!1),G(!1),J(!1),e.finish(14);case 19:case"end":return e.stop()}}),e,null,[[4,11,14,19]])})))).apply(this,arguments)}return(0,y.jsxs)(y.Fragment,{children:[F&&(0,y.jsx)("div",{className:"card-disabled",style:{zIndex:999},children:(0,y.jsx)(m.Z,{className:"dis_mid",style:{marginTop:"200px"}})}),(0,y.jsx)("div",{className:l()("navbar-custom",o),style:{pointerEvents:q?"none":"auto"},children:(0,y.jsxs)("div",{className:c,children:[!t&&(0,y.jsxs)(x.rU,{to:"/",className:"topnav-logo",children:[(0,y.jsx)("span",{className:"topnav-logo-lg",children:"zh_CN"===k?(0,y.jsx)("img",{src:b.Z,alt:"logo",width:"99"}):(0,y.jsx)("img",{src:w.Z,alt:"logo",width:"99"})}),(0,y.jsx)("span",{className:"topnav-logo-sm",children:(0,y.jsx)("img",{src:j,alt:"logo",width:"24px",height:"24"})})]}),(0,y.jsx)("ul",{style:{display:"flex",justifyContent:"flex-end",flexDirection:"row",alignItems:"center",minHeight:"70px",fontSize:"16px",listStyle:"none",marginBottom:"0px"},children:(0,y.jsx)("li",{children:(0,y.jsx)("button",{onClick:function(){return te.apply(this,arguments)},disabled:T,className:"nav-link dropdown-toggle end-bar-toggle arrow-none btn btn-link shadow-none",style:{color:"#428bca",fontSize:"16px"},children:A("Update Application List")})})})]})}),E&&(0,y.jsx)(v.Z,{open:E,autoHideDuration:3e3,onClose:ee,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,y.jsx)(C,{onClose:ee,severity:U,sx:{width:"100%"},children:p})}),V&&(0,y.jsxs)(f.Z,{show:V,onHide:$,size:"lg",scrollable:"true",backdrop:"static",children:[(0,y.jsx)(f.Z.Header,{onHide:$,closeButton:!0,className:l()("modal-colored-header","bg-primary"),children:(0,y.jsxs)("h4",{children:[A("App Store")," ",A("Update Log")]})}),(0,y.jsx)(f.Z.Body,{className:"row",children:p.map((function(e,t){return(0,y.jsxs)("p",{children:[t+1," : ",e]},t)}))}),(0,y.jsx)(f.Z.Footer,{children:(0,y.jsx)(h.Z,{variant:"primary",onClick:$,children:A("Close")})})]})]})}}}]);
//# sourceMappingURL=912.3c7e5556.chunk.js.map